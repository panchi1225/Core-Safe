(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=s(c);fetch(c.href,u)}})();function N0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Qf={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function f1(){if(Hy)return Xl;Hy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(i,c,u){var m=null;if(u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),"key"in c){u={};for(var x in c)x!=="key"&&(u[x]=c[x])}else u=c;return c=u.ref,{$$typeof:r,type:i,key:m,ref:c!==void 0?c:null,props:u}}return Xl.Fragment=t,Xl.jsx=s,Xl.jsxs=s,Xl}var Gy;function d1(){return Gy||(Gy=1,Qf.exports=f1()),Qf.exports}var o=d1(),Kf={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function m1(){if(Fy)return Ue;Fy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function U(C){return C===null||typeof C!="object"?null:(C=T&&C[T]||C["@@iterator"],typeof C=="function"?C:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,B={};function me(C,Y,ue){this.props=C,this.context=Y,this.refs=B,this.updater=ue||P}me.prototype.isReactComponent={},me.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},me.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function de(){}de.prototype=me.prototype;function te(C,Y,ue){this.props=C,this.context=Y,this.refs=B,this.updater=ue||P}var ce=te.prototype=new de;ce.constructor=te,Z(ce,me.prototype),ce.isPureReactComponent=!0;var Se=Array.isArray;function je(){}var M={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(C,Y,ue){var ge=ue.ref;return{$$typeof:r,type:C,key:Y,ref:ge!==void 0?ge:null,props:ue}}function O(C,Y){return R(C.type,Y,C.props)}function j(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function D(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ue){return Y[ue]})}var S=/\/+/g;function be(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):Y.toString(36)}function ye(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(je,je):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function F(C,Y,ue,ge,oe){var we=typeof C;(we==="undefined"||we==="boolean")&&(C=null);var Ve=!1;if(C===null)Ve=!0;else switch(we){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(C.$$typeof){case r:case t:Ve=!0;break;case v:return Ve=C._init,F(Ve(C._payload),Y,ue,ge,oe)}}if(Ve)return oe=oe(C),Ve=ge===""?"."+be(C,0):ge,Se(oe)?(ue="",Ve!=null&&(ue=Ve.replace(S,"$&/")+"/"),F(oe,Y,ue,"",function(xt){return xt})):oe!=null&&(j(oe)&&(oe=O(oe,ue+(oe.key==null||C&&C.key===oe.key?"":(""+oe.key).replace(S,"$&/")+"/")+Ve)),Y.push(oe)),1;Ve=0;var Fe=ge===""?".":ge+":";if(Se(C))for(var Te=0;Te<C.length;Te++)ge=C[Te],we=Fe+be(ge,Te),Ve+=F(ge,Y,ue,we,oe);else if(Te=U(C),typeof Te=="function")for(C=Te.call(C),Te=0;!(ge=C.next()).done;)ge=ge.value,we=Fe+be(ge,Te++),Ve+=F(ge,Y,ue,we,oe);else if(we==="object"){if(typeof C.then=="function")return F(ye(C),Y,ue,ge,oe);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function Q(C,Y,ue){if(C==null)return C;var ge=[],oe=0;return F(C,ge,"","",function(we){return Y.call(ue,we,oe++)}),ge}function he(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(ue){(C._status===0||C._status===-1)&&(C._status=1,C._result=ue)},function(ue){(C._status===0||C._status===-1)&&(C._status=2,C._result=ue)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var xe=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Pe={map:Q,forEach:function(C,Y,ue){Q(C,function(){Y.apply(this,arguments)},ue)},count:function(C){var Y=0;return Q(C,function(){Y++}),Y},toArray:function(C){return Q(C,function(Y){return Y})||[]},only:function(C){if(!j(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Ue.Activity=E,Ue.Children=Pe,Ue.Component=me,Ue.Fragment=s,Ue.Profiler=c,Ue.PureComponent=te,Ue.StrictMode=i,Ue.Suspense=p,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(C){return M.H.useMemoCache(C)}},Ue.cache=function(C){return function(){return C.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(C,Y,ue){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ge=Z({},C.props),oe=C.key;if(Y!=null)for(we in Y.key!==void 0&&(oe=""+Y.key),Y)!A.call(Y,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Y.ref===void 0||(ge[we]=Y[we]);var we=arguments.length-2;if(we===1)ge.children=ue;else if(1<we){for(var Ve=Array(we),Fe=0;Fe<we;Fe++)Ve[Fe]=arguments[Fe+2];ge.children=Ve}return R(C.type,oe,ge)},Ue.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Ue.createElement=function(C,Y,ue){var ge,oe={},we=null;if(Y!=null)for(ge in Y.key!==void 0&&(we=""+Y.key),Y)A.call(Y,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(oe[ge]=Y[ge]);var Ve=arguments.length-2;if(Ve===1)oe.children=ue;else if(1<Ve){for(var Fe=Array(Ve),Te=0;Te<Ve;Te++)Fe[Te]=arguments[Te+2];oe.children=Fe}if(C&&C.defaultProps)for(ge in Ve=C.defaultProps,Ve)oe[ge]===void 0&&(oe[ge]=Ve[ge]);return R(C,we,oe)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(C){return{$$typeof:x,render:C}},Ue.isValidElement=j,Ue.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:he}},Ue.memo=function(C,Y){return{$$typeof:g,type:C,compare:Y===void 0?null:Y}},Ue.startTransition=function(C){var Y=M.T,ue={};M.T=ue;try{var ge=C(),oe=M.S;oe!==null&&oe(ue,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(je,xe)}catch(we){xe(we)}finally{Y!==null&&ue.types!==null&&(Y.types=ue.types),M.T=Y}},Ue.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ue.use=function(C){return M.H.use(C)},Ue.useActionState=function(C,Y,ue){return M.H.useActionState(C,Y,ue)},Ue.useCallback=function(C,Y){return M.H.useCallback(C,Y)},Ue.useContext=function(C){return M.H.useContext(C)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(C,Y){return M.H.useDeferredValue(C,Y)},Ue.useEffect=function(C,Y){return M.H.useEffect(C,Y)},Ue.useEffectEvent=function(C){return M.H.useEffectEvent(C)},Ue.useId=function(){return M.H.useId()},Ue.useImperativeHandle=function(C,Y,ue){return M.H.useImperativeHandle(C,Y,ue)},Ue.useInsertionEffect=function(C,Y){return M.H.useInsertionEffect(C,Y)},Ue.useLayoutEffect=function(C,Y){return M.H.useLayoutEffect(C,Y)},Ue.useMemo=function(C,Y){return M.H.useMemo(C,Y)},Ue.useOptimistic=function(C,Y){return M.H.useOptimistic(C,Y)},Ue.useReducer=function(C,Y,ue){return M.H.useReducer(C,Y,ue)},Ue.useRef=function(C){return M.H.useRef(C)},Ue.useState=function(C){return M.H.useState(C)},Ue.useSyncExternalStore=function(C,Y,ue){return M.H.useSyncExternalStore(C,Y,ue)},Ue.useTransition=function(){return M.H.useTransition()},Ue.version="19.2.4",Ue}var $y;function kd(){return $y||($y=1,Kf.exports=m1()),Kf.exports}var W=kd();const Dt=N0(W);var Xf={exports:{}},Zl={},Zf={exports:{}},Jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function g1(){return Yy||(Yy=1,(function(r){function t(F,Q){var he=F.length;F.push(Q);e:for(;0<he;){var xe=he-1>>>1,Pe=F[xe];if(0<c(Pe,Q))F[xe]=Q,F[he]=Pe,he=xe;else break e}}function s(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Q=F[0],he=F.pop();if(he!==Q){F[0]=he;e:for(var xe=0,Pe=F.length,C=Pe>>>1;xe<C;){var Y=2*(xe+1)-1,ue=F[Y],ge=Y+1,oe=F[ge];if(0>c(ue,he))ge<Pe&&0>c(oe,ue)?(F[xe]=oe,F[ge]=he,xe=ge):(F[xe]=ue,F[Y]=he,xe=Y);else if(ge<Pe&&0>c(oe,he))F[xe]=oe,F[ge]=he,xe=ge;else break e}}return Q}function c(F,Q){var he=F.sortIndex-Q.sortIndex;return he!==0?he:F.id-Q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var m=Date,x=m.now();r.unstable_now=function(){return m.now()-x}}var p=[],g=[],v=1,E=null,T=3,U=!1,P=!1,Z=!1,B=!1,me=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ce(F){for(var Q=s(g);Q!==null;){if(Q.callback===null)i(g);else if(Q.startTime<=F)i(g),Q.sortIndex=Q.expirationTime,t(p,Q);else break;Q=s(g)}}function Se(F){if(Z=!1,ce(F),!P)if(s(p)!==null)P=!0,je||(je=!0,D());else{var Q=s(g);Q!==null&&ye(Se,Q.startTime-F)}}var je=!1,M=-1,A=5,R=-1;function O(){return B?!0:!(r.unstable_now()-R<A)}function j(){if(B=!1,je){var F=r.unstable_now();R=F;var Q=!0;try{e:{P=!1,Z&&(Z=!1,de(M),M=-1),U=!0;var he=T;try{t:{for(ce(F),E=s(p);E!==null&&!(E.expirationTime>F&&O());){var xe=E.callback;if(typeof xe=="function"){E.callback=null,T=E.priorityLevel;var Pe=xe(E.expirationTime<=F);if(F=r.unstable_now(),typeof Pe=="function"){E.callback=Pe,ce(F),Q=!0;break t}E===s(p)&&i(p),ce(F)}else i(p);E=s(p)}if(E!==null)Q=!0;else{var C=s(g);C!==null&&ye(Se,C.startTime-F),Q=!1}}break e}finally{E=null,T=he,U=!1}Q=void 0}}finally{Q?D():je=!1}}}var D;if(typeof te=="function")D=function(){te(j)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,be=S.port2;S.port1.onmessage=j,D=function(){be.postMessage(null)}}else D=function(){me(j,0)};function ye(F,Q){M=me(function(){F(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(F){switch(T){case 1:case 2:case 3:var Q=3;break;default:Q=T}var he=T;T=Q;try{return F()}finally{T=he}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(F,Q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var he=T;T=F;try{return Q()}finally{T=he}},r.unstable_scheduleCallback=function(F,Q,he){var xe=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?xe+he:xe):he=xe,F){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=he+Pe,F={id:v++,callback:Q,priorityLevel:F,startTime:he,expirationTime:Pe,sortIndex:-1},he>xe?(F.sortIndex=he,t(g,F),s(p)===null&&F===s(g)&&(Z?(de(M),M=-1):Z=!0,ye(Se,he-xe))):(F.sortIndex=Pe,t(p,F),P||U||(P=!0,je||(je=!0,D()))),F},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(F){var Q=T;return function(){var he=T;T=Q;try{return F.apply(this,arguments)}finally{T=he}}}})(Jf)),Jf}var Qy;function p1(){return Qy||(Qy=1,Zf.exports=g1()),Zf.exports}var Wf={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function y1(){if(Ky)return on;Ky=1;var r=kd();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},on.flushSync=function(p){var g=m.T,v=i.p;try{if(m.T=null,i.p=2,p)return p()}finally{m.T=g,i.p=v,i.d.f()}},on.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},on.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},on.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=x(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,U=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:U}):v==="script"&&i.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:U,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=x(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},on.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=x(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=x(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},on.requestFormReset=function(p){i.d.r(p)},on.unstable_batchedUpdates=function(p,g){return p(g)},on.useFormState=function(p,g,v){return m.H.useFormState(p,g,v)},on.useFormStatus=function(){return m.H.useHostTransitionStatus()},on.version="19.2.4",on}var Xy;function x1(){if(Xy)return Wf.exports;Xy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Wf.exports=y1(),Wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function b1(){if(Zy)return Zl;Zy=1;var r=p1(),t=kd(),s=x1();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(i(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(i(188));return n!==e?null:e}for(var a=e,l=n;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),n;d=d.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=d;else{for(var b=!1,N=f.child;N;){if(N===a){b=!0,a=f,l=d;break}if(N===l){b=!0,l=f,a=d;break}N=N.sibling}if(!b){for(N=d.child;N;){if(N===a){b=!0,a=d,l=f;break}if(N===l){b=!0,l=d,a=f;break}N=N.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),de=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case me:return"Profiler";case B:return"StrictMode";case Se:return"Suspense";case je:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case te:return e.displayName||"Context";case de:return(e._context.displayName||"Context")+".Consumer";case ce:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return n=e.displayName||null,n!==null?n:be(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return be(e(n))}catch{}}return null}var ye=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},xe=[],Pe=-1;function C(e){return{current:e}}function Y(e){0>Pe||(e.current=xe[Pe],xe[Pe]=null,Pe--)}function ue(e,n){Pe++,xe[Pe]=e.current,e.current=n}var ge=C(null),oe=C(null),we=C(null),Ve=C(null);function Fe(e,n){switch(ue(we,n),ue(oe,e),ue(ge,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?fy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=fy(n),e=dy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ge),ue(ge,e)}function Te(){Y(ge),Y(oe),Y(we)}function xt(e){e.memoizedState!==null&&ue(Ve,e);var n=ge.current,a=dy(n,e.type);n!==a&&(ue(oe,e),ue(ge,a))}function Ee(e){oe.current===e&&(Y(ge),Y(oe)),Ve.current===e&&(Y(Ve),$l._currentValue=he)}var J,De;function ke(e){if(J===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);J=n&&n[1]||"",De=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+e+De}var k=!1;function se(e,n){if(!e||k)return"";k=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var $=X}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(X){$=X}e.call(ie.prototype)}}else{try{throw Error()}catch(X){$=X}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],N=d[1];if(b&&N){var I=b.split(`
`),G=N.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===G.length)for(l=I.length-1,f=G.length-1;1<=l&&0<=f&&I[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==G[f]){var ne=`
`+I[l].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=l&&0<=f);break}}}finally{k=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ke(a):""}function He(e,n){switch(e.tag){case 26:case 27:case 5:return ke(e.type);case 16:return ke("Lazy");case 13:return e.child!==n&&n!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return se(e.type,!1);case 11:return se(e.type.render,!1);case 1:return se(e.type,!0);case 31:return ke("Activity");default:return""}}function V(e){try{var n="",a=null;do n+=He(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ee=Object.prototype.hasOwnProperty,Re=r.unstable_scheduleCallback,Ie=r.unstable_cancelCallback,at=r.unstable_shouldYield,So=r.unstable_requestPaint,fn=r.unstable_now,er=r.unstable_getCurrentPriorityLevel,Ki=r.unstable_ImmediatePriority,Xi=r.unstable_UserBlockingPriority,la=r.unstable_NormalPriority,Xu=r.unstable_LowPriority,Ao=r.unstable_IdlePriority,Co=r.log,Ro=r.unstable_setDisableYieldValue,Xn=null,Jt=null;function kn(e){if(typeof Co=="function"&&Ro(e),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Xn,e)}catch{}}var St=Math.clz32?Math.clz32:Mo,Do=Math.log,Pr=Math.LN2;function Mo(e){return e>>>=0,e===0?32:31-(Do(e)/Pr|0)|0}var us=256,tr=262144,Ot=4194304;function hs(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fs(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var N=l&134217727;return N!==0?(l=N&~d,l!==0?f=hs(l):(b&=N,b!==0?f=hs(b):a||(a=N&~e,a!==0&&(f=hs(a))))):(N=l&~d,N!==0?f=hs(N):b!==0?f=hs(b):a||(a=l&~e,a!==0&&(f=hs(a)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:f}function Zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Zu(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(){var e=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),e}function ds(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function nr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ju(e,n,a,l,f,d){var b=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var N=e.entanglements,I=e.expirationTimes,G=e.hiddenUpdates;for(a=b&~a;0<a;){var ne=31-St(a),ie=1<<ne;N[ne]=0,I[ne]=-1;var $=G[ne];if($!==null)for(G[ne]=null,ne=0;ne<$.length;ne++){var X=$[ne];X!==null&&(X.lane&=-536870913)}a&=~ie}l!==0&&sr(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(b&~n))}function sr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-St(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Zi(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-St(a),f=1<<l;f&n|e[l]&n&&(e[l]|=n),a&=~f}}function Ji(e,n){var a=n&-n;return a=(a&42)!==0?1:ar(a),(a&(e.suspendedLanes|n))!==0?0:a}function ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Us(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Oo(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:ky(e.type))}function Jn(e,n){var a=Q.p;try{return Q.p=e,n()}finally{Q.p=a}}var Wn=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Wn,Qt="__reactProps$"+Wn,ms="__reactContainer$"+Wn,Br="__reactEvents$"+Wn,Wu="__reactListeners$"+Wn,Vo="__reactHandles$"+Wn,ko="__reactResources$"+Wn,gs="__reactMarker$"+Wn;function qr(e){delete e[Vt],delete e[Qt],delete e[Br],delete e[Wu],delete e[Vo]}function ps(e){var n=e[Vt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ms]||a[Vt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=vy(e);e!==null;){if(a=e[Vt])return a;e=vy(e)}return n}e=a,a=e.parentNode}return null}function zn(e){if(e=e[Vt]||e[ms]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Tn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function ys(e){var n=e[ko];return n||(n=e[ko]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function kt(e){e[gs]=!0}var Wi=new Set,el={};function xs(e,n){bs(e,n),bs(e+"Capture",n)}function bs(e,n){for(el[e]=n,e=0;e<n.length;e++)Wi.add(n[e])}var tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},sl={};function zo(e){return ee.call(sl,e)?!0:ee.call(nl,e)?!1:tl.test(e)?sl[e]=!0:(nl[e]=!0,!1)}function Hr(e,n,a){if(zo(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function jn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function zt(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oa(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function al(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(b){a=""+b,d.call(this,b)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ot(e){if(!e._valueTracker){var n=oa(e)?"checked":"value";e._valueTracker=al(e,n,""+e[n])}}function rr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=oa(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ir=/[\n"\\]/g;function gn(e){return e.replace(ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Gr(e,n,a,l,f,d,b,N){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Kt(n)):e.value!==""+Kt(n)&&(e.value=""+Kt(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?rl(e,b,Kt(n)):a!=null?rl(e,b,Kt(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+Kt(N):e.removeAttribute("name")}function Uo(e,n,a,l,f,d,b,N){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){ot(e);return}a=a!=null?""+Kt(a):"",n=n!=null?""+Kt(n):a,N||n===e.value||(e.value=n),e.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=N?e.checked:!!l,e.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),ot(e)}function rl(e,n,a){n==="number"&&vs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ca(e,n,a,l){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Kt(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Lo(e,n,a){if(n!=null&&(n=""+Kt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Kt(a):""}function ua(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(i(92));if(ye(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Kt(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),ot(e)}function pn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Po=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Po.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function ll(e,n,a){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&a[f]!==l&&il(e,f,l)}else for(var d in n)n.hasOwnProperty(d)&&il(e,d,n[d])}function Fr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ha=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $r(e){return ha.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function es(){}var ol=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fa=null,_s=null;function lr(e){var n=zn(e);if(n&&(e=n.stateNode)){var a=e[Qt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Gr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var f=l[Qt]||null;if(!f)throw Error(i(90));Gr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&rr(l)}break e;case"textarea":Lo(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ca(e,!!a.multiple,n,!1)}}}var Yr=!1;function da(e,n,a){if(Yr)return e(n,a);Yr=!0;try{var l=e(n);return l}finally{if(Yr=!1,(fa!==null||_s!==null)&&(Oc(),fa&&(n=fa,e=_s,_s=fa=null,lr(n),e)))for(n=0;n<e.length;n++)lr(e[n])}}function ts(e,n){var a=e.stateNode;if(a===null)return null;var l=a[Qt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,n,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),or=!1;if(Ln)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){or=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{or=!1}var Es=null,cl=null,cr=null;function ul(){if(cr)return cr;var e,n=cl,a=n.length,l,f="value"in Es?Es.value:Es.textContent,d=f.length;for(e=0;e<a&&n[e]===f[e];e++);var b=a-e;for(l=1;l<=b&&n[a-l]===f[d-l];l++);return cr=f.slice(e,1<l?1-l:void 0)}function ur(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ls(){return!0}function ns(){return!1}function Wt(e){function n(a,l,f,d,b){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(a=e[N],this[N]=a?a(d):d[N]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ls:ns,this.isPropagationStopped=ns,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),n}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=Wt(Ps),ma=E({},Ps,{view:0,detail:0}),hl=Wt(ma),ga,Qr,ws,Kr=E({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ws&&(ws&&e.type==="mousemove"?(ga=e.screenX-ws.screenX,Qr=e.screenY-ws.screenY):Qr=ga=0,ws=e),ga)},movementY:function(e){return"movementY"in e?e.movementY:Qr}}),fl=Wt(Kr),hr=E({},Kr,{dataTransfer:0}),qo=Wt(hr),Ho=E({},ma,{relatedTarget:0}),fr=Wt(Ho),dl=E({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Go=Wt(dl),Xr=E({},Ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fo=Wt(Xr),$o=E({},Ps,{data:0}),Ts=Wt($o),Yo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ko={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ko[e])?!!n[e]:!1}function pa(){return Xo}var dn=E({},ma,{key:function(e){if(e.key){var n=Yo[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ur(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(e){return e.type==="keypress"?ur(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ur(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zo=Wt(dn),Jo=E({},Kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bs=Wt(Jo),h=E({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),y=Wt(h),_=E({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Wt(_),q=E({},Kr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Wt(q),fe=E({},Ps,{newState:0,oldState:0}),Be=Wt(fe),At=[9,13,27,32],rt=Ln&&"CompositionEvent"in window,_t=null;Ln&&"documentMode"in document&&(_t=document.documentMode);var Pn=Ln&&"TextEvent"in window&&!_t,js=Ln&&(!rt||_t&&8<_t&&11>=_t),ss=" ",as=!1;function dr(e,n){switch(e){case"keyup":return At.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function kv(e,n){switch(e){case"compositionend":return Zr(n);case"keypress":return n.which!==32?null:(as=!0,ss);case"textInput":return e=n.data,e===ss&&as?null:e;default:return null}}function zv(e,n){if(Jr)return e==="compositionend"||!rt&&dr(e,n)?(e=ul(),cr=cl=Es=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return js&&n.locale!=="ko"?null:n.data;default:return null}}var Uv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Uv[e.type]:n==="textarea"}function wm(e,n,a,l){fa?_s?_s.push(l):_s=[l]:fa=l,n=Bc(n,"onChange"),0<n.length&&(a=new Ns("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var ml=null,gl=null;function Lv(e){iy(e,0)}function Wo(e){var n=Tn(e);if(rr(n))return e}function Tm(e,n){if(e==="change")return n}var jm=!1;if(Ln){var eh;if(Ln){var th="oninput"in document;if(!th){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),th=typeof Sm.oninput=="function"}eh=th}else eh=!1;jm=eh&&(!document.documentMode||9<document.documentMode)}function Am(){ml&&(ml.detachEvent("onpropertychange",Cm),gl=ml=null)}function Cm(e){if(e.propertyName==="value"&&Wo(gl)){var n=[];wm(n,gl,e,Un(e)),da(Lv,n)}}function Pv(e,n,a){e==="focusin"?(Am(),ml=n,gl=a,ml.attachEvent("onpropertychange",Cm)):e==="focusout"&&Am()}function Bv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wo(gl)}function qv(e,n){if(e==="click")return Wo(n)}function Hv(e,n){if(e==="input"||e==="change")return Wo(n)}function Gv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:Gv;function pl(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ee.call(n,f)||!Sn(e[f],n[f]))return!1}return!0}function Rm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dm(e,n){var a=Rm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rm(a)}}function Mm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Mm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Im(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vs(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=vs(e.document)}return n}function nh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Fv=Ln&&"documentMode"in document&&11>=document.documentMode,Wr=null,sh=null,yl=null,ah=!1;function Om(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ah||Wr==null||Wr!==vs(l)||(l=Wr,"selectionStart"in l&&nh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&pl(yl,l)||(yl=l,l=Bc(sh,"onSelect"),0<l.length&&(n=new Ns("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Wr)))}function mr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ei={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},rh={},Vm={};Ln&&(Vm=document.createElement("div").style,"AnimationEvent"in window||(delete ei.animationend.animation,delete ei.animationiteration.animation,delete ei.animationstart.animation),"TransitionEvent"in window||delete ei.transitionend.transition);function gr(e){if(rh[e])return rh[e];if(!ei[e])return e;var n=ei[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Vm)return rh[e]=n[a];return e}var km=gr("animationend"),zm=gr("animationiteration"),Um=gr("animationstart"),$v=gr("transitionrun"),Yv=gr("transitionstart"),Qv=gr("transitioncancel"),Lm=gr("transitionend"),Pm=new Map,ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ih.push("scrollEnd");function rs(e,n){Pm.set(e,n),xs(n,[e])}var ec=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],ti=0,lh=0;function tc(){for(var e=ti,n=lh=ti=0;n<e;){var a=Bn[n];Bn[n++]=null;var l=Bn[n];Bn[n++]=null;var f=Bn[n];Bn[n++]=null;var d=Bn[n];if(Bn[n++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}d!==0&&Bm(a,f,d)}}function nc(e,n,a,l){Bn[ti++]=e,Bn[ti++]=n,Bn[ti++]=a,Bn[ti++]=l,lh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function oh(e,n,a,l){return nc(e,n,a,l),sc(e)}function pr(e,n){return nc(e,null,null,n),sc(e)}function Bm(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-St(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[n]:l.push(n),n.lane=a|536870912),d):null}function sc(e){if(50<Ll)throw Ll=0,xf=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ni={};function Kv(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,n,a,l){return new Kv(e,n,a,l)}function ch(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qs(e,n){var a=e.alternate;return a===null?(a=An(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function qm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ac(e,n,a,l,f,d){var b=0;if(l=e,typeof e=="function")ch(e)&&(b=1);else if(typeof e=="string")b=e1(e,a,ge.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case R:return e=An(31,a,n,f),e.elementType=R,e.lanes=d,e;case Z:return yr(a.children,f,d,n);case B:b=8,f|=24;break;case me:return e=An(12,a,n,f|2),e.elementType=me,e.lanes=d,e;case Se:return e=An(13,a,n,f),e.elementType=Se,e.lanes=d,e;case je:return e=An(19,a,n,f),e.elementType=je,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:b=10;break e;case de:b=9;break e;case ce:b=11;break e;case M:b=14;break e;case A:b=16,l=null;break e}b=29,a=Error(i(130,e===null?"null":typeof e,"")),l=null}return n=An(b,a,n,f),n.elementType=e,n.type=l,n.lanes=d,n}function yr(e,n,a,l){return e=An(7,e,l,n),e.lanes=a,e}function uh(e,n,a){return e=An(6,e,null,n),e.lanes=a,e}function Hm(e){var n=An(18,null,null,0);return n.stateNode=e,n}function hh(e,n,a){return n=An(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Gm=new WeakMap;function qn(e,n){if(typeof e=="object"&&e!==null){var a=Gm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:V(n)},Gm.set(e,n),n)}return{value:e,source:n,stack:V(n)}}var si=[],ai=0,rc=null,xl=0,Hn=[],Gn=0,ya=null,Ss=1,As="";function Hs(e,n){si[ai++]=xl,si[ai++]=rc,rc=e,xl=n}function Fm(e,n,a){Hn[Gn++]=Ss,Hn[Gn++]=As,Hn[Gn++]=ya,ya=e;var l=Ss;e=As;var f=32-St(l)-1;l&=~(1<<f),a+=1;var d=32-St(n)+f;if(30<d){var b=f-f%5;d=(l&(1<<b)-1).toString(32),l>>=b,f-=b,Ss=1<<32-St(n)+f|a<<f|l,As=d+e}else Ss=1<<d|a<<f|l,As=e}function fh(e){e.return!==null&&(Hs(e,1),Fm(e,1,0))}function dh(e){for(;e===rc;)rc=si[--ai],si[ai]=null,xl=si[--ai],si[ai]=null;for(;e===ya;)ya=Hn[--Gn],Hn[Gn]=null,As=Hn[--Gn],Hn[Gn]=null,Ss=Hn[--Gn],Hn[Gn]=null}function $m(e,n){Hn[Gn++]=Ss,Hn[Gn++]=As,Hn[Gn++]=ya,Ss=n.id,As=n.overflow,ya=e}var en=null,bt=null,We=!1,xa=null,Fn=!1,mh=Error(i(519));function ba(e){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(qn(n,e)),mh}function Ym(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[Vt]=e,n[Qt]=l,a){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(a=0;a<Bl.length;a++)Ye(Bl[a],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":Ye("invalid",n),Uo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ye("invalid",n);break;case"textarea":Ye("invalid",n),ua(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||uy(n.textContent,a)?(l.popover!=null&&(Ye("beforetoggle",n),Ye("toggle",n)),l.onScroll!=null&&Ye("scroll",n),l.onScrollEnd!=null&&Ye("scrollend",n),l.onClick!=null&&(n.onclick=es),n=!0):n=!1,n||ba(e,!0)}function Qm(e){for(en=e.return;en;)switch(en.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:en=en.return}}function ri(e){if(e!==en)return!1;if(!We)return Qm(e),We=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||If(e.type,e.memoizedProps)),a=!a),a&&bt&&ba(e),Qm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));bt=by(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));bt=by(e)}else n===27?(n=bt,Ia(e.type)?(e=Uf,Uf=null,bt=e):bt=n):bt=en?Yn(e.stateNode.nextSibling):null;return!0}function xr(){bt=en=null,We=!1}function gh(){var e=xa;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),xa=null),e}function bl(e){xa===null?xa=[e]:xa.push(e)}var ph=C(null),br=null,Gs=null;function va(e,n,a){ue(ph,n._currentValue),n._currentValue=a}function Fs(e){e._currentValue=ph.current,Y(ph)}function yh(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function xh(e,n,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var b=f.child;d=d.firstContext;e:for(;d!==null;){var N=d;d=f;for(var I=0;I<n.length;I++)if(N.context===n[I]){d.lanes|=a,N=d.alternate,N!==null&&(N.lanes|=a),yh(d.return,a,e),l||(b=null);break e}d=N.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=a,d=b.alternate,d!==null&&(d.lanes|=a),yh(b,a,e),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===e){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function ii(e,n,a,l){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var N=f.type;Sn(f.pendingProps.value,b.value)||(e!==null?e.push(N):e=[N])}}else if(f===Ve.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push($l):e=[$l])}f=f.return}e!==null&&xh(n,e,a,l),n.flags|=262144}function ic(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vr(e){br=e,Gs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return Km(br,e)}function lc(e,n){return br===null&&vr(e),Km(e,n)}function Km(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Gs===null){if(e===null)throw Error(i(308));Gs=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gs=Gs.next=n;return a}var Xv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Zv=r.unstable_scheduleCallback,Jv=r.unstable_NormalPriority,Ut={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bh(){return{controller:new Xv,data:new Map,refCount:0}}function vl(e){e.refCount--,e.refCount===0&&Zv(Jv,function(){e.controller.abort()})}var _l=null,vh=0,li=0,oi=null;function Wv(e,n){if(_l===null){var a=_l=[];vh=0,li=wf(),oi={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vh++,n.then(Xm,Xm),n}function Xm(){if(--vh===0&&_l!==null){oi!==null&&(oi.status="fulfilled");var e=_l;_l=null,li=0,oi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function e_(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Zm=F.S;F.S=function(e,n){Op=fn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Wv(e,n),Zm!==null&&Zm(e,n)};var _r=C(null);function _h(){var e=_r.current;return e!==null?e:gt.pooledCache}function oc(e,n){n===null?ue(_r,_r.current):ue(_r,n.pool)}function Jm(){var e=_h();return e===null?null:{parent:Ut._currentValue,pool:e}}var ci=Error(i(460)),Eh=Error(i(474)),cc=Error(i(542)),uc={then:function(){}};function Wm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(es,es),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ng(e),e;default:if(typeof n.status=="string")n.then(es,es);else{if(e=gt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ng(e),e}throw Nr=n,ci}}function Er(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Nr=a,ci):a}}var Nr=null;function tg(){if(Nr===null)throw Error(i(459));var e=Nr;return Nr=null,e}function ng(e){if(e===ci||e===cc)throw Error(i(483))}var ui=null,El=0;function hc(e){var n=El;return El+=1,ui===null&&(ui=[]),eg(ui,e,n)}function Nl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function fc(e,n){throw n.$$typeof===T?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sg(e){function n(L,z){if(e){var H=L.deletions;H===null?(L.deletions=[z],L.flags|=16):H.push(z)}}function a(L,z){if(!e)return null;for(;z!==null;)n(L,z),z=z.sibling;return null}function l(L){for(var z=new Map;L!==null;)L.key!==null?z.set(L.key,L):z.set(L.index,L),L=L.sibling;return z}function f(L,z){return L=qs(L,z),L.index=0,L.sibling=null,L}function d(L,z,H){return L.index=H,e?(H=L.alternate,H!==null?(H=H.index,H<z?(L.flags|=67108866,z):H):(L.flags|=67108866,z)):(L.flags|=1048576,z)}function b(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function N(L,z,H,ae){return z===null||z.tag!==6?(z=uh(H,L.mode,ae),z.return=L,z):(z=f(z,H),z.return=L,z)}function I(L,z,H,ae){var Ae=H.type;return Ae===Z?ne(L,z,H.props.children,ae,H.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===A&&Er(Ae)===z.type)?(z=f(z,H.props),Nl(z,H),z.return=L,z):(z=ac(H.type,H.key,H.props,null,L.mode,ae),Nl(z,H),z.return=L,z)}function G(L,z,H,ae){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=hh(H,L.mode,ae),z.return=L,z):(z=f(z,H.children||[]),z.return=L,z)}function ne(L,z,H,ae,Ae){return z===null||z.tag!==7?(z=yr(H,L.mode,ae,Ae),z.return=L,z):(z=f(z,H),z.return=L,z)}function ie(L,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=uh(""+z,L.mode,H),z.return=L,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case U:return H=ac(z.type,z.key,z.props,null,L.mode,H),Nl(H,z),H.return=L,H;case P:return z=hh(z,L.mode,H),z.return=L,z;case A:return z=Er(z),ie(L,z,H)}if(ye(z)||D(z))return z=yr(z,L.mode,H,null),z.return=L,z;if(typeof z.then=="function")return ie(L,hc(z),H);if(z.$$typeof===te)return ie(L,lc(L,z),H);fc(L,z)}return null}function $(L,z,H,ae){var Ae=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ae!==null?null:N(L,z,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case U:return H.key===Ae?I(L,z,H,ae):null;case P:return H.key===Ae?G(L,z,H,ae):null;case A:return H=Er(H),$(L,z,H,ae)}if(ye(H)||D(H))return Ae!==null?null:ne(L,z,H,ae,null);if(typeof H.then=="function")return $(L,z,hc(H),ae);if(H.$$typeof===te)return $(L,z,lc(L,H),ae);fc(L,H)}return null}function X(L,z,H,ae,Ae){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return L=L.get(H)||null,N(z,L,""+ae,Ae);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case U:return L=L.get(ae.key===null?H:ae.key)||null,I(z,L,ae,Ae);case P:return L=L.get(ae.key===null?H:ae.key)||null,G(z,L,ae,Ae);case A:return ae=Er(ae),X(L,z,H,ae,Ae)}if(ye(ae)||D(ae))return L=L.get(H)||null,ne(z,L,ae,Ae,null);if(typeof ae.then=="function")return X(L,z,H,hc(ae),Ae);if(ae.$$typeof===te)return X(L,z,H,lc(z,ae),Ae);fc(z,ae)}return null}function _e(L,z,H,ae){for(var Ae=null,nt=null,Ne=z,Ge=z=0,Xe=null;Ne!==null&&Ge<H.length;Ge++){Ne.index>Ge?(Xe=Ne,Ne=null):Xe=Ne.sibling;var st=$(L,Ne,H[Ge],ae);if(st===null){Ne===null&&(Ne=Xe);break}e&&Ne&&st.alternate===null&&n(L,Ne),z=d(st,z,Ge),nt===null?Ae=st:nt.sibling=st,nt=st,Ne=Xe}if(Ge===H.length)return a(L,Ne),We&&Hs(L,Ge),Ae;if(Ne===null){for(;Ge<H.length;Ge++)Ne=ie(L,H[Ge],ae),Ne!==null&&(z=d(Ne,z,Ge),nt===null?Ae=Ne:nt.sibling=Ne,nt=Ne);return We&&Hs(L,Ge),Ae}for(Ne=l(Ne);Ge<H.length;Ge++)Xe=X(Ne,L,Ge,H[Ge],ae),Xe!==null&&(e&&Xe.alternate!==null&&Ne.delete(Xe.key===null?Ge:Xe.key),z=d(Xe,z,Ge),nt===null?Ae=Xe:nt.sibling=Xe,nt=Xe);return e&&Ne.forEach(function(Ua){return n(L,Ua)}),We&&Hs(L,Ge),Ae}function Me(L,z,H,ae){if(H==null)throw Error(i(151));for(var Ae=null,nt=null,Ne=z,Ge=z=0,Xe=null,st=H.next();Ne!==null&&!st.done;Ge++,st=H.next()){Ne.index>Ge?(Xe=Ne,Ne=null):Xe=Ne.sibling;var Ua=$(L,Ne,st.value,ae);if(Ua===null){Ne===null&&(Ne=Xe);break}e&&Ne&&Ua.alternate===null&&n(L,Ne),z=d(Ua,z,Ge),nt===null?Ae=Ua:nt.sibling=Ua,nt=Ua,Ne=Xe}if(st.done)return a(L,Ne),We&&Hs(L,Ge),Ae;if(Ne===null){for(;!st.done;Ge++,st=H.next())st=ie(L,st.value,ae),st!==null&&(z=d(st,z,Ge),nt===null?Ae=st:nt.sibling=st,nt=st);return We&&Hs(L,Ge),Ae}for(Ne=l(Ne);!st.done;Ge++,st=H.next())st=X(Ne,L,Ge,st.value,ae),st!==null&&(e&&st.alternate!==null&&Ne.delete(st.key===null?Ge:st.key),z=d(st,z,Ge),nt===null?Ae=st:nt.sibling=st,nt=st);return e&&Ne.forEach(function(h1){return n(L,h1)}),We&&Hs(L,Ge),Ae}function mt(L,z,H,ae){if(typeof H=="object"&&H!==null&&H.type===Z&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case U:e:{for(var Ae=H.key;z!==null;){if(z.key===Ae){if(Ae=H.type,Ae===Z){if(z.tag===7){a(L,z.sibling),ae=f(z,H.props.children),ae.return=L,L=ae;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===A&&Er(Ae)===z.type){a(L,z.sibling),ae=f(z,H.props),Nl(ae,H),ae.return=L,L=ae;break e}a(L,z);break}else n(L,z);z=z.sibling}H.type===Z?(ae=yr(H.props.children,L.mode,ae,H.key),ae.return=L,L=ae):(ae=ac(H.type,H.key,H.props,null,L.mode,ae),Nl(ae,H),ae.return=L,L=ae)}return b(L);case P:e:{for(Ae=H.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){a(L,z.sibling),ae=f(z,H.children||[]),ae.return=L,L=ae;break e}else{a(L,z);break}else n(L,z);z=z.sibling}ae=hh(H,L.mode,ae),ae.return=L,L=ae}return b(L);case A:return H=Er(H),mt(L,z,H,ae)}if(ye(H))return _e(L,z,H,ae);if(D(H)){if(Ae=D(H),typeof Ae!="function")throw Error(i(150));return H=Ae.call(H),Me(L,z,H,ae)}if(typeof H.then=="function")return mt(L,z,hc(H),ae);if(H.$$typeof===te)return mt(L,z,lc(L,H),ae);fc(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(a(L,z.sibling),ae=f(z,H),ae.return=L,L=ae):(a(L,z),ae=uh(H,L.mode,ae),ae.return=L,L=ae),b(L)):a(L,z)}return function(L,z,H,ae){try{El=0;var Ae=mt(L,z,H,ae);return ui=null,Ae}catch(Ne){if(Ne===ci||Ne===cc)throw Ne;var nt=An(29,Ne,null,L.mode);return nt.lanes=ae,nt.return=L,nt}finally{}}}var wr=sg(!0),ag=sg(!1),_a=!1;function Nh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Na(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=sc(e),Bm(e,null,a),n}return nc(e,l,n,a),sc(e)}function wl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Zi(e,a)}}function Th(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=b:d=d.next=b,a=a.next}while(a!==null);d===null?f=d=n:d=d.next=n}else f=d=n;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var jh=!1;function Tl(){if(jh){var e=oi;if(e!==null)throw e}}function jl(e,n,a,l){jh=!1;var f=e.updateQueue;_a=!1;var d=f.firstBaseUpdate,b=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var I=N,G=I.next;I.next=null,b===null?d=G:b.next=G,b=I;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==b&&(N===null?ne.firstBaseUpdate=G:N.next=G,ne.lastBaseUpdate=I))}if(d!==null){var ie=f.baseState;b=0,ne=G=I=null,N=d;do{var $=N.lane&-536870913,X=$!==N.lane;if(X?(Ke&$)===$:(l&$)===$){$!==0&&$===li&&(jh=!0),ne!==null&&(ne=ne.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var _e=e,Me=N;$=n;var mt=a;switch(Me.tag){case 1:if(_e=Me.payload,typeof _e=="function"){ie=_e.call(mt,ie,$);break e}ie=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Me.payload,$=typeof _e=="function"?_e.call(mt,ie,$):_e,$==null)break e;ie=E({},ie,$);break e;case 2:_a=!0}}$=N.callback,$!==null&&(e.flags|=64,X&&(e.flags|=8192),X=f.callbacks,X===null?f.callbacks=[$]:X.push($))}else X={lane:$,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(G=ne=X,I=ie):ne=ne.next=X,b|=$;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;X=N,N=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);ne===null&&(I=ie),f.baseState=I,f.firstBaseUpdate=G,f.lastBaseUpdate=ne,d===null&&(f.shared.lanes=0),Aa|=b,e.lanes=b,e.memoizedState=ie}}function rg(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function ig(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)rg(a[e],n)}var hi=C(null),dc=C(0);function lg(e,n){e=ea,ue(dc,e),ue(hi,n),ea=e|n.baseLanes}function Sh(){ue(dc,ea),ue(hi,hi.current)}function Ah(){ea=dc.current,Y(hi),Y(dc)}var Cn=C(null),$n=null;function wa(e){var n=e.alternate;ue(Ct,Ct.current&1),ue(Cn,e),$n===null&&(n===null||hi.current!==null||n.memoizedState!==null)&&($n=e)}function Ch(e){ue(Ct,Ct.current),ue(Cn,e),$n===null&&($n=e)}function og(e){e.tag===22?(ue(Ct,Ct.current),ue(Cn,e),$n===null&&($n=e)):Ta()}function Ta(){ue(Ct,Ct.current),ue(Cn,Cn.current)}function Rn(e){Y(Cn),$n===e&&($n=null),Y(Ct)}var Ct=C(0);function mc(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kf(a)||zf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $s=0,qe=null,ft=null,Lt=null,gc=!1,fi=!1,Tr=!1,pc=0,Sl=0,di=null,t_=0;function wt(){throw Error(i(321))}function Rh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Sn(e[a],n[a]))return!1;return!0}function Dh(e,n,a,l,f,d){return $s=d,qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Fg:$h,Tr=!1,d=a(l,f),Tr=!1,fi&&(d=ug(n,a,l,f)),cg(e),d}function cg(e){F.H=Rl;var n=ft!==null&&ft.next!==null;if($s=0,Lt=ft=qe=null,gc=!1,Sl=0,di=null,n)throw Error(i(300));e===null||Pt||(e=e.dependencies,e!==null&&ic(e)&&(Pt=!0))}function ug(e,n,a,l){qe=e;var f=0;do{if(fi&&(di=null),Sl=0,fi=!1,25<=f)throw Error(i(301));if(f+=1,Lt=ft=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=$g,d=n(a,l)}while(fi);return d}function n_(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Al(n):n,e=e.useState()[0],(ft!==null?ft.memoizedState:null)!==e&&(qe.flags|=1024),n}function Mh(){var e=pc!==0;return pc=0,e}function Ih(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Oh(e){if(gc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}gc=!1}$s=0,Lt=ft=qe=null,fi=!1,Sl=pc=0,di=null}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?qe.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Rt(){if(ft===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var n=Lt===null?qe.memoizedState:Lt.next;if(n!==null)Lt=n,ft=e;else{if(e===null)throw qe.alternate===null?Error(i(467)):Error(i(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Lt===null?qe.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(e){var n=Sl;return Sl+=1,di===null&&(di=[]),e=eg(di,e,n),n=qe,(Lt===null?n.memoizedState:Lt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Fg:$h),e}function xc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Al(e);if(e.$$typeof===te)return tn(e)}throw Error(i(438,String(e)))}function Vh(e){var n=null,a=qe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=qe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=yc(),qe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=O;return n.index++,a}function Ys(e,n){return typeof n=="function"?n(e):n}function bc(e){var n=Rt();return kh(n,ft,e)}function kh(e,n,a){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var b=f.next;f.next=d.next,d.next=b}n.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var N=b=null,I=null,G=n,ne=!1;do{var ie=G.lane&-536870913;if(ie!==G.lane?(Ke&ie)===ie:($s&ie)===ie){var $=G.revertLane;if($===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ie===li&&(ne=!0);else if(($s&$)===$){G=G.next,$===li&&(ne=!0);continue}else ie={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(N=I=ie,b=d):I=I.next=ie,qe.lanes|=$,Aa|=$;ie=G.action,Tr&&a(d,ie),d=G.hasEagerState?G.eagerState:a(d,ie)}else $={lane:ie,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(N=I=$,b=d):I=I.next=$,qe.lanes|=ie,Aa|=ie;G=G.next}while(G!==null&&G!==n);if(I===null?b=d:I.next=N,!Sn(d,e.memoizedState)&&(Pt=!0,ne&&(a=oi,a!==null)))throw a;e.memoizedState=d,e.baseState=b,e.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function zh(e){var n=Rt(),a=n.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=n.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do d=e(d,b.action),b=b.next;while(b!==f);Sn(d,n.memoizedState)||(Pt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function hg(e,n,a){var l=qe,f=Rt(),d=We;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=n();var b=!Sn((ft||f).memoizedState,a);if(b&&(f.memoizedState=a,Pt=!0),f=f.queue,Ph(mg.bind(null,l,f,e),[e]),f.getSnapshot!==n||b||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,mi(9,{destroy:void 0},dg.bind(null,l,f,a,n),null),gt===null)throw Error(i(349));d||($s&127)!==0||fg(l,n,a)}return a}function fg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=qe.updateQueue,n===null?(n=yc(),qe.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function dg(e,n,a,l){n.value=a,n.getSnapshot=l,gg(n)&&pg(e)}function mg(e,n,a){return a(function(){gg(n)&&pg(e)})}function gg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Sn(e,a)}catch{return!0}}function pg(e){var n=pr(e,2);n!==null&&_n(n,e,2)}function Uh(e){var n=mn();if(typeof e=="function"){var a=e;if(e=a(),Tr){kn(!0);try{a()}finally{kn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:e},n}function yg(e,n,a,l){return e.baseState=a,kh(e,ft,typeof l=="function"?l:Ys)}function s_(e,n,a,l,f){if(Ec(e))throw Error(i(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,xg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function xg(e,n){var a=n.action,l=n.payload,f=e.state;if(n.isTransition){var d=F.T,b={};F.T=b;try{var N=a(f,l),I=F.S;I!==null&&I(b,N),bg(e,n,N)}catch(G){Lh(e,n,G)}finally{d!==null&&b.types!==null&&(d.types=b.types),F.T=d}}else try{d=a(f,l),bg(e,n,d)}catch(G){Lh(e,n,G)}}function bg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){vg(e,n,l)},function(l){return Lh(e,n,l)}):vg(e,n,a)}function vg(e,n,a){n.status="fulfilled",n.value=a,_g(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,xg(e,a)))}function Lh(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,_g(n),n=n.next;while(n!==l)}e.action=null}function _g(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Eg(e,n){return n}function Ng(e,n){if(We){var a=gt.formState;if(a!==null){e:{var l=qe;if(We){if(bt){t:{for(var f=bt,d=Fn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){bt=Yn(f.nextSibling),l=f.data==="F!";break e}}ba(l)}l=!1}l&&(n=a[0])}}return a=mn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:n},a.queue=l,a=qg.bind(null,qe,l),l.dispatch=a,l=Uh(!1),d=Fh.bind(null,qe,!1,l.queue),l=mn(),f={state:n,dispatch:null,action:e,pending:null},l.queue=f,a=s_.bind(null,qe,f,d,a),f.dispatch=a,l.memoizedState=e,[n,a,!1]}function wg(e){var n=Rt();return Tg(n,ft,e)}function Tg(e,n,a){if(n=kh(e,n,Eg)[0],e=bc(Ys)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Al(n)}catch(b){throw b===ci?cc:b}else l=n;n=Rt();var f=n.queue,d=f.dispatch;return a!==n.memoizedState&&(qe.flags|=2048,mi(9,{destroy:void 0},a_.bind(null,f,a),null)),[l,d,e]}function a_(e,n){e.action=n}function jg(e){var n=Rt(),a=ft;if(a!==null)return Tg(n,a,e);Rt(),n=n.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function mi(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=qe.updateQueue,n===null&&(n=yc(),qe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function Sg(){return Rt().memoizedState}function vc(e,n,a,l){var f=mn();qe.flags|=e,f.memoizedState=mi(1|n,{destroy:void 0},a,l===void 0?null:l)}function _c(e,n,a,l){var f=Rt();l=l===void 0?null:l;var d=f.memoizedState.inst;ft!==null&&l!==null&&Rh(l,ft.memoizedState.deps)?f.memoizedState=mi(n,d,a,l):(qe.flags|=e,f.memoizedState=mi(1|n,d,a,l))}function Ag(e,n){vc(8390656,8,e,n)}function Ph(e,n){_c(2048,8,e,n)}function r_(e){qe.flags|=4;var n=qe.updateQueue;if(n===null)n=yc(),qe.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Cg(e){var n=Rt().memoizedState;return r_({ref:n,nextImpl:e}),function(){if((it&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function Rg(e,n){return _c(4,2,e,n)}function Dg(e,n){return _c(4,4,e,n)}function Mg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ig(e,n,a){a=a!=null?a.concat([e]):null,_c(4,4,Mg.bind(null,n,e),a)}function Bh(){}function Og(e,n){var a=Rt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Rh(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Vg(e,n){var a=Rt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Rh(n,l[1]))return l[0];if(l=e(),Tr){kn(!0);try{e()}finally{kn(!1)}}return a.memoizedState=[l,n],l}function qh(e,n,a){return a===void 0||($s&1073741824)!==0&&(Ke&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=kp(),qe.lanes|=e,Aa|=e,a)}function kg(e,n,a,l){return Sn(a,n)?a:hi.current!==null?(e=qh(e,a,l),Sn(e,n)||(Pt=!0),e):($s&42)===0||($s&1073741824)!==0&&(Ke&261930)===0?(Pt=!0,e.memoizedState=a):(e=kp(),qe.lanes|=e,Aa|=e,n)}function zg(e,n,a,l,f){var d=Q.p;Q.p=d!==0&&8>d?d:8;var b=F.T,N={};F.T=N,Fh(e,!1,n,a);try{var I=f(),G=F.S;if(G!==null&&G(N,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ne=e_(I,l);Cl(e,n,ne,In(e))}else Cl(e,n,l,In(e))}catch(ie){Cl(e,n,{then:function(){},status:"rejected",reason:ie},In())}finally{Q.p=d,b!==null&&N.types!==null&&(b.types=N.types),F.T=b}}function i_(){}function Hh(e,n,a,l){if(e.tag!==5)throw Error(i(476));var f=Ug(e).queue;zg(e,f,n,he,a===null?i_:function(){return Lg(e),a(l)})}function Ug(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:he},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Lg(e){var n=Ug(e);n.next===null&&(n=e.alternate.memoizedState),Cl(e,n.next.queue,{},In())}function Gh(){return tn($l)}function Pg(){return Rt().memoizedState}function Bg(){return Rt().memoizedState}function l_(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=In();e=Ea(a);var l=Na(n,e,a);l!==null&&(_n(l,n,a),wl(l,n,a)),n={cache:bh()},e.payload=n;return}n=n.return}}function o_(e,n,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(e)?Hg(n,a):(a=oh(e,n,a,l),a!==null&&(_n(a,e,l),Gg(a,n,l)))}function qg(e,n,a){var l=In();Cl(e,n,a,l)}function Cl(e,n,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(e))Hg(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var b=n.lastRenderedState,N=d(b,a);if(f.hasEagerState=!0,f.eagerState=N,Sn(N,b))return nc(e,n,f,0),gt===null&&tc(),!1}catch{}finally{}if(a=oh(e,n,f,l),a!==null)return _n(a,e,l),Gg(a,n,l),!0}return!1}function Fh(e,n,a,l){if(l={lane:2,revertLane:wf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(e)){if(n)throw Error(i(479))}else n=oh(e,a,l,2),n!==null&&_n(n,e,2)}function Ec(e){var n=e.alternate;return e===qe||n!==null&&n===qe}function Hg(e,n){fi=gc=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Gg(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Zi(e,a)}}var Rl={readContext:tn,use:xc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Rl.useEffectEvent=wt;var Fg={readContext:tn,use:xc,useCallback:function(e,n){return mn().memoizedState=[e,n===void 0?null:n],e},useContext:tn,useEffect:Ag,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,vc(4194308,4,Mg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return vc(4194308,4,e,n)},useInsertionEffect:function(e,n){vc(4,2,e,n)},useMemo:function(e,n){var a=mn();n=n===void 0?null:n;var l=e();if(Tr){kn(!0);try{e()}finally{kn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=mn();if(a!==void 0){var f=a(n);if(Tr){kn(!0);try{a(n)}finally{kn(!1)}}}else f=n;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=o_.bind(null,qe,e),[l.memoizedState,e]},useRef:function(e){var n=mn();return e={current:e},n.memoizedState=e},useState:function(e){e=Uh(e);var n=e.queue,a=qg.bind(null,qe,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Bh,useDeferredValue:function(e,n){var a=mn();return qh(a,e,n)},useTransition:function(){var e=Uh(!1);return e=zg.bind(null,qe,e.queue,!0,!1),mn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=qe,f=mn();if(We){if(a===void 0)throw Error(i(407));a=a()}else{if(a=n(),gt===null)throw Error(i(349));(Ke&127)!==0||fg(l,n,a)}f.memoizedState=a;var d={value:a,getSnapshot:n};return f.queue=d,Ag(mg.bind(null,l,d,e),[e]),l.flags|=2048,mi(9,{destroy:void 0},dg.bind(null,l,d,a,n),null),a},useId:function(){var e=mn(),n=gt.identifierPrefix;if(We){var a=As,l=Ss;a=(l&~(1<<32-St(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=pc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=t_++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Gh,useFormState:Ng,useActionState:Ng,useOptimistic:function(e){var n=mn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Fh.bind(null,qe,!0,a),a.dispatch=n,[e,n]},useMemoCache:Vh,useCacheRefresh:function(){return mn().memoizedState=l_.bind(null,qe)},useEffectEvent:function(e){var n=mn(),a={impl:e};return n.memoizedState=a,function(){if((it&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},$h={readContext:tn,use:xc,useCallback:Og,useContext:tn,useEffect:Ph,useImperativeHandle:Ig,useInsertionEffect:Rg,useLayoutEffect:Dg,useMemo:Vg,useReducer:bc,useRef:Sg,useState:function(){return bc(Ys)},useDebugValue:Bh,useDeferredValue:function(e,n){var a=Rt();return kg(a,ft.memoizedState,e,n)},useTransition:function(){var e=bc(Ys)[0],n=Rt().memoizedState;return[typeof e=="boolean"?e:Al(e),n]},useSyncExternalStore:hg,useId:Pg,useHostTransitionStatus:Gh,useFormState:wg,useActionState:wg,useOptimistic:function(e,n){var a=Rt();return yg(a,ft,e,n)},useMemoCache:Vh,useCacheRefresh:Bg};$h.useEffectEvent=Cg;var $g={readContext:tn,use:xc,useCallback:Og,useContext:tn,useEffect:Ph,useImperativeHandle:Ig,useInsertionEffect:Rg,useLayoutEffect:Dg,useMemo:Vg,useReducer:zh,useRef:Sg,useState:function(){return zh(Ys)},useDebugValue:Bh,useDeferredValue:function(e,n){var a=Rt();return ft===null?qh(a,e,n):kg(a,ft.memoizedState,e,n)},useTransition:function(){var e=zh(Ys)[0],n=Rt().memoizedState;return[typeof e=="boolean"?e:Al(e),n]},useSyncExternalStore:hg,useId:Pg,useHostTransitionStatus:Gh,useFormState:jg,useActionState:jg,useOptimistic:function(e,n){var a=Rt();return ft!==null?yg(a,ft,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Vh,useCacheRefresh:Bg};$g.useEffectEvent=Cg;function Yh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Qh={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=In(),f=Ea(l);f.payload=n,a!=null&&(f.callback=a),n=Na(e,f,l),n!==null&&(_n(n,e,l),wl(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=In(),f=Ea(l);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=Na(e,f,l),n!==null&&(_n(n,e,l),wl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=In(),l=Ea(a);l.tag=2,n!=null&&(l.callback=n),n=Na(e,l,a),n!==null&&(_n(n,e,a),wl(n,e,a))}};function Yg(e,n,a,l,f,d,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,b):n.prototype&&n.prototype.isPureReactComponent?!pl(a,l)||!pl(f,d):!0}function Qg(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Qh.enqueueReplaceState(n,n.state,null)}function jr(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=E({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function Kg(e){ec(e)}function Xg(e){console.error(e)}function Zg(e){ec(e)}function Nc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Jg(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Kh(e,n,a){return a=Ea(a),a.tag=3,a.payload={element:null},a.callback=function(){Nc(e,n)},a}function Wg(e){return e=Ea(e),e.tag=3,e}function ep(e,n,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){Jg(n,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Jg(n,a,l),typeof f!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})})}function c_(e,n,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ii(n,a,f,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?Vc():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===uc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),_f(e,l,f)),!1;case 22:return a.flags|=65536,l===uc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),_f(e,l,f)),!1}throw Error(i(435,a.tag))}return _f(e,l,f),Vc(),!1}if(We)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==mh&&(e=Error(i(422),{cause:l}),bl(qn(e,a)))):(l!==mh&&(n=Error(i(423),{cause:l}),bl(qn(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=qn(l,a),f=Kh(e.stateNode,l,f),Th(e,f),Tt!==4&&(Tt=2)),!1;var d=Error(i(520),{cause:l});if(d=qn(d,a),Ul===null?Ul=[d]:Ul.push(d),Tt!==4&&(Tt=2),n===null)return!0;l=qn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Kh(a.stateNode,l,e),Th(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ca===null||!Ca.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Wg(f),ep(f,e,a,l),Th(a,f),!1}a=a.return}while(a!==null);return!1}var Xh=Error(i(461)),Pt=!1;function nn(e,n,a,l){n.child=e===null?ag(n,null,a,l):wr(n,e.child,a,l)}function tp(e,n,a,l,f){a=a.render;var d=n.ref;if("ref"in l){var b={};for(var N in l)N!=="ref"&&(b[N]=l[N])}else b=l;return vr(n),l=Dh(e,n,a,b,d,f),N=Mh(),e!==null&&!Pt?(Ih(e,n,f),Qs(e,n,f)):(We&&N&&fh(n),n.flags|=1,nn(e,n,l,f),n.child)}function np(e,n,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!ch(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,sp(e,n,d,l,f)):(e=ac(a.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!af(e,f)){var b=d.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(b,l)&&e.ref===n.ref)return Qs(e,n,f)}return n.flags|=1,e=qs(d,l),e.ref=n.ref,e.return=n,n.child=e}function sp(e,n,a,l,f){if(e!==null){var d=e.memoizedProps;if(pl(d,l)&&e.ref===n.ref)if(Pt=!1,n.pendingProps=l=d,af(e,f))(e.flags&131072)!==0&&(Pt=!0);else return n.lanes=e.lanes,Qs(e,n,f)}return Zh(e,n,a,l,f)}function ap(e,n,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=n.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,n.child=null;return rp(e,n,d,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&oc(n,d!==null?d.cachePool:null),d!==null?lg(n,d):Sh(),og(n);else return l=n.lanes=536870912,rp(e,n,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(oc(n,d.cachePool),lg(n,d),Ta(),n.memoizedState=null):(e!==null&&oc(n,null),Sh(),Ta());return nn(e,n,f,a),n.child}function Dl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function rp(e,n,a,l,f){var d=_h();return d=d===null?null:{parent:Ut._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},e!==null&&oc(n,null),Sh(),og(n),e!==null&&ii(e,n,l,!0),n.childLanes=f,null}function wc(e,n){return n=jc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ip(e,n,a){return wr(n,e.child,null,a),e=wc(n,n.pendingProps),e.flags|=2,Rn(n),n.memoizedState=null,e}function u_(e,n,a){var l=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(We){if(l.mode==="hidden")return e=wc(n,l),n.lanes=536870912,Dl(null,e);if(Ch(n),(e=bt)?(e=xy(e,Fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ya!==null?{id:Ss,overflow:As}:null,retryLane:536870912,hydrationErrors:null},a=Hm(e),a.return=n,n.child=a,en=n,bt=null)):e=null,e===null)throw ba(n);return n.lanes=536870912,null}return wc(n,l)}var d=e.memoizedState;if(d!==null){var b=d.dehydrated;if(Ch(n),f)if(n.flags&256)n.flags&=-257,n=ip(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(i(558));else if(Pt||ii(e,n,a,!1),f=(a&e.childLanes)!==0,Pt||f){if(l=gt,l!==null&&(b=Ji(l,a),b!==0&&b!==d.retryLane))throw d.retryLane=b,pr(e,b),_n(l,e,b),Xh;Vc(),n=ip(e,n,a)}else e=d.treeContext,bt=Yn(b.nextSibling),en=n,We=!0,xa=null,Fn=!1,e!==null&&$m(n,e),n=wc(n,l),n.flags|=4096;return n}return e=qs(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Tc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Zh(e,n,a,l,f){return vr(n),a=Dh(e,n,a,l,void 0,f),l=Mh(),e!==null&&!Pt?(Ih(e,n,f),Qs(e,n,f)):(We&&l&&fh(n),n.flags|=1,nn(e,n,a,f),n.child)}function lp(e,n,a,l,f,d){return vr(n),n.updateQueue=null,a=ug(n,l,a,f),cg(e),l=Mh(),e!==null&&!Pt?(Ih(e,n,d),Qs(e,n,d)):(We&&l&&fh(n),n.flags|=1,nn(e,n,a,d),n.child)}function op(e,n,a,l,f){if(vr(n),n.stateNode===null){var d=ni,b=a.contextType;typeof b=="object"&&b!==null&&(d=tn(b)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Nh(n),b=a.contextType,d.context=typeof b=="object"&&b!==null?tn(b):ni,d.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Yh(n,a,b,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&Qh.enqueueReplaceState(d,d.state,null),jl(n,l,d,f),Tl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var N=n.memoizedProps,I=jr(a,N);d.props=I;var G=d.context,ne=a.contextType;b=ni,typeof ne=="object"&&ne!==null&&(b=tn(ne));var ie=a.getDerivedStateFromProps;ne=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",N=n.pendingProps!==N,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(N||G!==b)&&Qg(n,d,l,b),_a=!1;var $=n.memoizedState;d.state=$,jl(n,l,d,f),Tl(),G=n.memoizedState,N||$!==G||_a?(typeof ie=="function"&&(Yh(n,a,ie,l),G=n.memoizedState),(I=_a||Yg(n,a,I,l,$,G,b))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=G),d.props=l,d.state=G,d.context=b,l=I):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,wh(e,n),b=n.memoizedProps,ne=jr(a,b),d.props=ne,ie=n.pendingProps,$=d.context,G=a.contextType,I=ni,typeof G=="object"&&G!==null&&(I=tn(G)),N=a.getDerivedStateFromProps,(G=typeof N=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==ie||$!==I)&&Qg(n,d,l,I),_a=!1,$=n.memoizedState,d.state=$,jl(n,l,d,f),Tl();var X=n.memoizedState;b!==ie||$!==X||_a||e!==null&&e.dependencies!==null&&ic(e.dependencies)?(typeof N=="function"&&(Yh(n,a,N,l),X=n.memoizedState),(ne=_a||Yg(n,a,ne,l,$,X,I)||e!==null&&e.dependencies!==null&&ic(e.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,I)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=X),d.props=l,d.state=X,d.context=I,l=ne):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Tc(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=wr(n,e.child,null,f),n.child=wr(n,null,a,f)):nn(e,n,a,f),n.memoizedState=d.state,e=n.child):e=Qs(e,n,f),e}function cp(e,n,a,l){return xr(),n.flags|=256,nn(e,n,a,l),n.child}var Jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wh(e){return{baseLanes:e,cachePool:Jm()}}function ef(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Mn),e}function up(e,n,a){var l=n.pendingProps,f=!1,d=(n.flags&128)!==0,b;if((b=d)||(b=e!==null&&e.memoizedState===null?!1:(Ct.current&2)!==0),b&&(f=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(We){if(f?wa(n):Ta(),(e=bt)?(e=xy(e,Fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ya!==null?{id:Ss,overflow:As}:null,retryLane:536870912,hydrationErrors:null},a=Hm(e),a.return=n,n.child=a,en=n,bt=null)):e=null,e===null)throw ba(n);return zf(e)?n.lanes=32:n.lanes=536870912,null}var N=l.children;return l=l.fallback,f?(Ta(),f=n.mode,N=jc({mode:"hidden",children:N},f),l=yr(l,f,a,null),N.return=n,l.return=n,N.sibling=l,n.child=N,l=n.child,l.memoizedState=Wh(a),l.childLanes=ef(e,b,a),n.memoizedState=Jh,Dl(null,l)):(wa(n),tf(n,N))}var I=e.memoizedState;if(I!==null&&(N=I.dehydrated,N!==null)){if(d)n.flags&256?(wa(n),n.flags&=-257,n=nf(e,n,a)):n.memoizedState!==null?(Ta(),n.child=e.child,n.flags|=128,n=null):(Ta(),N=l.fallback,f=n.mode,l=jc({mode:"visible",children:l.children},f),N=yr(N,f,a,null),N.flags|=2,l.return=n,N.return=n,l.sibling=N,n.child=l,wr(n,e.child,null,a),l=n.child,l.memoizedState=Wh(a),l.childLanes=ef(e,b,a),n.memoizedState=Jh,n=Dl(null,l));else if(wa(n),zf(N)){if(b=N.nextSibling&&N.nextSibling.dataset,b)var G=b.dgst;b=G,l=Error(i(419)),l.stack="",l.digest=b,bl({value:l,source:null,stack:null}),n=nf(e,n,a)}else if(Pt||ii(e,n,a,!1),b=(a&e.childLanes)!==0,Pt||b){if(b=gt,b!==null&&(l=Ji(b,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,pr(e,l),_n(b,e,l),Xh;kf(N)||Vc(),n=nf(e,n,a)}else kf(N)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,bt=Yn(N.nextSibling),en=n,We=!0,xa=null,Fn=!1,e!==null&&$m(n,e),n=tf(n,l.children),n.flags|=4096);return n}return f?(Ta(),N=l.fallback,f=n.mode,I=e.child,G=I.sibling,l=qs(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,G!==null?N=qs(G,N):(N=yr(N,f,a,null),N.flags|=2),N.return=n,l.return=n,l.sibling=N,n.child=l,Dl(null,l),l=n.child,N=e.child.memoizedState,N===null?N=Wh(a):(f=N.cachePool,f!==null?(I=Ut._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=Jm(),N={baseLanes:N.baseLanes|a,cachePool:f}),l.memoizedState=N,l.childLanes=ef(e,b,a),n.memoizedState=Jh,Dl(e.child,l)):(wa(n),a=e.child,e=a.sibling,a=qs(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=a,n.memoizedState=null,a)}function tf(e,n){return n=jc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function jc(e,n){return e=An(22,e,null,n),e.lanes=0,e}function nf(e,n,a){return wr(n,e.child,null,a),e=tf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function hp(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),yh(e.return,n,a)}function sf(e,n,a,l,f,d){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=f,b.treeForkCount=d)}function fp(e,n,a){var l=n.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var b=Ct.current,N=(b&2)!==0;if(N?(b=b&1|2,n.flags|=128):b&=1,ue(Ct,b),nn(e,n,l,a),l=We?xl:0,!N&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hp(e,a,n);else if(e.tag===19)hp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&mc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),sf(n,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&mc(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}sf(n,!0,a,null,d,l);break;case"together":sf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Qs(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Aa|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ii(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,a=qs(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=qs(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function af(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ic(e)))}function h_(e,n,a){switch(n.tag){case 3:Fe(n,n.stateNode.containerInfo),va(n,Ut,e.memoizedState.cache),xr();break;case 27:case 5:xt(n);break;case 4:Fe(n,n.stateNode.containerInfo);break;case 10:va(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ch(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(wa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?up(e,n,a):(wa(n),e=Qs(e,n,a),e!==null?e.sibling:null);wa(n);break;case 19:var f=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ii(e,n,a,!1),l=(a&n.childLanes)!==0),f){if(l)return fp(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Ct,Ct.current),l)break;return null;case 22:return n.lanes=0,ap(e,n,a,n.pendingProps);case 24:va(n,Ut,e.memoizedState.cache)}return Qs(e,n,a)}function dp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Pt=!0;else{if(!af(e,a)&&(n.flags&128)===0)return Pt=!1,h_(e,n,a);Pt=(e.flags&131072)!==0}else Pt=!1,We&&(n.flags&1048576)!==0&&Fm(n,xl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Er(n.elementType),n.type=e,typeof e=="function")ch(e)?(l=jr(e,l),n.tag=1,n=op(null,n,e,l,a)):(n.tag=0,n=Zh(null,n,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===ce){n.tag=11,n=tp(null,n,e,l,a);break e}else if(f===M){n.tag=14,n=np(null,n,e,l,a);break e}}throw n=be(e)||e,Error(i(306,n,""))}}return n;case 0:return Zh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,f=jr(l,n.pendingProps),op(e,n,l,f,a);case 3:e:{if(Fe(n,n.stateNode.containerInfo),e===null)throw Error(i(387));l=n.pendingProps;var d=n.memoizedState;f=d.element,wh(e,n),jl(n,l,null,a);var b=n.memoizedState;if(l=b.cache,va(n,Ut,l),l!==d.cache&&xh(n,[Ut],a,!0),Tl(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=cp(e,n,l,a);break e}else if(l!==f){f=qn(Error(i(424)),n),bl(f),n=cp(e,n,l,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(bt=Yn(e.firstChild),en=n,We=!0,xa=null,Fn=!0,a=ag(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xr(),l===f){n=Qs(e,n,a);break e}nn(e,n,l,a)}n=n.child}return n;case 26:return Tc(e,n),e===null?(a=wy(n.type,null,n.pendingProps,null))?n.memoizedState=a:We||(a=n.type,e=n.pendingProps,l=qc(we.current).createElement(a),l[Vt]=n,l[Qt]=e,sn(l,a,e),kt(l),n.stateNode=l):n.memoizedState=wy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return xt(n),e===null&&We&&(l=n.stateNode=_y(n.type,n.pendingProps,we.current),en=n,Fn=!0,f=bt,Ia(n.type)?(Uf=f,bt=Yn(l.firstChild)):bt=f),nn(e,n,n.pendingProps.children,a),Tc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&We&&((f=l=bt)&&(l=B_(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,en=n,bt=Yn(l.firstChild),Fn=!1,f=!0):f=!1),f||ba(n)),xt(n),f=n.type,d=n.pendingProps,b=e!==null?e.memoizedProps:null,l=d.children,If(f,d)?l=null:b!==null&&If(f,b)&&(n.flags|=32),n.memoizedState!==null&&(f=Dh(e,n,n_,null,null,a),$l._currentValue=f),Tc(e,n),nn(e,n,l,a),n.child;case 6:return e===null&&We&&((e=a=bt)&&(a=q_(a,n.pendingProps,Fn),a!==null?(n.stateNode=a,en=n,bt=null,e=!0):e=!1),e||ba(n)),null;case 13:return up(e,n,a);case 4:return Fe(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=wr(n,null,l,a):nn(e,n,l,a),n.child;case 11:return tp(e,n,n.type,n.pendingProps,a);case 7:return nn(e,n,n.pendingProps,a),n.child;case 8:return nn(e,n,n.pendingProps.children,a),n.child;case 12:return nn(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,va(n,n.type,l.value),nn(e,n,l.children,a),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,vr(n),f=tn(f),l=l(f),n.flags|=1,nn(e,n,l,a),n.child;case 14:return np(e,n,n.type,n.pendingProps,a);case 15:return sp(e,n,n.type,n.pendingProps,a);case 19:return fp(e,n,a);case 31:return u_(e,n,a);case 22:return ap(e,n,a,n.pendingProps);case 24:return vr(n),l=tn(Ut),e===null?(f=_h(),f===null&&(f=gt,d=bh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),n.memoizedState={parent:l,cache:f},Nh(n),va(n,Ut,f)):((e.lanes&a)!==0&&(wh(e,n),jl(n,null,null,a),Tl()),f=e.memoizedState,d=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),va(n,Ut,l)):(l=d.cache,va(n,Ut,l),l!==f.cache&&xh(n,[Ut],a,!0))),nn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Ks(e){e.flags|=4}function rf(e,n,a,l,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Pp())e.flags|=8192;else throw Nr=uc,Eh}else e.flags&=-16777217}function mp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cy(n))if(Pp())e.flags|=8192;else throw Nr=uc,Eh}function Sc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Io():536870912,e.lanes|=n,xi|=n)}function Ml(e,n){if(!We)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function vt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function f_(e,n,a){var l=n.pendingProps;switch(dh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(n),null;case 1:return vt(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Fs(Ut),Te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ri(n)?Ks(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gh())),vt(n),null;case 26:var f=n.type,d=n.memoizedState;return e===null?(Ks(n),d!==null?(vt(n),mp(n,d)):(vt(n),rf(n,f,null,l,a))):d?d!==e.memoizedState?(Ks(n),vt(n),mp(n,d)):(vt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ks(n),vt(n),rf(n,f,e,l,a)),null;case 27:if(Ee(n),a=we.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ks(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return vt(n),null}e=ge.current,ri(n)?Ym(n):(e=_y(f,l,a),n.stateNode=e,Ks(n))}return vt(n),null;case 5:if(Ee(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ks(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return vt(n),null}if(d=ge.current,ri(n))Ym(n);else{var b=qc(we.current);switch(d){case 1:d=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=b.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?b.createElement(f,{is:l.is}):b.createElement(f)}}d[Vt]=n,d[Qt]=l;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)d.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=d;e:switch(sn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ks(n)}}return vt(n),rf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ks(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(e=we.current,ri(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,f=en,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Vt]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uy(e.nodeValue,a)),e||ba(n,!0)}else e=qc(e).createTextNode(l),e[Vt]=n,n.stateNode=e}return vt(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=ri(n),a!==null){if(e===null){if(!l)throw Error(i(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Vt]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),e=!1}else a=gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(i(558))}return vt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=ri(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Vt]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),f=!1}else f=gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Sc(n,n.updateQueue),vt(n),null);case 4:return Te(),e===null&&Af(n.stateNode.containerInfo),vt(n),null;case 10:return Fs(n.type),vt(n),null;case 19:if(Y(Ct),l=n.memoizedState,l===null)return vt(n),null;if(f=(n.flags&128)!==0,d=l.rendering,d===null)if(f)Ml(l,!1);else{if(Tt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=mc(e),d!==null){for(n.flags|=128,Ml(l,!1),e=d.updateQueue,n.updateQueue=e,Sc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)qm(a,e),a=a.sibling;return ue(Ct,Ct.current&1|2),We&&Hs(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&fn()>Mc&&(n.flags|=128,f=!0,Ml(l,!1),n.lanes=4194304)}else{if(!f)if(e=mc(d),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Sc(n,e),Ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!We)return vt(n),null}else 2*fn()-l.renderingStartTime>Mc&&a!==536870912&&(n.flags|=128,f=!0,Ml(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=fn(),e.sibling=null,a=Ct.current,ue(Ct,f?a&1|2:a&1),We&&Hs(n,l.treeForkCount),e):(vt(n),null);case 22:case 23:return Rn(n),Ah(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(vt(n),n.subtreeFlags&6&&(n.flags|=8192)):vt(n),a=n.updateQueue,a!==null&&Sc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&Y(_r),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Fs(Ut),vt(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function d_(e,n){switch(dh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fs(Ut),Te(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ee(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(i(340));xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ct),null;case 4:return Te(),null;case 10:return Fs(n.type),null;case 22:case 23:return Rn(n),Ah(),e!==null&&Y(_r),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fs(Ut),null;case 25:return null;default:return null}}function gp(e,n){switch(dh(n),n.tag){case 3:Fs(Ut),Te();break;case 26:case 27:case 5:Ee(n);break;case 4:Te();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:Y(Ct);break;case 10:Fs(n.type);break;case 22:case 23:Rn(n),Ah(),e!==null&&Y(_r);break;case 24:Fs(Ut)}}function Il(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,b=a.inst;l=d(),b.destroy=l}a=a.next}while(a!==f)}}catch(N){ut(n,n.return,N)}}function ja(e,n,a){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var b=l.inst,N=b.destroy;if(N!==void 0){b.destroy=void 0,f=n;var I=a,G=N;try{G()}catch(ne){ut(f,I,ne)}}}l=l.next}while(l!==d)}}catch(ne){ut(n,n.return,ne)}}function pp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{ig(n,a)}catch(l){ut(e,e.return,l)}}}function yp(e,n,a){a.props=jr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ut(e,n,l)}}function Ol(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){ut(e,n,f)}}function Cs(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ut(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ut(e,n,f)}else a.current=null}function xp(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ut(e,e.return,f)}}function lf(e,n,a){try{var l=e.stateNode;V_(l,e.type,a,n),l[Qt]=n}catch(f){ut(e,e.return,f)}}function bp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ia(e.type)||e.tag===4}function of(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ia(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cf(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=es));else if(l!==4&&(l===27&&Ia(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(cf(e,n,a),e=e.sibling;e!==null;)cf(e,n,a),e=e.sibling}function Ac(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&Ia(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ac(e,n,a),e=e.sibling;e!==null;)Ac(e,n,a),e=e.sibling}function vp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);sn(n,l,a),n[Vt]=e,n[Qt]=a}catch(d){ut(e,e.return,d)}}var Xs=!1,Bt=!1,uf=!1,_p=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function m_(e,n){if(e=e.containerInfo,Df=Kc,e=Im(e),nh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var b=0,N=-1,I=-1,G=0,ne=0,ie=e,$=null;t:for(;;){for(var X;ie!==a||f!==0&&ie.nodeType!==3||(N=b+f),ie!==d||l!==0&&ie.nodeType!==3||(I=b+l),ie.nodeType===3&&(b+=ie.nodeValue.length),(X=ie.firstChild)!==null;)$=ie,ie=X;for(;;){if(ie===e)break t;if($===a&&++G===f&&(N=b),$===d&&++ne===l&&(I=b),(X=ie.nextSibling)!==null)break;ie=$,$=ie.parentNode}ie=X}a=N===-1||I===-1?null:{start:N,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mf={focusedElem:e,selectionRange:a},Kc=!1,Xt=n;Xt!==null;)if(n=Xt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Xt=e;else for(;Xt!==null;){switch(n=Xt,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var _e=jr(a.type,f);e=l.getSnapshotBeforeUpdate(_e,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Me){ut(a,a.return,Me)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Vf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,Xt=e;break}Xt=n.return}}function Ep(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Js(e,a),l&4&&Il(5,a);break;case 1:if(Js(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(b){ut(a,a.return,b)}else{var f=jr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){ut(a,a.return,b)}}l&64&&pp(a),l&512&&Ol(a,a.return);break;case 3:if(Js(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ig(e,n)}catch(b){ut(a,a.return,b)}}break;case 27:n===null&&l&4&&vp(a);case 26:case 5:Js(e,a),n===null&&l&4&&xp(a),l&512&&Ol(a,a.return);break;case 12:Js(e,a);break;case 31:Js(e,a),l&4&&Tp(e,a);break;case 13:Js(e,a),l&4&&jp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=N_.bind(null,a),H_(e,a))));break;case 22:if(l=a.memoizedState!==null||Xs,!l){n=n!==null&&n.memoizedState!==null||Bt,f=Xs;var d=Bt;Xs=l,(Bt=n)&&!d?Ws(e,a,(a.subtreeFlags&8772)!==0):Js(e,a),Xs=f,Bt=d}break;case 30:break;default:Js(e,a)}}function Np(e){var n=e.alternate;n!==null&&(e.alternate=null,Np(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&qr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Et=null,yn=!1;function Zs(e,n,a){for(a=a.child;a!==null;)wp(e,n,a),a=a.sibling}function wp(e,n,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Bt||Cs(a,n),Zs(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bt||Cs(a,n);var l=Et,f=yn;Ia(a.type)&&(Et=a.stateNode,yn=!1),Zs(e,n,a),Hl(a.stateNode),Et=l,yn=f;break;case 5:Bt||Cs(a,n);case 6:if(l=Et,f=yn,Et=null,Zs(e,n,a),Et=l,yn=f,Et!==null)if(yn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(a.stateNode)}catch(d){ut(a,n,d)}else try{Et.removeChild(a.stateNode)}catch(d){ut(a,n,d)}break;case 18:Et!==null&&(yn?(e=Et,py(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ji(e)):py(Et,a.stateNode));break;case 4:l=Et,f=yn,Et=a.stateNode.containerInfo,yn=!0,Zs(e,n,a),Et=l,yn=f;break;case 0:case 11:case 14:case 15:ja(2,a,n),Bt||ja(4,a,n),Zs(e,n,a);break;case 1:Bt||(Cs(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&yp(a,n,l)),Zs(e,n,a);break;case 21:Zs(e,n,a);break;case 22:Bt=(l=Bt)||a.memoizedState!==null,Zs(e,n,a),Bt=l;break;default:Zs(e,n,a)}}function Tp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ji(e)}catch(a){ut(n,n.return,a)}}}function jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ji(e)}catch(a){ut(n,n.return,a)}}function g_(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new _p),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new _p),n;default:throw Error(i(435,e.tag))}}function Cc(e,n){var a=g_(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var f=w_.bind(null,e,l);l.then(f,f)}})}function xn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,b=n,N=b;e:for(;N!==null;){switch(N.tag){case 27:if(Ia(N.type)){Et=N.stateNode,yn=!1;break e}break;case 5:Et=N.stateNode,yn=!1;break e;case 3:case 4:Et=N.stateNode.containerInfo,yn=!0;break e}N=N.return}if(Et===null)throw Error(i(160));wp(d,b,f),Et=null,yn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sp(n,e),n=n.sibling}var is=null;function Sp(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xn(n,e),bn(e),l&4&&(ja(3,e,e.return),Il(3,e),ja(5,e,e.return));break;case 1:xn(n,e),bn(e),l&512&&(Bt||a===null||Cs(a,a.return)),l&64&&Xs&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=is;if(xn(n,e),bn(e),l&512&&(Bt||a===null||Cs(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gs]||d[Vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),sn(d,l,a),d[Vt]=e,kt(d),l=d;break e;case"link":var b=Sy("link","href",f).get(l+(a.href||""));if(b){for(var N=0;N<b.length;N++)if(d=b[N],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(N,1);break t}}d=f.createElement(l),sn(d,l,a),f.head.appendChild(d);break;case"meta":if(b=Sy("meta","content",f).get(l+(a.content||""))){for(N=0;N<b.length;N++)if(d=b[N],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(N,1);break t}}d=f.createElement(l),sn(d,l,a),f.head.appendChild(d);break;default:throw Error(i(468,l))}d[Vt]=e,kt(d),l=d}e.stateNode=l}else Ay(f,e.type,e.stateNode);else e.stateNode=jy(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Ay(f,e.type,e.stateNode):jy(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&lf(e,e.memoizedProps,a.memoizedProps)}break;case 27:xn(n,e),bn(e),l&512&&(Bt||a===null||Cs(a,a.return)),a!==null&&l&4&&lf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(xn(n,e),bn(e),l&512&&(Bt||a===null||Cs(a,a.return)),e.flags&32){f=e.stateNode;try{pn(f,"")}catch(_e){ut(e,e.return,_e)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,lf(e,f,a!==null?a.memoizedProps:f)),l&1024&&(uf=!0);break;case 6:if(xn(n,e),bn(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(_e){ut(e,e.return,_e)}}break;case 3:if(Fc=null,f=is,is=Hc(n.containerInfo),xn(n,e),is=f,bn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ji(n.containerInfo)}catch(_e){ut(e,e.return,_e)}uf&&(uf=!1,Ap(e));break;case 4:l=is,is=Hc(e.stateNode.containerInfo),xn(n,e),bn(e),is=l;break;case 12:xn(n,e),bn(e);break;case 31:xn(n,e),bn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cc(e,l)));break;case 13:xn(n,e),bn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dc=fn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cc(e,l)));break;case 22:f=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,G=Xs,ne=Bt;if(Xs=G||f,Bt=ne||I,xn(n,e),Bt=ne,Xs=G,bn(e),l&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||I||Xs||Bt||Sr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(d=I.stateNode,f)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{N=I.stateNode;var ie=I.memoizedProps.style,$=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;N.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(_e){ut(I,I.return,_e)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(_e){ut(I,I.return,_e)}}}else if(n.tag===18){if(a===null){I=n;try{var X=I.stateNode;f?yy(X,!0):yy(I.stateNode,!1)}catch(_e){ut(I,I.return,_e)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cc(e,a))));break;case 19:xn(n,e),bn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cc(e,l)));break;case 30:break;case 21:break;default:xn(n,e),bn(e)}}function bn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(bp(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,d=of(e);Ac(e,d,f);break;case 5:var b=a.stateNode;a.flags&32&&(pn(b,""),a.flags&=-33);var N=of(e);Ac(e,N,b);break;case 3:case 4:var I=a.stateNode.containerInfo,G=of(e);cf(e,G,I);break;default:throw Error(i(161))}}catch(ne){ut(e,e.return,ne)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ap(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ap(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Js(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ep(e,n.alternate,n),n=n.sibling}function Sr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ja(4,n,n.return),Sr(n);break;case 1:Cs(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&yp(n,n.return,a),Sr(n);break;case 27:Hl(n.stateNode);case 26:case 5:Cs(n,n.return),Sr(n);break;case 22:n.memoizedState===null&&Sr(n);break;case 30:Sr(n);break;default:Sr(n)}e=e.sibling}}function Ws(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=e,d=n,b=d.flags;switch(d.tag){case 0:case 11:case 15:Ws(f,d,a),Il(4,d);break;case 1:if(Ws(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){ut(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var N=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)rg(I[f],N)}catch(G){ut(l,l.return,G)}}a&&b&64&&pp(d),Ol(d,d.return);break;case 27:vp(d);case 26:case 5:Ws(f,d,a),a&&l===null&&b&4&&xp(d),Ol(d,d.return);break;case 12:Ws(f,d,a);break;case 31:Ws(f,d,a),a&&b&4&&Tp(f,d);break;case 13:Ws(f,d,a),a&&b&4&&jp(f,d);break;case 22:d.memoizedState===null&&Ws(f,d,a),Ol(d,d.return);break;case 30:break;default:Ws(f,d,a)}n=n.sibling}}function hf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&vl(a))}function ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&vl(e))}function ls(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cp(e,n,a,l),n=n.sibling}function Cp(e,n,a,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ls(e,n,a,l),f&2048&&Il(9,n);break;case 1:ls(e,n,a,l);break;case 3:ls(e,n,a,l),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&vl(e)));break;case 12:if(f&2048){ls(e,n,a,l),e=n.stateNode;try{var d=n.memoizedProps,b=d.id,N=d.onPostCommit;typeof N=="function"&&N(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ut(n,n.return,I)}}else ls(e,n,a,l);break;case 31:ls(e,n,a,l);break;case 13:ls(e,n,a,l);break;case 23:break;case 22:d=n.stateNode,b=n.alternate,n.memoizedState!==null?d._visibility&2?ls(e,n,a,l):Vl(e,n):d._visibility&2?ls(e,n,a,l):(d._visibility|=2,gi(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),f&2048&&hf(b,n);break;case 24:ls(e,n,a,l),f&2048&&ff(n.alternate,n);break;default:ls(e,n,a,l)}}function gi(e,n,a,l,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,b=n,N=a,I=l,G=b.flags;switch(b.tag){case 0:case 11:case 15:gi(d,b,N,I,f),Il(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?gi(d,b,N,I,f):Vl(d,b):(ne._visibility|=2,gi(d,b,N,I,f)),f&&G&2048&&hf(b.alternate,b);break;case 24:gi(d,b,N,I,f),f&&G&2048&&ff(b.alternate,b);break;default:gi(d,b,N,I,f)}n=n.sibling}}function Vl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,f=l.flags;switch(l.tag){case 22:Vl(a,l),f&2048&&hf(l.alternate,l);break;case 24:Vl(a,l),f&2048&&ff(l.alternate,l);break;default:Vl(a,l)}n=n.sibling}}var kl=8192;function pi(e,n,a){if(e.subtreeFlags&kl)for(e=e.child;e!==null;)Rp(e,n,a),e=e.sibling}function Rp(e,n,a){switch(e.tag){case 26:pi(e,n,a),e.flags&kl&&e.memoizedState!==null&&t1(a,is,e.memoizedState,e.memoizedProps);break;case 5:pi(e,n,a);break;case 3:case 4:var l=is;is=Hc(e.stateNode.containerInfo),pi(e,n,a),is=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=kl,kl=16777216,pi(e,n,a),kl=l):pi(e,n,a));break;default:pi(e,n,a)}}function Dp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function zl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Xt=l,Ip(l,e)}Dp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mp(e),e=e.sibling}function Mp(e){switch(e.tag){case 0:case 11:case 15:zl(e),e.flags&2048&&ja(9,e,e.return);break;case 3:zl(e);break;case 12:zl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Rc(e)):zl(e);break;default:zl(e)}}function Rc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Xt=l,Ip(l,e)}Dp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ja(8,n,n.return),Rc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(n));break;default:Rc(n)}e=e.sibling}}function Ip(e,n){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:ja(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xt=l;else e:for(a=e;Xt!==null;){l=Xt;var f=l.sibling,d=l.return;if(Np(l),l===a){Xt=null;break e}if(f!==null){f.return=d,Xt=f;break e}Xt=d}}}var p_={getCacheForType:function(e){var n=tn(Ut),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return tn(Ut).controller.signal}},y_=typeof WeakMap=="function"?WeakMap:Map,it=0,gt=null,$e=null,Ke=0,ct=0,Dn=null,Sa=!1,yi=!1,df=!1,ea=0,Tt=0,Aa=0,Ar=0,mf=0,Mn=0,xi=0,Ul=null,vn=null,gf=!1,Dc=0,Op=0,Mc=1/0,Ic=null,Ca=null,$t=0,Ra=null,bi=null,ta=0,pf=0,yf=null,Vp=null,Ll=0,xf=null;function In(){return(it&2)!==0&&Ke!==0?Ke&-Ke:F.T!==null?wf():Oo()}function kp(){if(Mn===0)if((Ke&536870912)===0||We){var e=tr;tr<<=1,(tr&3932160)===0&&(tr=262144),Mn=e}else Mn=536870912;return e=Cn.current,e!==null&&(e.flags|=32),Mn}function _n(e,n,a){(e===gt&&(ct===2||ct===9)||e.cancelPendingCommit!==null)&&(vi(e,0),Da(e,Ke,Mn,!1)),nr(e,a),((it&2)===0||e!==gt)&&(e===gt&&((it&2)===0&&(Ar|=a),Tt===4&&Da(e,Ke,Mn,!1)),Rs(e))}function zp(e,n,a){if((it&6)!==0)throw Error(i(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Zn(e,n),f=l?v_(e,n):vf(e,n,!0),d=l;do{if(f===0){yi&&!l&&Da(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!x_(a)){f=vf(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var N=e;f=Ul;var I=N.current.memoizedState.isDehydrated;if(I&&(vi(N,b).flags|=256),b=vf(N,b,!1),b!==2){if(df&&!I){N.errorRecoveryDisabledLanes|=d,Ar|=d,f=4;break e}d=vn,vn=f,d!==null&&(vn===null?vn=d:vn.push.apply(vn,d))}f=b}if(d=!1,f!==2)continue}}if(f===1){vi(e,0),Da(e,n,0,!0);break}e:{switch(l=e,d=f,d){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:Da(l,n,Mn,!Sa);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(f=Dc+300-fn(),10<f)){if(Da(l,n,Mn,!Sa),fs(l,0,!0)!==0)break e;ta=n,l.timeoutHandle=my(Up.bind(null,l,a,vn,Ic,gf,n,Mn,Ar,xi,Sa,d,"Throttled",-0,0),f);break e}Up(l,a,vn,Ic,gf,n,Mn,Ar,xi,Sa,d,null,-0,0)}}break}while(!0);Rs(e)}function Up(e,n,a,l,f,d,b,N,I,G,ne,ie,$,X){if(e.timeoutHandle=-1,ie=n.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:es},Rp(n,d,ie);var _e=(d&62914560)===d?Dc-fn():(d&4194048)===d?Op-fn():0;if(_e=n1(ie,_e),_e!==null){ta=d,e.cancelPendingCommit=_e($p.bind(null,e,n,d,a,l,f,b,N,I,ne,ie,null,$,X)),Da(e,d,b,!G);return}}$p(e,n,d,a,l,f,b,N,I)}function x_(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Sn(d(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Da(e,n,a,l){n&=~mf,n&=~Ar,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var f=n;0<f;){var d=31-St(f),b=1<<d;l[d]=-1,f&=~b}a!==0&&sr(e,a,n)}function Oc(){return(it&6)===0?(Pl(0),!1):!0}function bf(){if($e!==null){if(ct===0)var e=$e.return;else e=$e,Gs=br=null,Oh(e),ui=null,El=0,e=$e;for(;e!==null;)gp(e.alternate,e),e=e.return;$e=null}}function vi(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,U_(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ta=0,bf(),gt=e,$e=a=qs(e.current,null),Ke=n,ct=0,Dn=null,Sa=!1,yi=Zn(e,n),df=!1,xi=Mn=mf=Ar=Aa=Tt=0,vn=Ul=null,gf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var f=31-St(l),d=1<<f;n|=e[f],l&=~d}return ea=n,tc(),a}function Lp(e,n){qe=null,F.H=Rl,n===ci||n===cc?(n=tg(),ct=3):n===Eh?(n=tg(),ct=4):ct=n===Xh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dn=n,$e===null&&(Tt=1,Nc(e,qn(n,e.current)))}function Pp(){var e=Cn.current;return e===null?!0:(Ke&4194048)===Ke?$n===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?e===$n:!1}function Bp(){var e=F.H;return F.H=Rl,e===null?Rl:e}function qp(){var e=F.A;return F.A=p_,e}function Vc(){Tt=4,Sa||(Ke&4194048)!==Ke&&Cn.current!==null||(yi=!0),(Aa&134217727)===0&&(Ar&134217727)===0||gt===null||Da(gt,Ke,Mn,!1)}function vf(e,n,a){var l=it;it|=2;var f=Bp(),d=qp();(gt!==e||Ke!==n)&&(Ic=null,vi(e,n)),n=!1;var b=Tt;e:do try{if(ct!==0&&$e!==null){var N=$e,I=Dn;switch(ct){case 8:bf(),b=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var G=ct;if(ct=0,Dn=null,_i(e,N,I,G),a&&yi){b=0;break e}break;default:G=ct,ct=0,Dn=null,_i(e,N,I,G)}}b_(),b=Tt;break}catch(ne){Lp(e,ne)}while(!0);return n&&e.shellSuspendCounter++,Gs=br=null,it=l,F.H=f,F.A=d,$e===null&&(gt=null,Ke=0,tc()),b}function b_(){for(;$e!==null;)Hp($e)}function v_(e,n){var a=it;it|=2;var l=Bp(),f=qp();gt!==e||Ke!==n?(Ic=null,Mc=fn()+500,vi(e,n)):yi=Zn(e,n);e:do try{if(ct!==0&&$e!==null){n=$e;var d=Dn;t:switch(ct){case 1:ct=0,Dn=null,_i(e,n,d,1);break;case 2:case 9:if(Wm(d)){ct=0,Dn=null,Gp(n);break}n=function(){ct!==2&&ct!==9||gt!==e||(ct=7),Rs(e)},d.then(n,n);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Wm(d)?(ct=0,Dn=null,Gp(n)):(ct=0,Dn=null,_i(e,n,d,7));break;case 5:var b=null;switch($e.tag){case 26:b=$e.memoizedState;case 5:case 27:var N=$e;if(b?Cy(b):N.stateNode.complete){ct=0,Dn=null;var I=N.sibling;if(I!==null)$e=I;else{var G=N.return;G!==null?($e=G,kc(G)):$e=null}break t}}ct=0,Dn=null,_i(e,n,d,5);break;case 6:ct=0,Dn=null,_i(e,n,d,6);break;case 8:bf(),Tt=6;break e;default:throw Error(i(462))}}__();break}catch(ne){Lp(e,ne)}while(!0);return Gs=br=null,F.H=l,F.A=f,it=a,$e!==null?0:(gt=null,Ke=0,tc(),Tt)}function __(){for(;$e!==null&&!at();)Hp($e)}function Hp(e){var n=dp(e.alternate,e,ea);e.memoizedProps=e.pendingProps,n===null?kc(e):$e=n}function Gp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=lp(a,n,n.pendingProps,n.type,void 0,Ke);break;case 11:n=lp(a,n,n.pendingProps,n.type.render,n.ref,Ke);break;case 5:Oh(n);default:gp(a,n),n=$e=qm(n,ea),n=dp(a,n,ea)}e.memoizedProps=e.pendingProps,n===null?kc(e):$e=n}function _i(e,n,a,l){Gs=br=null,Oh(n),ui=null,El=0;var f=n.return;try{if(c_(e,f,n,a,Ke)){Tt=1,Nc(e,qn(a,e.current)),$e=null;return}}catch(d){if(f!==null)throw $e=f,d;Tt=1,Nc(e,qn(a,e.current)),$e=null;return}n.flags&32768?(We||l===1?e=!0:yi||(Ke&536870912)!==0?e=!1:(Sa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fp(n,e)):kc(n)}function kc(e){var n=e;do{if((n.flags&32768)!==0){Fp(n,Sa);return}e=n.return;var a=f_(n.alternate,n,ea);if(a!==null){$e=a;return}if(n=n.sibling,n!==null){$e=n;return}$e=n=e}while(n!==null);Tt===0&&(Tt=5)}function Fp(e,n){do{var a=d_(e.alternate,e);if(a!==null){a.flags&=32767,$e=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){$e=e;return}$e=e=a}while(e!==null);Tt=6,$e=null}function $p(e,n,a,l,f,d,b,N,I){e.cancelPendingCommit=null;do zc();while($t!==0);if((it&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(d=n.lanes|n.childLanes,d|=lh,Ju(e,a,d,b,N,I),e===gt&&($e=gt=null,Ke=0),bi=n,Ra=e,ta=a,pf=d,yf=f,Vp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,T_(la,function(){return Zp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,f=Q.p,Q.p=2,b=it,it|=4;try{m_(e,n,a)}finally{it=b,Q.p=f,F.T=l}}$t=1,Yp(),Qp(),Kp()}}function Yp(){if($t===1){$t=0;var e=Ra,n=bi,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=Q.p;Q.p=2;var f=it;it|=4;try{Sp(n,e);var d=Mf,b=Im(e.containerInfo),N=d.focusedElem,I=d.selectionRange;if(b!==N&&N&&N.ownerDocument&&Mm(N.ownerDocument.documentElement,N)){if(I!==null&&nh(N)){var G=I.start,ne=I.end;if(ne===void 0&&(ne=G),"selectionStart"in N)N.selectionStart=G,N.selectionEnd=Math.min(ne,N.value.length);else{var ie=N.ownerDocument||document,$=ie&&ie.defaultView||window;if($.getSelection){var X=$.getSelection(),_e=N.textContent.length,Me=Math.min(I.start,_e),mt=I.end===void 0?Me:Math.min(I.end,_e);!X.extend&&Me>mt&&(b=mt,mt=Me,Me=b);var L=Dm(N,Me),z=Dm(N,mt);if(L&&z&&(X.rangeCount!==1||X.anchorNode!==L.node||X.anchorOffset!==L.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var H=ie.createRange();H.setStart(L.node,L.offset),X.removeAllRanges(),Me>mt?(X.addRange(H),X.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),X.addRange(H))}}}}for(ie=[],X=N;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ie.length;N++){var ae=ie[N];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Kc=!!Df,Mf=Df=null}finally{it=f,Q.p=l,F.T=a}}e.current=n,$t=2}}function Qp(){if($t===2){$t=0;var e=Ra,n=bi,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=Q.p;Q.p=2;var f=it;it|=4;try{Ep(e,n.alternate,n)}finally{it=f,Q.p=l,F.T=a}}$t=3}}function Kp(){if($t===4||$t===3){$t=0,So();var e=Ra,n=bi,a=ta,l=Vp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$t=5:($t=0,bi=Ra=null,Xp(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ca=null),Us(a),n=n.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,f=Q.p,Q.p=2,F.T=null;try{for(var d=e.onRecoverableError,b=0;b<l.length;b++){var N=l[b];d(N.value,{componentStack:N.stack})}}finally{F.T=n,Q.p=f}}(ta&3)!==0&&zc(),Rs(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===xf?Ll++:(Ll=0,xf=e):Ll=0,Pl(0)}}function Xp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,vl(n)))}function zc(){return Yp(),Qp(),Kp(),Zp()}function Zp(){if($t!==5)return!1;var e=Ra,n=pf;pf=0;var a=Us(ta),l=F.T,f=Q.p;try{Q.p=32>a?32:a,F.T=null,a=yf,yf=null;var d=Ra,b=ta;if($t=0,bi=Ra=null,ta=0,(it&6)!==0)throw Error(i(331));var N=it;if(it|=4,Mp(d.current),Cp(d,d.current,b,a),it=N,Pl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{Q.p=f,F.T=l,Xp(e,n)}}function Jp(e,n,a){n=qn(a,n),n=Kh(e.stateNode,n,2),e=Na(e,n,2),e!==null&&(nr(e,2),Rs(e))}function ut(e,n,a){if(e.tag===3)Jp(e,e,a);else for(;n!==null;){if(n.tag===3){Jp(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ca===null||!Ca.has(l))){e=qn(a,e),a=Wg(2),l=Na(n,a,2),l!==null&&(ep(a,l,n,e),nr(l,2),Rs(l));break}}n=n.return}}function _f(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new y_;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(a)||(df=!0,f.add(a),e=E_.bind(null,e,n,a),n.then(e,e))}function E_(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,gt===e&&(Ke&a)===a&&(Tt===4||Tt===3&&(Ke&62914560)===Ke&&300>fn()-Dc?(it&2)===0&&vi(e,0):mf|=a,xi===Ke&&(xi=0)),Rs(e)}function Wp(e,n){n===0&&(n=Io()),e=pr(e,n),e!==null&&(nr(e,n),Rs(e))}function N_(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Wp(e,a)}function w_(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(n),Wp(e,a)}function T_(e,n){return Re(e,n)}var Uc=null,Ei=null,Ef=!1,Lc=!1,Nf=!1,Ma=0;function Rs(e){e!==Ei&&e.next===null&&(Ei===null?Uc=Ei=e:Ei=Ei.next=e),Lc=!0,Ef||(Ef=!0,S_())}function Pl(e,n){if(!Nf&&Lc){Nf=!0;do for(var a=!1,l=Uc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var b=l.suspendedLanes,N=l.pingedLanes;d=(1<<31-St(42|e)+1)-1,d&=f&~(b&~N),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,sy(l,d))}else d=Ke,d=fs(l,l===gt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Zn(l,d)||(a=!0,sy(l,d));l=l.next}while(a);Nf=!1}}function j_(){ey()}function ey(){Lc=Ef=!1;var e=0;Ma!==0&&z_()&&(e=Ma);for(var n=fn(),a=null,l=Uc;l!==null;){var f=l.next,d=ty(l,n);d===0?(l.next=null,a===null?Uc=f:a.next=f,f===null&&(Ei=a)):(a=l,(e!==0||(d&3)!==0)&&(Lc=!0)),l=f}$t!==0&&$t!==5||Pl(e),Ma!==0&&(Ma=0)}function ty(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var b=31-St(d),N=1<<b,I=f[b];I===-1?((N&a)===0||(N&l)!==0)&&(f[b]=Zu(N,n)):I<=n&&(e.expiredLanes|=N),d&=~N}if(n=gt,a=Ke,a=fs(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(ct===2||ct===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ie(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Zn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Ie(l),Us(a)){case 2:case 8:a=Xi;break;case 32:a=la;break;case 268435456:a=Ao;break;default:a=la}return l=ny.bind(null,e),a=Re(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Ie(l),e.callbackPriority=2,e.callbackNode=null,2}function ny(e,n){if($t!==0&&$t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(zc()&&e.callbackNode!==a)return null;var l=Ke;return l=fs(e,e===gt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(zp(e,l,n),ty(e,fn()),e.callbackNode!=null&&e.callbackNode===a?ny.bind(null,e):null)}function sy(e,n){if(zc())return null;zp(e,n,!0)}function S_(){L_(function(){(it&6)!==0?Re(Ki,j_):ey()})}function wf(){if(Ma===0){var e=li;e===0&&(e=us,us<<=1,(us&261888)===0&&(us=256)),Ma=e}return Ma}function ay(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$r(""+e)}function ry(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function A_(e,n,a,l,f){if(n==="submit"&&a&&a.stateNode===f){var d=ay((f[Qt]||null).action),b=l.submitter;b&&(n=(n=b[Qt]||null)?ay(n.formAction):b.getAttribute("formAction"),n!==null&&(d=n,b=null));var N=new Ns("action","action",null,l,f);e.push({event:N,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ma!==0){var I=b?ry(f,b):new FormData(f);Hh(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(N.preventDefault(),I=b?ry(f,b):new FormData(f),Hh(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Tf=0;Tf<ih.length;Tf++){var jf=ih[Tf],C_=jf.toLowerCase(),R_=jf[0].toUpperCase()+jf.slice(1);rs(C_,"on"+R_)}rs(km,"onAnimationEnd"),rs(zm,"onAnimationIteration"),rs(Um,"onAnimationStart"),rs("dblclick","onDoubleClick"),rs("focusin","onFocus"),rs("focusout","onBlur"),rs($v,"onTransitionRun"),rs(Yv,"onTransitionStart"),rs(Qv,"onTransitionCancel"),rs(Lm,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function iy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var b=l.length-1;0<=b;b--){var N=l[b],I=N.instance,G=N.currentTarget;if(N=N.listener,I!==d&&f.isPropagationStopped())break e;d=N,f.currentTarget=G;try{d(f)}catch(ne){ec(ne)}f.currentTarget=null,d=I}else for(b=0;b<l.length;b++){if(N=l[b],I=N.instance,G=N.currentTarget,N=N.listener,I!==d&&f.isPropagationStopped())break e;d=N,f.currentTarget=G;try{d(f)}catch(ne){ec(ne)}f.currentTarget=null,d=I}}}}function Ye(e,n){var a=n[Br];a===void 0&&(a=n[Br]=new Set);var l=e+"__bubble";a.has(l)||(ly(n,e,2,!1),a.add(l))}function Sf(e,n,a){var l=0;n&&(l|=4),ly(a,e,l,n)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Af(e){if(!e[Pc]){e[Pc]=!0,Wi.forEach(function(a){a!=="selectionchange"&&(D_.has(a)||Sf(a,!1,e),Sf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Pc]||(n[Pc]=!0,Sf("selectionchange",!1,n))}}function ly(e,n,a,l){switch(ky(n)){case 2:var f=r1;break;case 8:f=i1;break;default:f=Hf}a=f.bind(null,n,a,e),f=void 0,!or||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function Cf(e,n,a,l,f){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var N=l.stateNode.containerInfo;if(N===f)break;if(b===4)for(b=l.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;N!==null;){if(b=ps(N),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){l=d=b;continue e}N=N.parentNode}}l=l.return}da(function(){var G=d,ne=Un(a),ie=[];e:{var $=Pm.get(e);if($!==void 0){var X=Ns,_e=e;switch(e){case"keypress":if(ur(a)===0)break e;case"keydown":case"keyup":X=Zo;break;case"focusin":_e="focus",X=fr;break;case"focusout":_e="blur",X=fr;break;case"beforeblur":case"afterblur":X=fr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=qo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case km:case zm:case Um:X=Go;break;case Lm:X=w;break;case"scroll":case"scrollend":X=hl;break;case"wheel":X=K;break;case"copy":case"cut":case"paste":X=Fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Bs;break;case"toggle":case"beforetoggle":X=Be}var Me=(n&4)!==0,mt=!Me&&(e==="scroll"||e==="scrollend"),L=Me?$!==null?$+"Capture":null:$;Me=[];for(var z=G,H;z!==null;){var ae=z;if(H=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||H===null||L===null||(ae=ts(z,L),ae!=null&&Me.push(ql(z,ae,H))),mt)break;z=z.return}0<Me.length&&($=new X($,_e,null,a,ne),ie.push({event:$,listeners:Me}))}}if((n&7)===0){e:{if($=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",$&&a!==ol&&(_e=a.relatedTarget||a.fromElement)&&(ps(_e)||_e[ms]))break e;if((X||$)&&($=ne.window===ne?ne:($=ne.ownerDocument)?$.defaultView||$.parentWindow:window,X?(_e=a.relatedTarget||a.toElement,X=G,_e=_e?ps(_e):null,_e!==null&&(mt=u(_e),Me=_e.tag,_e!==mt||Me!==5&&Me!==27&&Me!==6)&&(_e=null)):(X=null,_e=G),X!==_e)){if(Me=fl,ae="onMouseLeave",L="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Me=Bs,ae="onPointerLeave",L="onPointerEnter",z="pointer"),mt=X==null?$:Tn(X),H=_e==null?$:Tn(_e),$=new Me(ae,z+"leave",X,a,ne),$.target=mt,$.relatedTarget=H,ae=null,ps(ne)===G&&(Me=new Me(L,z+"enter",_e,a,ne),Me.target=H,Me.relatedTarget=mt,ae=Me),mt=ae,X&&_e)t:{for(Me=M_,L=X,z=_e,H=0,ae=L;ae;ae=Me(ae))H++;ae=0;for(var Ae=z;Ae;Ae=Me(Ae))ae++;for(;0<H-ae;)L=Me(L),H--;for(;0<ae-H;)z=Me(z),ae--;for(;H--;){if(L===z||z!==null&&L===z.alternate){Me=L;break t}L=Me(L),z=Me(z)}Me=null}else Me=null;X!==null&&oy(ie,$,X,Me,!1),_e!==null&&mt!==null&&oy(ie,mt,_e,Me,!0)}}e:{if($=G?Tn(G):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var nt=Tm;else if(Nm($))if(jm)nt=Hv;else{nt=Bv;var Ne=Pv}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&Fr(G.elementType)&&(nt=Tm):nt=qv;if(nt&&(nt=nt(e,G))){wm(ie,nt,a,ne);break e}Ne&&Ne(e,$,G),e==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&rl($,"number",$.value)}switch(Ne=G?Tn(G):window,e){case"focusin":(Nm(Ne)||Ne.contentEditable==="true")&&(Wr=Ne,sh=G,yl=null);break;case"focusout":yl=sh=Wr=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,Om(ie,a,ne);break;case"selectionchange":if(Fv)break;case"keydown":case"keyup":Om(ie,a,ne)}var Ge;if(rt)e:{switch(e){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Jr?dr(e,a)&&(Xe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Xe="onCompositionStart");Xe&&(js&&a.locale!=="ko"&&(Jr||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Jr&&(Ge=ul()):(Es=ne,cl="value"in Es?Es.value:Es.textContent,Jr=!0)),Ne=Bc(G,Xe),0<Ne.length&&(Xe=new Ts(Xe,e,null,a,ne),ie.push({event:Xe,listeners:Ne}),Ge?Xe.data=Ge:(Ge=Zr(a),Ge!==null&&(Xe.data=Ge)))),(Ge=Pn?kv(e,a):zv(e,a))&&(Xe=Bc(G,"onBeforeInput"),0<Xe.length&&(Ne=new Ts("onBeforeInput","beforeinput",null,a,ne),ie.push({event:Ne,listeners:Xe}),Ne.data=Ge)),A_(ie,e,G,a,ne)}iy(ie,n)})}function ql(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Bc(e,n){for(var a=n+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ts(e,a),f!=null&&l.unshift(ql(e,f,d)),f=ts(e,n),f!=null&&l.push(ql(e,f,d))),e.tag===3)return l;e=e.return}return[]}function M_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function oy(e,n,a,l,f){for(var d=n._reactName,b=[];a!==null&&a!==l;){var N=a,I=N.alternate,G=N.stateNode;if(N=N.tag,I!==null&&I===l)break;N!==5&&N!==26&&N!==27||G===null||(I=G,f?(G=ts(a,d),G!=null&&b.unshift(ql(a,G,I))):f||(G=ts(a,d),G!=null&&b.push(ql(a,G,I)))),a=a.return}b.length!==0&&e.push({event:n,listeners:b})}var I_=/\r\n?/g,O_=/\u0000|\uFFFD/g;function cy(e){return(typeof e=="string"?e:""+e).replace(I_,`
`).replace(O_,"")}function uy(e,n){return n=cy(n),cy(e)===n}function dt(e,n,a,l,f,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(e,""+l);break;case"className":jn(e,"class",l);break;case"tabIndex":jn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(e,a,l);break;case"style":ll(e,l,d);break;case"data":if(n!=="object"){jn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=$r(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&dt(e,n,"name",f.name,f,null),dt(e,n,"formEncType",f.formEncType,f,null),dt(e,n,"formMethod",f.formMethod,f,null),dt(e,n,"formTarget",f.formTarget,f,null)):(dt(e,n,"encType",f.encType,f,null),dt(e,n,"method",f.method,f,null),dt(e,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=$r(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=es);break;case"onScroll":l!=null&&Ye("scroll",e);break;case"onScrollEnd":l!=null&&Ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=$r(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ye("beforetoggle",e),Ye("toggle",e),Hr(e,"popover",l);break;case"xlinkActuate":zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bo.get(a)||a,Hr(e,a,l))}}function Rf(e,n,a,l,f,d){switch(a){case"style":ll(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof l=="string"?pn(e,l):(typeof l=="number"||typeof l=="bigint")&&pn(e,""+l);break;case"onScroll":l!=null&&Ye("scroll",e);break;case"onScrollEnd":l!=null&&Ye("scrollend",e);break;case"onClick":l!=null&&(e.onclick=es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),d=e[Qt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,f);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Hr(e,a,l)}}}function sn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",e),Ye("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var b=a[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:dt(e,n,d,b,a,null)}}f&&dt(e,n,"srcSet",a.srcSet,a,null),l&&dt(e,n,"src",a.src,a,null);return;case"input":Ye("invalid",e);var N=d=b=f=null,I=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var ne=a[l];if(ne!=null)switch(l){case"name":f=ne;break;case"type":b=ne;break;case"checked":I=ne;break;case"defaultChecked":G=ne;break;case"value":d=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,n));break;default:dt(e,n,l,ne,a,null)}}Uo(e,d,N,I,G,b,f,!1);return;case"select":Ye("invalid",e),l=b=d=null;for(f in a)if(a.hasOwnProperty(f)&&(N=a[f],N!=null))switch(f){case"value":d=N;break;case"defaultValue":b=N;break;case"multiple":l=N;default:dt(e,n,f,N,a,null)}n=d,a=b,e.multiple=!!l,n!=null?ca(e,!!l,n,!1):a!=null&&ca(e,!!l,a,!0);return;case"textarea":Ye("invalid",e),d=f=l=null;for(b in a)if(a.hasOwnProperty(b)&&(N=a[b],N!=null))switch(b){case"value":l=N;break;case"defaultValue":f=N;break;case"children":d=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:dt(e,n,b,N,a,null)}ua(e,l,f,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:dt(e,n,I,l,a,null)}return;case"dialog":Ye("beforetoggle",e),Ye("toggle",e),Ye("cancel",e),Ye("close",e);break;case"iframe":case"object":Ye("load",e);break;case"video":case"audio":for(l=0;l<Bl.length;l++)Ye(Bl[l],e);break;case"image":Ye("error",e),Ye("load",e);break;case"details":Ye("toggle",e);break;case"embed":case"source":case"link":Ye("error",e),Ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:dt(e,n,G,l,a,null)}return;default:if(Fr(n)){for(ne in a)a.hasOwnProperty(ne)&&(l=a[ne],l!==void 0&&Rf(e,n,ne,l,a,void 0));return}}for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null&&dt(e,n,N,l,a,null))}function V_(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,b=null,N=null,I=null,G=null,ne=null;for(X in a){var ie=a[X];if(a.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":I=ie;default:l.hasOwnProperty(X)||dt(e,n,X,null,l,ie)}}for(var $ in l){var X=l[$];if(ie=a[$],l.hasOwnProperty($)&&(X!=null||ie!=null))switch($){case"type":d=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":ne=X;break;case"value":b=X;break;case"defaultValue":N=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,n));break;default:X!==ie&&dt(e,n,$,X,l,ie)}}Gr(e,b,N,I,G,ne,d,f);return;case"select":X=b=N=$=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":X=I;default:l.hasOwnProperty(d)||dt(e,n,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":$=d;break;case"defaultValue":N=d;break;case"multiple":b=d;default:d!==I&&dt(e,n,f,d,l,I)}n=N,a=b,l=X,$!=null?ca(e,!!a,$,!1):!!l!=!!a&&(n!=null?ca(e,!!a,n,!0):ca(e,!!a,a?[]:"",!1));return;case"textarea":X=$=null;for(N in a)if(f=a[N],a.hasOwnProperty(N)&&f!=null&&!l.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:dt(e,n,N,null,l,f)}for(b in l)if(f=l[b],d=a[b],l.hasOwnProperty(b)&&(f!=null||d!=null))switch(b){case"value":$=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==d&&dt(e,n,b,f,l,d)}Lo(e,$,X);return;case"option":for(var _e in a)if($=a[_e],a.hasOwnProperty(_e)&&$!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":e.selected=!1;break;default:dt(e,n,_e,null,l,$)}for(I in l)if($=l[I],X=a[I],l.hasOwnProperty(I)&&$!==X&&($!=null||X!=null))switch(I){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:dt(e,n,I,$,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in a)$=a[Me],a.hasOwnProperty(Me)&&$!=null&&!l.hasOwnProperty(Me)&&dt(e,n,Me,null,l,$);for(G in l)if($=l[G],X=a[G],l.hasOwnProperty(G)&&$!==X&&($!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,n));break;default:dt(e,n,G,$,l,X)}return;default:if(Fr(n)){for(var mt in a)$=a[mt],a.hasOwnProperty(mt)&&$!==void 0&&!l.hasOwnProperty(mt)&&Rf(e,n,mt,void 0,l,$);for(ne in l)$=l[ne],X=a[ne],!l.hasOwnProperty(ne)||$===X||$===void 0&&X===void 0||Rf(e,n,ne,$,l,X);return}}for(var L in a)$=a[L],a.hasOwnProperty(L)&&$!=null&&!l.hasOwnProperty(L)&&dt(e,n,L,null,l,$);for(ie in l)$=l[ie],X=a[ie],!l.hasOwnProperty(ie)||$===X||$==null&&X==null||dt(e,n,ie,$,l,X)}function hy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,b=f.initiatorType,N=f.duration;if(d&&N&&hy(b)){for(b=0,N=f.responseEnd,l+=1;l<a.length;l++){var I=a[l],G=I.startTime;if(G>N)break;var ne=I.transferSize,ie=I.initiatorType;ne&&hy(ie)&&(I=I.responseEnd,b+=ne*(I<N?1:(N-G)/(I-G)))}if(--l,n+=8*(d+b)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Df=null,Mf=null;function qc(e){return e.nodeType===9?e:e.ownerDocument}function fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function If(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Of=null;function z_(){var e=window.event;return e&&e.type==="popstate"?e===Of?!1:(Of=e,!0):(Of=null,!1)}var my=typeof setTimeout=="function"?setTimeout:void 0,U_=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,L_=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(e){return gy.resolve(null).then(e).catch(P_)}:my;function P_(e){setTimeout(function(){throw e})}function Ia(e){return e==="head"}function py(e,n){var a=n,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),ji(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Hl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Hl(a);for(var d=a.firstChild;d;){var b=d.nextSibling,N=d.nodeName;d[gs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=b}}else a==="body"&&Hl(e.ownerDocument.body);a=f}while(a);ji(n)}function yy(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Vf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vf(a),qr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function B_(e,n,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[gs])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function q_(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yn(e.nextSibling),e===null))return null;return e}function xy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yn(e.nextSibling),e===null))return null;return e}function kf(e){return e.data==="$?"||e.data==="$~"}function zf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H_(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Uf=null;function by(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Yn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function vy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function _y(e,n,a){switch(n=qc(a),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);qr(e)}var Qn=new Map,Ey=new Set;function Hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var na=Q.d;Q.d={f:G_,r:F_,D:$_,C:Y_,L:Q_,m:K_,X:Z_,S:X_,M:J_};function G_(){var e=na.f(),n=Oc();return e||n}function F_(e){var n=zn(e);n!==null&&n.tag===5&&n.type==="form"?Lg(n):na.r(e)}var Ni=typeof document>"u"?null:document;function Ny(e,n,a){var l=Ni;if(l&&typeof n=="string"&&n){var f=gn(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Ey.has(f)||(Ey.add(f),e={rel:e,crossOrigin:a,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),sn(n,"link",e),kt(n),l.head.appendChild(n)))}}function $_(e){na.D(e),Ny("dns-prefetch",e,null)}function Y_(e,n){na.C(e,n),Ny("preconnect",e,n)}function Q_(e,n,a){na.L(e,n,a);var l=Ni;if(l&&e&&n){var f='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+gn(a.imageSizes)+'"]')):f+='[href="'+gn(e)+'"]';var d=f;switch(n){case"style":d=wi(e);break;case"script":d=Ti(e)}Qn.has(d)||(e=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Qn.set(d,e),l.querySelector(f)!==null||n==="style"&&l.querySelector(Gl(d))||n==="script"&&l.querySelector(Fl(d))||(n=l.createElement("link"),sn(n,"link",e),kt(n),l.head.appendChild(n)))}}function K_(e,n){na.m(e,n);var a=Ni;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ti(e)}if(!Qn.has(d)&&(e=E({rel:"modulepreload",href:e},n),Qn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(d)))return}l=a.createElement("link"),sn(l,"link",e),kt(l),a.head.appendChild(l)}}}function X_(e,n,a){na.S(e,n,a);var l=Ni;if(l&&e){var f=ys(l).hoistableStyles,d=wi(e);n=n||"default";var b=f.get(d);if(!b){var N={loading:0,preload:null};if(b=l.querySelector(Gl(d)))N.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Qn.get(d))&&Lf(e,a);var I=b=l.createElement("link");kt(I),sn(I,"link",e),I._p=new Promise(function(G,ne){I.onload=G,I.onerror=ne}),I.addEventListener("load",function(){N.loading|=1}),I.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Gc(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:N},f.set(d,b)}}}function Z_(e,n){na.X(e,n);var a=Ni;if(a&&e){var l=ys(a).hoistableScripts,f=Ti(e),d=l.get(f);d||(d=a.querySelector(Fl(f)),d||(e=E({src:e,async:!0},n),(n=Qn.get(f))&&Pf(e,n),d=a.createElement("script"),kt(d),sn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function J_(e,n){na.M(e,n);var a=Ni;if(a&&e){var l=ys(a).hoistableScripts,f=Ti(e),d=l.get(f);d||(d=a.querySelector(Fl(f)),d||(e=E({src:e,async:!0,type:"module"},n),(n=Qn.get(f))&&Pf(e,n),d=a.createElement("script"),kt(d),sn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function wy(e,n,a,l){var f=(f=we.current)?Hc(f):null;if(!f)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=wi(a.href),a=ys(f).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=wi(a.href);var d=ys(f).hoistableStyles,b=d.get(e);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,b),(d=f.querySelector(Gl(e)))&&!d._p&&(b.instance=d,b.state.loading=5),Qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(e,a),d||W_(f,e,a,b.state))),n&&l===null)throw Error(i(528,""));return b}if(n&&l!==null)throw Error(i(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ti(a),a=ys(f).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function wi(e){return'href="'+gn(e)+'"'}function Gl(e){return'link[rel="stylesheet"]['+e+"]"}function Ty(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function W_(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),sn(n,"link",a),kt(n),e.head.appendChild(n))}function Ti(e){return'[src="'+gn(e)+'"]'}function Fl(e){return"script[async]"+e}function jy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+gn(a.href)+'"]');if(l)return n.instance=l,kt(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),kt(l),sn(l,"style",f),Gc(l,a.precedence,e),n.instance=l;case"stylesheet":f=wi(a.href);var d=e.querySelector(Gl(f));if(d)return n.state.loading|=4,n.instance=d,kt(d),d;l=Ty(a),(f=Qn.get(f))&&Lf(l,f),d=(e.ownerDocument||e).createElement("link"),kt(d);var b=d;return b._p=new Promise(function(N,I){b.onload=N,b.onerror=I}),sn(d,"link",l),n.state.loading|=4,Gc(d,a.precedence,e),n.instance=d;case"script":return d=Ti(a.src),(f=e.querySelector(Fl(d)))?(n.instance=f,kt(f),f):(l=a,(f=Qn.get(d))&&(l=E({},a),Pf(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),kt(f),sn(f,"link",l),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Gc(l,a.precedence,e));return n.instance}function Gc(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,b=0;b<l.length;b++){var N=l[b];if(N.dataset.precedence===n)d=N;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Lf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Pf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Fc=null;function Sy(e,n,a){if(Fc===null){var l=new Map,f=Fc=new Map;f.set(a,l)}else f=Fc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[gs]||d[Vt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(n)||"";b=e+b;var N=l.get(b);N?N.push(d):l.set(b,[d])}}return l}function Ay(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function e1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function t1(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=wi(l.href),d=n.querySelector(Gl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=$c.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=d,kt(d);return}d=n.ownerDocument||n,l=Ty(l),(f=Qn.get(f))&&Lf(l,f),d=d.createElement("link"),kt(d);var b=d;b._p=new Promise(function(N,I){b.onload=N,b.onerror=I}),sn(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=$c.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Bf=0;function n1(e,n){return e.stylesheets&&e.count===0&&Qc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Qc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&Bf===0&&(Bf=62500*k_());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Qc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Bf?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function $c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yc=null;function Qc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yc=new Map,n.forEach(s1,e),Yc=null,$c.call(e))}function s1(e,n){if(!(n.state.loading&4)){var a=Yc.get(e);if(a)var l=a.get(null);else{a=new Map,Yc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var b=f[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}f=n.instance,b=f.getAttribute("data-precedence"),d=a.get(b)||l,d===l&&a.set(null,f),a.set(b,f),this.count++,l=$c.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var $l={$$typeof:te,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function a1(e,n,a,l,f,d,b,N,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.hiddenUpdates=ds(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Ry(e,n,a,l,f,d,b,N,I,G,ne,ie){return e=new a1(e,n,a,b,I,G,ne,ie,N),n=1,d===!0&&(n|=24),d=An(3,null,null,n),e.current=d,d.stateNode=e,n=bh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Nh(d),e}function Dy(e){return e?(e=ni,e):ni}function My(e,n,a,l,f,d){f=Dy(f),l.context===null?l.context=f:l.pendingContext=f,l=Ea(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Na(e,l,n),a!==null&&(_n(a,e,n),wl(a,e,n))}function Iy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function qf(e,n){Iy(e,n),(e=e.alternate)&&Iy(e,n)}function Oy(e){if(e.tag===13||e.tag===31){var n=pr(e,67108864);n!==null&&_n(n,e,67108864),qf(e,67108864)}}function Vy(e){if(e.tag===13||e.tag===31){var n=In();n=ar(n);var a=pr(e,n);a!==null&&_n(a,e,n),qf(e,n)}}var Kc=!0;function r1(e,n,a,l){var f=F.T;F.T=null;var d=Q.p;try{Q.p=2,Hf(e,n,a,l)}finally{Q.p=d,F.T=f}}function i1(e,n,a,l){var f=F.T;F.T=null;var d=Q.p;try{Q.p=8,Hf(e,n,a,l)}finally{Q.p=d,F.T=f}}function Hf(e,n,a,l){if(Kc){var f=Gf(l);if(f===null)Cf(e,n,l,Xc,a),zy(e,l);else if(o1(f,e,n,a,l))l.stopPropagation();else if(zy(e,l),n&4&&-1<l1.indexOf(e)){for(;f!==null;){var d=zn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=hs(d.pendingLanes);if(b!==0){var N=d;for(N.pendingLanes|=2,N.entangledLanes|=2;b;){var I=1<<31-St(b);N.entanglements[1]|=I,b&=~I}Rs(d),(it&6)===0&&(Mc=fn()+500,Pl(0))}}break;case 31:case 13:N=pr(d,2),N!==null&&_n(N,d,2),Oc(),qf(d,2)}if(d=Gf(l),d===null&&Cf(e,n,l,Xc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Cf(e,n,l,null,a)}}function Gf(e){return e=Un(e),Ff(e)}var Xc=null;function Ff(e){if(Xc=null,e=ps(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=m(n),e!==null)return e;e=null}else if(a===31){if(e=x(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Xc=e,null}function ky(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(er()){case Ki:return 2;case Xi:return 8;case la:case Xu:return 32;case Ao:return 268435456;default:return 32}default:return 32}}var $f=!1,Oa=null,Va=null,ka=null,Yl=new Map,Ql=new Map,za=[],l1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zy(e,n){switch(e){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":Yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(n.pointerId)}}function Kl(e,n,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},n!==null&&(n=zn(n),n!==null&&Oy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function o1(e,n,a,l,f){switch(n){case"focusin":return Oa=Kl(Oa,e,n,a,l,f),!0;case"dragenter":return Va=Kl(Va,e,n,a,l,f),!0;case"mouseover":return ka=Kl(ka,e,n,a,l,f),!0;case"pointerover":var d=f.pointerId;return Yl.set(d,Kl(Yl.get(d)||null,e,n,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ql.set(d,Kl(Ql.get(d)||null,e,n,a,l,f)),!0}return!1}function Uy(e){var n=ps(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){e.blockedOn=n,Jn(e.priority,function(){Vy(a)});return}}else if(n===31){if(n=x(a),n!==null){e.blockedOn=n,Jn(e.priority,function(){Vy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Gf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ol=l,a.target.dispatchEvent(l),ol=null}else return n=zn(a),n!==null&&Oy(n),e.blockedOn=a,!1;n.shift()}return!0}function Ly(e,n,a){Zc(e)&&a.delete(n)}function c1(){$f=!1,Oa!==null&&Zc(Oa)&&(Oa=null),Va!==null&&Zc(Va)&&(Va=null),ka!==null&&Zc(ka)&&(ka=null),Yl.forEach(Ly),Ql.forEach(Ly)}function Jc(e,n){e.blockedOn===n&&(e.blockedOn=null,$f||($f=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,c1)))}var Wc=null;function Py(e){Wc!==e&&(Wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wc===e&&(Wc=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],f=e[n+2];if(typeof l!="function"){if(Ff(l||a)===null)continue;break}var d=zn(a);d!==null&&(e.splice(n,3),n-=3,Hh(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ji(e){function n(I){return Jc(I,e)}Oa!==null&&Jc(Oa,e),Va!==null&&Jc(Va,e),ka!==null&&Jc(ka,e),Yl.forEach(n),Ql.forEach(n);for(var a=0;a<za.length;a++){var l=za[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<za.length&&(a=za[0],a.blockedOn===null);)Uy(a),a.blockedOn===null&&za.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],b=f[Qt]||null;if(typeof d=="function")b||Py(a);else if(b){var N=null;if(d&&d.hasAttribute("formAction")){if(f=d,b=d[Qt]||null)N=b.formAction;else if(Ff(f)!==null)continue}else N=b.action;typeof N=="function"?a[l+1]=N:(a.splice(l,3),l-=3),Py(a)}}}function By(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Yf(e){this._internalRoot=e}eu.prototype.render=Yf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var a=n.current,l=In();My(a,l,e,n,null,null)},eu.prototype.unmount=Yf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;My(e.current,2,null,e,null,null),Oc(),n[ms]=null}};function eu(e){this._internalRoot=e}eu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Oo();e={blockedOn:null,target:e,priority:n};for(var a=0;a<za.length&&n!==0&&n<za[a].priority;a++);za.splice(a,0,e),a===0&&Uy(e)}};var qy=t.version;if(qy!=="19.2.4")throw Error(i(527,qy,"19.2.4"));Q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=g(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var u1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Xn=tu.inject(u1),Jt=tu}catch{}}return Zl.createRoot=function(e,n){if(!c(e))throw Error(i(299));var a=!1,l="",f=Kg,d=Xg,b=Zg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=Ry(e,1,!1,null,null,a,l,null,f,d,b,By),e[ms]=n.current,Af(e),new Yf(n)},Zl.hydrateRoot=function(e,n,a){if(!c(e))throw Error(i(299));var l=!1,f="",d=Kg,b=Xg,N=Zg,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=Ry(e,1,!0,n,a??null,l,f,I,d,b,N,By),n.context=Dy(null),a=n.current,l=In(),l=ar(l),f=Ea(l),f.callback=null,Na(a,f,l),a=l,n.current.lanes=a,nr(n,a),Rs(n),e[ms]=n.current,Af(e),new eu(n)},Zl.version="19.2.4",Zl}var Jy;function v1(){if(Jy)return Xf.exports;Jy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Xf.exports=b1(),Xf.exports}var _1=v1();const E1=N0(_1);var N1=Object.defineProperty,du=Object.getOwnPropertySymbols,w0=Object.prototype.hasOwnProperty,T0=Object.prototype.propertyIsEnumerable,Wy=(r,t,s)=>t in r?N1(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,hd=(r,t)=>{for(var s in t||(t={}))w0.call(t,s)&&Wy(r,s,t[s]);if(du)for(var s of du(t))T0.call(t,s)&&Wy(r,s,t[s]);return r},fd=(r,t)=>{var s={};for(var i in r)w0.call(r,i)&&t.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&du)for(var i of du(r))t.indexOf(i)<0&&T0.call(r,i)&&(s[i]=r[i]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Mr;(r=>{const t=class Qe{constructor(p,g,v,E){if(this.version=p,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],p<Qe.MIN_VERSION||p>Qe.MAX_VERSION)throw new RangeError("Version value out of range");if(E<-1||E>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let T=[];for(let P=0;P<this.size;P++)T.push(!1);for(let P=0;P<this.size;P++)this.modules.push(T.slice()),this.isFunction.push(T.slice());this.drawFunctionPatterns();const U=this.addEccAndInterleave(v);if(this.drawCodewords(U),E==-1){let P=1e9;for(let Z=0;Z<8;Z++){this.applyMask(Z),this.drawFormatBits(Z);const B=this.getPenaltyScore();B<P&&(E=Z,P=B),this.applyMask(Z)}}c(0<=E&&E<=7),this.mask=E,this.applyMask(E),this.drawFormatBits(E),this.isFunction=[]}static encodeText(p,g){const v=r.QrSegment.makeSegments(p);return Qe.encodeSegments(v,g)}static encodeBinary(p,g){const v=r.QrSegment.makeBytes(p);return Qe.encodeSegments([v],g)}static encodeSegments(p,g,v=1,E=40,T=-1,U=!0){if(!(Qe.MIN_VERSION<=v&&v<=E&&E<=Qe.MAX_VERSION)||T<-1||T>7)throw new RangeError("Invalid value");let P,Z;for(P=v;;P++){const te=Qe.getNumDataCodewords(P,g)*8,ce=m.getTotalBits(p,P);if(ce<=te){Z=ce;break}if(P>=E)throw new RangeError("Data too long")}for(const te of[Qe.Ecc.MEDIUM,Qe.Ecc.QUARTILE,Qe.Ecc.HIGH])U&&Z<=Qe.getNumDataCodewords(P,te)*8&&(g=te);let B=[];for(const te of p){s(te.mode.modeBits,4,B),s(te.numChars,te.mode.numCharCountBits(P),B);for(const ce of te.getData())B.push(ce)}c(B.length==Z);const me=Qe.getNumDataCodewords(P,g)*8;c(B.length<=me),s(0,Math.min(4,me-B.length),B),s(0,(8-B.length%8)%8,B),c(B.length%8==0);for(let te=236;B.length<me;te^=253)s(te,8,B);let de=[];for(;de.length*8<B.length;)de.push(0);return B.forEach((te,ce)=>de[ce>>>3]|=te<<7-(ce&7)),new Qe(P,g,de,T)}getModule(p,g){return 0<=p&&p<this.size&&0<=g&&g<this.size&&this.modules[g][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),g=p.length;for(let v=0;v<g;v++)for(let E=0;E<g;E++)v==0&&E==0||v==0&&E==g-1||v==g-1&&E==0||this.drawAlignmentPattern(p[v],p[E]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const g=this.errorCorrectionLevel.formatBits<<3|p;let v=g;for(let T=0;T<10;T++)v=v<<1^(v>>>9)*1335;const E=(g<<10|v)^21522;c(E>>>15==0);for(let T=0;T<=5;T++)this.setFunctionModule(8,T,i(E,T));this.setFunctionModule(8,7,i(E,6)),this.setFunctionModule(8,8,i(E,7)),this.setFunctionModule(7,8,i(E,8));for(let T=9;T<15;T++)this.setFunctionModule(14-T,8,i(E,T));for(let T=0;T<8;T++)this.setFunctionModule(this.size-1-T,8,i(E,T));for(let T=8;T<15;T++)this.setFunctionModule(8,this.size-15+T,i(E,T));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let v=0;v<12;v++)p=p<<1^(p>>>11)*7973;const g=this.version<<12|p;c(g>>>18==0);for(let v=0;v<18;v++){const E=i(g,v),T=this.size-11+v%3,U=Math.floor(v/3);this.setFunctionModule(T,U,E),this.setFunctionModule(U,T,E)}}drawFinderPattern(p,g){for(let v=-4;v<=4;v++)for(let E=-4;E<=4;E++){const T=Math.max(Math.abs(E),Math.abs(v)),U=p+E,P=g+v;0<=U&&U<this.size&&0<=P&&P<this.size&&this.setFunctionModule(U,P,T!=2&&T!=4)}}drawAlignmentPattern(p,g){for(let v=-2;v<=2;v++)for(let E=-2;E<=2;E++)this.setFunctionModule(p+E,g+v,Math.max(Math.abs(E),Math.abs(v))!=1)}setFunctionModule(p,g,v){this.modules[g][p]=v,this.isFunction[g][p]=!0}addEccAndInterleave(p){const g=this.version,v=this.errorCorrectionLevel;if(p.length!=Qe.getNumDataCodewords(g,v))throw new RangeError("Invalid argument");const E=Qe.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][g],T=Qe.ECC_CODEWORDS_PER_BLOCK[v.ordinal][g],U=Math.floor(Qe.getNumRawDataModules(g)/8),P=E-U%E,Z=Math.floor(U/E);let B=[];const me=Qe.reedSolomonComputeDivisor(T);for(let te=0,ce=0;te<E;te++){let Se=p.slice(ce,ce+Z-T+(te<P?0:1));ce+=Se.length;const je=Qe.reedSolomonComputeRemainder(Se,me);te<P&&Se.push(0),B.push(Se.concat(je))}let de=[];for(let te=0;te<B[0].length;te++)B.forEach((ce,Se)=>{(te!=Z-T||Se>=P)&&de.push(ce[te])});return c(de.length==U),de}drawCodewords(p){if(p.length!=Math.floor(Qe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let E=0;E<this.size;E++)for(let T=0;T<2;T++){const U=v-T,Z=(v+1&2)==0?this.size-1-E:E;!this.isFunction[Z][U]&&g<p.length*8&&(this.modules[Z][U]=i(p[g>>>3],7-(g&7)),g++)}}c(g==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let v=0;v<this.size;v++){let E;switch(p){case 0:E=(v+g)%2==0;break;case 1:E=g%2==0;break;case 2:E=v%3==0;break;case 3:E=(v+g)%3==0;break;case 4:E=(Math.floor(v/3)+Math.floor(g/2))%2==0;break;case 5:E=v*g%2+v*g%3==0;break;case 6:E=(v*g%2+v*g%3)%2==0;break;case 7:E=((v+g)%2+v*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][v]&&E&&(this.modules[g][v]=!this.modules[g][v])}}getPenaltyScore(){let p=0;for(let T=0;T<this.size;T++){let U=!1,P=0,Z=[0,0,0,0,0,0,0];for(let B=0;B<this.size;B++)this.modules[T][B]==U?(P++,P==5?p+=Qe.PENALTY_N1:P>5&&p++):(this.finderPenaltyAddHistory(P,Z),U||(p+=this.finderPenaltyCountPatterns(Z)*Qe.PENALTY_N3),U=this.modules[T][B],P=1);p+=this.finderPenaltyTerminateAndCount(U,P,Z)*Qe.PENALTY_N3}for(let T=0;T<this.size;T++){let U=!1,P=0,Z=[0,0,0,0,0,0,0];for(let B=0;B<this.size;B++)this.modules[B][T]==U?(P++,P==5?p+=Qe.PENALTY_N1:P>5&&p++):(this.finderPenaltyAddHistory(P,Z),U||(p+=this.finderPenaltyCountPatterns(Z)*Qe.PENALTY_N3),U=this.modules[B][T],P=1);p+=this.finderPenaltyTerminateAndCount(U,P,Z)*Qe.PENALTY_N3}for(let T=0;T<this.size-1;T++)for(let U=0;U<this.size-1;U++){const P=this.modules[T][U];P==this.modules[T][U+1]&&P==this.modules[T+1][U]&&P==this.modules[T+1][U+1]&&(p+=Qe.PENALTY_N2)}let g=0;for(const T of this.modules)g=T.reduce((U,P)=>U+(P?1:0),g);const v=this.size*this.size,E=Math.ceil(Math.abs(g*20-v*10)/v)-1;return c(0<=E&&E<=9),p+=E*Qe.PENALTY_N4,c(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let v=[6];for(let E=this.size-7;v.length<p;E-=g)v.splice(1,0,E);return v}}static getNumRawDataModules(p){if(p<Qe.MIN_VERSION||p>Qe.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*p+128)*p+64;if(p>=2){const v=Math.floor(p/7)+2;g-=(25*v-10)*v-55,p>=7&&(g-=36)}return c(208<=g&&g<=29648),g}static getNumDataCodewords(p,g){return Math.floor(Qe.getNumRawDataModules(p)/8)-Qe.ECC_CODEWORDS_PER_BLOCK[g.ordinal][p]*Qe.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let g=[];for(let E=0;E<p-1;E++)g.push(0);g.push(1);let v=1;for(let E=0;E<p;E++){for(let T=0;T<g.length;T++)g[T]=Qe.reedSolomonMultiply(g[T],v),T+1<g.length&&(g[T]^=g[T+1]);v=Qe.reedSolomonMultiply(v,2)}return g}static reedSolomonComputeRemainder(p,g){let v=g.map(E=>0);for(const E of p){const T=E^v.shift();v.push(0),g.forEach((U,P)=>v[P]^=Qe.reedSolomonMultiply(U,T))}return v}static reedSolomonMultiply(p,g){if(p>>>8||g>>>8)throw new RangeError("Byte out of range");let v=0;for(let E=7;E>=0;E--)v=v<<1^(v>>>7)*285,v^=(g>>>E&1)*p;return c(v>>>8==0),v}finderPenaltyCountPatterns(p){const g=p[1];c(g<=this.size*3);const v=g>0&&p[2]==g&&p[3]==g*3&&p[4]==g&&p[5]==g;return(v&&p[0]>=g*4&&p[6]>=g?1:0)+(v&&p[6]>=g*4&&p[0]>=g?1:0)}finderPenaltyTerminateAndCount(p,g,v){return p&&(this.finderPenaltyAddHistory(g,v),g=0),g+=this.size,this.finderPenaltyAddHistory(g,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(p,g){g[0]==0&&(p+=this.size),g.pop(),g.unshift(p)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=t;function s(x,p,g){if(p<0||p>31||x>>>p)throw new RangeError("Value out of range");for(let v=p-1;v>=0;v--)g.push(x>>>v&1)}function i(x,p){return(x>>>p&1)!=0}function c(x){if(!x)throw new Error("Assertion error")}const u=class jt{constructor(p,g,v){if(this.mode=p,this.numChars=g,this.bitData=v,g<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(p){let g=[];for(const v of p)s(v,8,g);return new jt(jt.Mode.BYTE,p.length,g)}static makeNumeric(p){if(!jt.isNumeric(p))throw new RangeError("String contains non-numeric characters");let g=[];for(let v=0;v<p.length;){const E=Math.min(p.length-v,3);s(parseInt(p.substring(v,v+E),10),E*3+1,g),v+=E}return new jt(jt.Mode.NUMERIC,p.length,g)}static makeAlphanumeric(p){if(!jt.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],v;for(v=0;v+2<=p.length;v+=2){let E=jt.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v))*45;E+=jt.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v+1)),s(E,11,g)}return v<p.length&&s(jt.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v)),6,g),new jt(jt.Mode.ALPHANUMERIC,p.length,g)}static makeSegments(p){return p==""?[]:jt.isNumeric(p)?[jt.makeNumeric(p)]:jt.isAlphanumeric(p)?[jt.makeAlphanumeric(p)]:[jt.makeBytes(jt.toUtf8ByteArray(p))]}static makeEci(p){let g=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)s(p,8,g);else if(p<16384)s(2,2,g),s(p,14,g);else if(p<1e6)s(6,3,g),s(p,21,g);else throw new RangeError("ECI assignment value out of range");return new jt(jt.Mode.ECI,0,g)}static isNumeric(p){return jt.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return jt.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,g){let v=0;for(const E of p){const T=E.mode.numCharCountBits(g);if(E.numChars>=1<<T)return 1/0;v+=4+T+E.bitData.length}return v}static toUtf8ByteArray(p){p=encodeURI(p);let g=[];for(let v=0;v<p.length;v++)p.charAt(v)!="%"?g.push(p.charCodeAt(v)):(g.push(parseInt(p.substring(v+1,v+3),16)),v+=2);return g}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let m=u;r.QrSegment=u})(Mr||(Mr={}));(r=>{(t=>{const s=class{constructor(c,u){this.ordinal=c,this.formatBits=u}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),t.Ecc=s})(r.QrCode||(r.QrCode={}))})(Mr||(Mr={}));(r=>{(t=>{const s=class{constructor(c,u){this.modeBits=c,this.numBitsCharCount=u}numCharCountBits(c){return this.numBitsCharCount[Math.floor((c+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),t.Mode=s})(r.QrSegment||(r.QrSegment={}))})(Mr||(Mr={}));var Di=Mr;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var w1={L:Di.QrCode.Ecc.LOW,M:Di.QrCode.Ecc.MEDIUM,Q:Di.QrCode.Ecc.QUARTILE,H:Di.QrCode.Ecc.HIGH},j0=128,S0="L",A0="#FFFFFF",C0="#000000",R0=!1,D0=1,T1=4,j1=0,S1=.1;function M0(r,t=0){const s=[];return r.forEach(function(i,c){let u=null;i.forEach(function(m,x){if(!m&&u!==null){s.push(`M${u+t} ${c+t}h${x-u}v1H${u+t}z`),u=null;return}if(x===i.length-1){if(!m)return;u===null?s.push(`M${x+t},${c+t} h1v1H${x+t}z`):s.push(`M${u+t},${c+t} h${x+1-u}v1H${u+t}z`);return}m&&u===null&&(u=x)})}),s.join("")}function I0(r,t){return r.slice().map((s,i)=>i<t.y||i>=t.y+t.h?s:s.map((c,u)=>u<t.x||u>=t.x+t.w?c:!1))}function A1(r,t,s,i){if(i==null)return null;const c=r.length+s*2,u=Math.floor(t*S1),m=c/t,x=(i.width||u)*m,p=(i.height||u)*m,g=i.x==null?r.length/2-x/2:i.x*m,v=i.y==null?r.length/2-p/2:i.y*m,E=i.opacity==null?1:i.opacity;let T=null;if(i.excavate){let P=Math.floor(g),Z=Math.floor(v),B=Math.ceil(x+g-P),me=Math.ceil(p+v-Z);T={x:P,y:Z,w:B,h:me}}const U=i.crossOrigin;return{x:g,y:v,h:p,w:x,excavation:T,opacity:E,crossOrigin:U}}function C1(r,t){return t!=null?Math.max(Math.floor(t),0):r?T1:j1}function O0({value:r,level:t,minVersion:s,includeMargin:i,marginSize:c,imageSettings:u,size:m,boostLevel:x}){let p=Dt.useMemo(()=>{const P=(Array.isArray(r)?r:[r]).reduce((Z,B)=>(Z.push(...Di.QrSegment.makeSegments(B)),Z),[]);return Di.QrCode.encodeSegments(P,w1[t],s,void 0,void 0,x)},[r,t,s,x]);const{cells:g,margin:v,numCells:E,calculatedImageSettings:T}=Dt.useMemo(()=>{let U=p.getModules();const P=C1(i,c),Z=U.length+P*2,B=A1(U,m,P,u);return{cells:U,margin:P,numCells:Z,calculatedImageSettings:B}},[p,m,u,i,c]);return{qrcode:p,margin:v,cells:g,numCells:E,calculatedImageSettings:T}}var R1=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),V0=Dt.forwardRef(function(t,s){const i=t,{value:c,size:u=j0,level:m=S0,bgColor:x=A0,fgColor:p=C0,includeMargin:g=R0,minVersion:v=D0,boostLevel:E,marginSize:T,imageSettings:U}=i,Z=fd(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:B}=Z,me=fd(Z,["style"]),de=U==null?void 0:U.src,te=Dt.useRef(null),ce=Dt.useRef(null),Se=Dt.useCallback(be=>{te.current=be,typeof s=="function"?s(be):s&&(s.current=be)},[s]),[je,M]=Dt.useState(!1),{margin:A,cells:R,numCells:O,calculatedImageSettings:j}=O0({value:c,level:m,minVersion:v,boostLevel:E,includeMargin:g,marginSize:T,imageSettings:U,size:u});Dt.useEffect(()=>{if(te.current!=null){const be=te.current,ye=be.getContext("2d");if(!ye)return;let F=R;const Q=ce.current,he=j!=null&&Q!==null&&Q.complete&&Q.naturalHeight!==0&&Q.naturalWidth!==0;he&&j.excavation!=null&&(F=I0(R,j.excavation));const xe=window.devicePixelRatio||1;be.height=be.width=u*xe;const Pe=u/O*xe;ye.scale(Pe,Pe),ye.fillStyle=x,ye.fillRect(0,0,O,O),ye.fillStyle=p,R1?ye.fill(new Path2D(M0(F,A))):R.forEach(function(C,Y){C.forEach(function(ue,ge){ue&&ye.fillRect(ge+A,Y+A,1,1)})}),j&&(ye.globalAlpha=j.opacity),he&&ye.drawImage(Q,j.x+A,j.y+A,j.w,j.h)}}),Dt.useEffect(()=>{M(!1)},[de]);const D=hd({height:u,width:u},B);let S=null;return de!=null&&(S=Dt.createElement("img",{src:de,key:de,style:{display:"none"},onLoad:()=>{M(!0)},ref:ce,crossOrigin:j==null?void 0:j.crossOrigin})),Dt.createElement(Dt.Fragment,null,Dt.createElement("canvas",hd({style:D,height:u,width:u,ref:Se,role:"img"},me)),S)});V0.displayName="QRCodeCanvas";var D1=Dt.forwardRef(function(t,s){const i=t,{value:c,size:u=j0,level:m=S0,bgColor:x=A0,fgColor:p=C0,includeMargin:g=R0,minVersion:v=D0,boostLevel:E,title:T,marginSize:U,imageSettings:P}=i,Z=fd(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:B,cells:me,numCells:de,calculatedImageSettings:te}=O0({value:c,level:m,minVersion:v,boostLevel:E,includeMargin:g,marginSize:U,imageSettings:P,size:u});let ce=me,Se=null;P!=null&&te!=null&&(te.excavation!=null&&(ce=I0(me,te.excavation)),Se=Dt.createElement("image",{href:P.src,height:te.h,width:te.w,x:te.x+B,y:te.y+B,preserveAspectRatio:"none",opacity:te.opacity,crossOrigin:te.crossOrigin}));const je=M0(ce,B);return Dt.createElement("svg",hd({height:u,width:u,viewBox:`0 0 ${de} ${de}`,ref:s,role:"img"},Z),!!T&&Dt.createElement("title",null,T),Dt.createElement("path",{fill:x,d:`M0,0 h${de}v${de}H0z`,shapeRendering:"crispEdges"}),Dt.createElement("path",{fill:p,d:je,shapeRendering:"crispEdges"}),Se)});D1.displayName="QRCodeSVG";const Mt={projects:[""],workplaces:[""],contractors:[""],subcontractors:[""],supervisors:[" "],locations:[""],goals:[""],processes:[""],topics:[""],cautions:[""],roles:[""],jobTypes:["","","",""],predictions:[""],countermeasures:[""]};Mt.projects[0],new Date().getMonth()+1,Mt.contractors[0],new Date().toISOString().split("T")[0],Mt.locations[0],Mt.supervisors[0],Mt.topics[0],Mt.goals[0],Mt.processes[0],Mt.cautions[0];const k0={count:1,project:Mt.projects[0],date:new Date().toISOString().split("T")[0],contractor:Mt.contractors[0],startTime:"13:00",endTime:"14:00",location:Mt.locations[0],gcAttendees:Array(8).fill({role:"",name:""}),subcontractorAttendees:[]},M1={year:new Date().getFullYear(),month:new Date().getMonth()+1,createdDate:new Date().toISOString().split("T")[0],project:Mt.projects[0],location:Mt.locations[0],author:Mt.supervisors[0],trainingDate:"",trainingLeader:Mt.supervisors[0],councilDate:"",councilLeader:"",patrolDate:"",processRows:[],predictions:Array(5).fill(""),countermeasures:Array(5).fill(""),inspectionItems:Array(5).fill(""),safetyDuty:{},lastMonthReflection:""},ed={project:"",director:"",furiganaSei:"",furiganaMei:"",nameSei:"",nameMei:"",birthEra:"Heisei",birthYear:"",birthMonth:"",birthDay:"",gender:"Male",age:0,company:"",subcontractorRank:"",experienceYears:null,experienceMonths:null,jobType:"",jobTypeOther:"",address:"",phone:"",emergencyContactSei:"",emergencyContactMei:"",emergencyContactRelation:"",emergencyContactPhone:"",bloodType:"A",bloodTypeRh:"Unknown",healthCheckYear:null,healthCheckMonth:null,healthCheckDay:null,kentaikyo:"Joined",qualifications:{vehicle_leveling:!1,vehicle_demolition:!1,mobile_crane:!1,slinging:!1,gas_welding:!1,earth_retaining:!1,excavation:!1,scaffolding:!1,formwork:!1,oxygen_deficiency:!1,rough_terrain:!1,arc_welding:!1,grinding_wheel:!1,low_voltage:!1,roller:!1,asbestos:!1,foreman:!1,license_regular:!1,license_large:!1,license_large_special:!1,license_towing:!1,otherText1:"",otherText2:"",otherText3:""},pledgeDateYear:null,pledgeDateMonth:null,pledgeDateDay:null,signatureDataUrl:null},I1=()=>{};var ex={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=function(r){const t=[];let s=0;for(let i=0;i<r.length;i++){let c=r.charCodeAt(i);c<128?t[s++]=c:c<2048?(t[s++]=c>>6|192,t[s++]=c&63|128):(c&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(c=65536+((c&1023)<<10)+(r.charCodeAt(++i)&1023),t[s++]=c>>18|240,t[s++]=c>>12&63|128,t[s++]=c>>6&63|128,t[s++]=c&63|128):(t[s++]=c>>12|224,t[s++]=c>>6&63|128,t[s++]=c&63|128)}return t},O1=function(r){const t=[];let s=0,i=0;for(;s<r.length;){const c=r[s++];if(c<128)t[i++]=String.fromCharCode(c);else if(c>191&&c<224){const u=r[s++];t[i++]=String.fromCharCode((c&31)<<6|u&63)}else if(c>239&&c<365){const u=r[s++],m=r[s++],x=r[s++],p=((c&7)<<18|(u&63)<<12|(m&63)<<6|x&63)-65536;t[i++]=String.fromCharCode(55296+(p>>10)),t[i++]=String.fromCharCode(56320+(p&1023))}else{const u=r[s++],m=r[s++];t[i++]=String.fromCharCode((c&15)<<12|(u&63)<<6|m&63)}}return t.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let c=0;c<r.length;c+=3){const u=r[c],m=c+1<r.length,x=m?r[c+1]:0,p=c+2<r.length,g=p?r[c+2]:0,v=u>>2,E=(u&3)<<4|x>>4;let T=(x&15)<<2|g>>6,U=g&63;p||(U=64,m||(T=64)),i.push(s[v],s[E],s[T],s[U])}return i.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(z0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):O1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let c=0;c<r.length;){const u=s[r.charAt(c++)],x=c<r.length?s[r.charAt(c)]:0;++c;const g=c<r.length?s[r.charAt(c)]:64;++c;const E=c<r.length?s[r.charAt(c)]:64;if(++c,u==null||x==null||g==null||E==null)throw new V1;const T=u<<2|x>>4;if(i.push(T),g!==64){const U=x<<4&240|g>>2;if(i.push(U),E!==64){const P=g<<6&192|E;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class V1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k1=function(r){const t=z0(r);return U0.encodeByteArray(t,!0)},mu=function(r){return k1(r).replace(/\./g,"")},z1=function(r){try{return U0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=()=>U1().__FIREBASE_DEFAULTS__,P1=()=>{if(typeof process>"u"||typeof ex>"u")return;const r=ex.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},B1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&z1(r[1]);return t&&JSON.parse(t)},zd=()=>{try{return I1()||L1()||P1()||B1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},q1=r=>{var t,s;return(s=(t=zd())==null?void 0:t.emulatorHosts)==null?void 0:s[r]},H1=r=>{const t=q1(r);if(!t)return;const s=t.lastIndexOf(":");if(s<=0||s+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(s+1),10);return t[0]==="["?[t.substring(1,s-1),i]:[t.substring(0,s),i]},L0=()=>{var r;return(r=zd())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}wrapCallback(t){return(s,i)=>{s?this.reject(s):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(s):t(s,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},i=t||"demo-project",c=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${i}`,aud:i,iat:c,exp:c+3600,auth_time:c,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[mu(JSON.stringify(s)),mu(JSON.stringify(m)),""].join(".")}const so={};function Y1(){const r={prod:[],emulator:[]};for(const t of Object.keys(so))so[t]?r.emulator.push(t):r.prod.push(t);return r}function Q1(r){let t=document.getElementById(r),s=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),s=!0),{created:s,element:t}}let tx=!1;function K1(r,t){if(typeof window>"u"||typeof document>"u"||!Ud(window.location.host)||so[r]===t||so[r]||tx)return;so[r]=t;function s(T){return`__firebase__banner__${T}`}const i="__firebase__banner",u=Y1().prod.length>0;function m(){const T=document.getElementById(i);T&&T.remove()}function x(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,U){T.setAttribute("width","24"),T.setAttribute("id",U),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{tx=!0,m()},T}function v(T,U){T.setAttribute("id",U),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=Q1(i),U=s("text"),P=document.getElementById(U)||document.createElement("span"),Z=s("learnmore"),B=document.getElementById(Z)||document.createElement("a"),me=s("preprendIcon"),de=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const te=T.element;x(te),v(B,Z);const ce=g();p(de,me),te.append(de,P,B,ce),document.body.appendChild(te)}u?(P.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z1(){var t;const r=(t=zd())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J1(){return!Z1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W1(){try{return typeof indexedDB=="object"}catch{return!1}}function eE(){return new Promise((r,t)=>{try{let s=!0;const i="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(i);c.onsuccess=()=>{c.result.close(),s||self.indexedDB.deleteDatabase(i),r(!0)},c.onupgradeneeded=()=>{s=!1},c.onerror=()=>{var u;t(((u=c.error)==null?void 0:u.message)||"")}}catch(s){t(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="FirebaseError";class Hi extends Error{constructor(t,s,i){super(s),this.code=t,this.customData=i,this.name=tE,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P0.prototype.create)}}class P0{constructor(t,s,i){this.service=t,this.serviceName=s,this.errors=i}create(t,...s){const i=s[0]||{},c=`${this.service}/${t}`,u=this.errors[t],m=u?nE(u,i):"Error",x=`${this.serviceName}: ${m} (${c}).`;return new Hi(c,x,i)}}function nE(r,t){return r.replace(sE,(s,i)=>{const c=t[i];return c!=null?String(c):`<${i}?>`})}const sE=/\{\$([^}]+)}/g;function gu(r,t){if(r===t)return!0;const s=Object.keys(r),i=Object.keys(t);for(const c of s){if(!i.includes(c))return!1;const u=r[c],m=t[c];if(nx(u)&&nx(m)){if(!gu(u,m))return!1}else if(u!==m)return!1}for(const c of i)if(!s.includes(c))return!1;return!0}function nx(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(r){return r&&r._delegate?r._delegate:r}class oo{constructor(t,s,i){this.name=t,this.instanceFactory=s,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t,s){this.name=t,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const s=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(s)){const i=new G1;if(this.instancesDeferred.set(s,i),this.isInitialized(s)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:s});c&&i.resolve(c)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(t){const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(i)return null;throw c}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iE(t))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[s,i]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:c});i.resolve(u)}catch{}}}}clearInstance(t=Cr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cr){return this.instances.has(t)}getOptions(t=Cr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:s={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:i,options:s});for(const[u,m]of this.instancesDeferred.entries()){const x=this.normalizeInstanceIdentifier(u);i===x&&m.resolve(c)}return c}onInit(t,s){const i=this.normalizeInstanceIdentifier(s),c=this.onInitCallbacks.get(i)??new Set;c.add(t),this.onInitCallbacks.set(i,c);const u=this.instances.get(i);return u&&t(u,i),()=>{c.delete(t)}}invokeOnInitCallbacks(t,s){const i=this.onInitCallbacks.get(s);if(i)for(const c of i)try{c(t,s)}catch{}}getOrInitializeService({instanceIdentifier:t,options:s={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:rE(t),options:s}),this.instances.set(t,i),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Cr){return this.component?this.component.multipleInstances?t:Cr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rE(r){return r===Cr?void 0:r}function iE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const s=this.getProvider(t.name);if(s.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);s.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const s=new aE(t,this);return this.providers.set(t,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(tt||(tt={}));const oE={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},cE=tt.INFO,uE={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},hE=(r,t,...s)=>{if(t<r.logLevel)return;const i=new Date().toISOString(),c=uE[t];if(c)console[c](`[${i}]  ${r.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class B0{constructor(t){this.name=t,this._logLevel=cE,this._logHandler=hE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in tt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?oE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...t),this._logHandler(this,tt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...t),this._logHandler(this,tt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...t),this._logHandler(this,tt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...t),this._logHandler(this,tt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...t),this._logHandler(this,tt.ERROR,...t)}}const fE=(r,t)=>t.some(s=>r instanceof s);let sx,ax;function dE(){return sx||(sx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mE(){return ax||(ax=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q0=new WeakMap,dd=new WeakMap,H0=new WeakMap,td=new WeakMap,Ld=new WeakMap;function gE(r){const t=new Promise((s,i)=>{const c=()=>{r.removeEventListener("success",u),r.removeEventListener("error",m)},u=()=>{s(Pa(r.result)),c()},m=()=>{i(r.error),c()};r.addEventListener("success",u),r.addEventListener("error",m)});return t.then(s=>{s instanceof IDBCursor&&q0.set(s,r)}).catch(()=>{}),Ld.set(t,r),t}function pE(r){if(dd.has(r))return;const t=new Promise((s,i)=>{const c=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",m),r.removeEventListener("abort",m)},u=()=>{s(),c()},m=()=>{i(r.error||new DOMException("AbortError","AbortError")),c()};r.addEventListener("complete",u),r.addEventListener("error",m),r.addEventListener("abort",m)});dd.set(r,t)}let md={get(r,t,s){if(r instanceof IDBTransaction){if(t==="done")return dd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||H0.get(r);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Pa(r[t])},set(r,t,s){return r[t]=s,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function yE(r){md=r(md)}function xE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const i=r.call(nd(this),t,...s);return H0.set(i,t.sort?t.sort():[t]),Pa(i)}:mE().includes(r)?function(...t){return r.apply(nd(this),t),Pa(q0.get(this))}:function(...t){return Pa(r.apply(nd(this),t))}}function bE(r){return typeof r=="function"?xE(r):(r instanceof IDBTransaction&&pE(r),fE(r,dE())?new Proxy(r,md):r)}function Pa(r){if(r instanceof IDBRequest)return gE(r);if(td.has(r))return td.get(r);const t=bE(r);return t!==r&&(td.set(r,t),Ld.set(t,r)),t}const nd=r=>Ld.get(r);function vE(r,t,{blocked:s,upgrade:i,blocking:c,terminated:u}={}){const m=indexedDB.open(r,t),x=Pa(m);return i&&m.addEventListener("upgradeneeded",p=>{i(Pa(m.result),p.oldVersion,p.newVersion,Pa(m.transaction),p)}),s&&m.addEventListener("blocked",p=>s(p.oldVersion,p.newVersion,p)),x.then(p=>{u&&p.addEventListener("close",()=>u()),c&&p.addEventListener("versionchange",g=>c(g.oldVersion,g.newVersion,g))}).catch(()=>{}),x}const _E=["get","getKey","getAll","getAllKeys","count"],EE=["put","add","delete","clear"],sd=new Map;function rx(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(sd.get(t))return sd.get(t);const s=t.replace(/FromIndex$/,""),i=t!==s,c=EE.includes(s);if(!(s in(i?IDBIndex:IDBObjectStore).prototype)||!(c||_E.includes(s)))return;const u=async function(m,...x){const p=this.transaction(m,c?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(x.shift())),(await Promise.all([g[s](...x),c&&p.done]))[0]};return sd.set(t,u),u}yE(r=>({...r,get:(t,s,i)=>rx(t,s)||r.get(t,s,i),has:(t,s)=>!!rx(t,s)||r.has(t,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(wE(s)){const i=s.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(s=>s).join(" ")}}function wE(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const gd="@firebase/app",ix="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new B0("@firebase/app"),TE="@firebase/app-compat",jE="@firebase/analytics-compat",SE="@firebase/analytics",AE="@firebase/app-check-compat",CE="@firebase/app-check",RE="@firebase/auth",DE="@firebase/auth-compat",ME="@firebase/database",IE="@firebase/data-connect",OE="@firebase/database-compat",VE="@firebase/functions",kE="@firebase/functions-compat",zE="@firebase/installations",UE="@firebase/installations-compat",LE="@firebase/messaging",PE="@firebase/messaging-compat",BE="@firebase/performance",qE="@firebase/performance-compat",HE="@firebase/remote-config",GE="@firebase/remote-config-compat",FE="@firebase/storage",$E="@firebase/storage-compat",YE="@firebase/firestore",QE="@firebase/ai",KE="@firebase/firestore-compat",XE="firebase",ZE="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="[DEFAULT]",JE={[gd]:"fire-core",[TE]:"fire-core-compat",[SE]:"fire-analytics",[jE]:"fire-analytics-compat",[CE]:"fire-app-check",[AE]:"fire-app-check-compat",[RE]:"fire-auth",[DE]:"fire-auth-compat",[ME]:"fire-rtdb",[IE]:"fire-data-connect",[OE]:"fire-rtdb-compat",[VE]:"fire-fn",[kE]:"fire-fn-compat",[zE]:"fire-iid",[UE]:"fire-iid-compat",[LE]:"fire-fcm",[PE]:"fire-fcm-compat",[BE]:"fire-perf",[qE]:"fire-perf-compat",[HE]:"fire-rc",[GE]:"fire-rc-compat",[FE]:"fire-gcs",[$E]:"fire-gcs-compat",[YE]:"fire-fst",[KE]:"fire-fst-compat",[QE]:"fire-vertex","fire-js":"fire-js",[XE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new Map,WE=new Map,yd=new Map;function lx(r,t){try{r.container.addComponent(t)}catch(s){aa.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,s)}}function yu(r){const t=r.name;if(yd.has(t))return aa.debug(`There were multiple attempts to register component ${t}.`),!1;yd.set(t,r);for(const s of pu.values())lx(s,r);for(const s of WE.values())lx(s,r);return!0}function eN(r,t){const s=r.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),r.container.getProvider(t)}function tN(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ba=new P0("app","Firebase",nN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t,s,i){this._isDeleted=!1,this._options={...t},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ba.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=ZE;function G0(r,t={}){let s=r;typeof t!="object"&&(t={name:t});const i={name:pd,automaticDataCollectionEnabled:!0,...t},c=i.name;if(typeof c!="string"||!c)throw Ba.create("bad-app-name",{appName:String(c)});if(s||(s=L0()),!s)throw Ba.create("no-options");const u=pu.get(c);if(u){if(gu(s,u.options)&&gu(i,u.config))return u;throw Ba.create("duplicate-app",{appName:c})}const m=new lE(c);for(const p of yd.values())m.addComponent(p);const x=new sN(s,i,m);return pu.set(c,x),x}function rN(r=pd){const t=pu.get(r);if(!t&&r===pd&&L0())return G0();if(!t)throw Ba.create("no-app",{appName:r});return t}function Mi(r,t,s){let i=JE[r]??r;s&&(i+=`-${s}`);const c=i.match(/\s|\//),u=t.match(/\s|\//);if(c||u){const m=[`Unable to register library "${i}" with version "${t}":`];c&&m.push(`library name "${i}" contains illegal characters (whitespace or "/")`),c&&u&&m.push("and"),u&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),aa.warn(m.join(" "));return}yu(new oo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="firebase-heartbeat-database",lN=1,co="firebase-heartbeat-store";let ad=null;function F0(){return ad||(ad=vE(iN,lN,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(co)}catch(s){console.warn(s)}}}}).catch(r=>{throw Ba.create("idb-open",{originalErrorMessage:r.message})})),ad}async function oN(r){try{const s=(await F0()).transaction(co),i=await s.objectStore(co).get($0(r));return await s.done,i}catch(t){if(t instanceof Hi)aa.warn(t.message);else{const s=Ba.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});aa.warn(s.message)}}}async function ox(r,t){try{const i=(await F0()).transaction(co,"readwrite");await i.objectStore(co).put(t,$0(r)),await i.done}catch(s){if(s instanceof Hi)aa.warn(s.message);else{const i=Ba.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});aa.warn(i.message)}}}function $0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=1024,uN=30;class hN{constructor(t){this.container=t,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new dN(s),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,s;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=cx();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(m=>m.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:c}),this._heartbeatsCache.heartbeats.length>uN){const m=mN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){aa.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=cx(),{heartbeatsToSend:i,unsentEntries:c}=fN(this._heartbeatsCache.heartbeats),u=mu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=s,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(s){return aa.warn(s),""}}}function cx(){return new Date().toISOString().substring(0,10)}function fN(r,t=cN){const s=[];let i=r.slice();for(const c of r){const u=s.find(m=>m.agent===c.agent);if(u){if(u.dates.push(c.date),ux(s)>t){u.dates.pop();break}}else if(s.push({agent:c.agent,dates:[c.date]}),ux(s)>t){s.pop();break}i=i.slice(1)}return{heartbeatsToSend:s,unsentEntries:i}}class dN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W1()?eE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await oN(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return ox(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return ox(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function ux(r){return mu(JSON.stringify({version:2,heartbeats:r})).length}function mN(r){if(r.length===0)return-1;let t=0,s=r[0].date;for(let i=1;i<r.length;i++)r[i].date<s&&(s=r[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(r){yu(new oo("platform-logger",t=>new NE(t),"PRIVATE")),yu(new oo("heartbeat",t=>new hN(t),"PRIVATE")),Mi(gd,ix,r),Mi(gd,ix,"esm2020"),Mi("fire-js","")}gN("");var pN="firebase",yN="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi(pN,yN,"app");var hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qa,Y0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,A){function R(){}R.prototype=A.prototype,M.F=A.prototype,M.prototype=new R,M.prototype.constructor=M,M.D=function(O,j,D){for(var S=Array(arguments.length-2),be=2;be<arguments.length;be++)S[be-2]=arguments[be];return A.prototype[j].apply(O,S)}}function s(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,s),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(M,A,R){R||(R=0);const O=Array(16);if(typeof A=="string")for(var j=0;j<16;++j)O[j]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(j=0;j<16;++j)O[j]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=M.g[0],R=M.g[1],j=M.g[2];let D=M.g[3],S;S=A+(D^R&(j^D))+O[0]+3614090360&4294967295,A=R+(S<<7&4294967295|S>>>25),S=D+(j^A&(R^j))+O[1]+3905402710&4294967295,D=A+(S<<12&4294967295|S>>>20),S=j+(R^D&(A^R))+O[2]+606105819&4294967295,j=D+(S<<17&4294967295|S>>>15),S=R+(A^j&(D^A))+O[3]+3250441966&4294967295,R=j+(S<<22&4294967295|S>>>10),S=A+(D^R&(j^D))+O[4]+4118548399&4294967295,A=R+(S<<7&4294967295|S>>>25),S=D+(j^A&(R^j))+O[5]+1200080426&4294967295,D=A+(S<<12&4294967295|S>>>20),S=j+(R^D&(A^R))+O[6]+2821735955&4294967295,j=D+(S<<17&4294967295|S>>>15),S=R+(A^j&(D^A))+O[7]+4249261313&4294967295,R=j+(S<<22&4294967295|S>>>10),S=A+(D^R&(j^D))+O[8]+1770035416&4294967295,A=R+(S<<7&4294967295|S>>>25),S=D+(j^A&(R^j))+O[9]+2336552879&4294967295,D=A+(S<<12&4294967295|S>>>20),S=j+(R^D&(A^R))+O[10]+4294925233&4294967295,j=D+(S<<17&4294967295|S>>>15),S=R+(A^j&(D^A))+O[11]+2304563134&4294967295,R=j+(S<<22&4294967295|S>>>10),S=A+(D^R&(j^D))+O[12]+1804603682&4294967295,A=R+(S<<7&4294967295|S>>>25),S=D+(j^A&(R^j))+O[13]+4254626195&4294967295,D=A+(S<<12&4294967295|S>>>20),S=j+(R^D&(A^R))+O[14]+2792965006&4294967295,j=D+(S<<17&4294967295|S>>>15),S=R+(A^j&(D^A))+O[15]+1236535329&4294967295,R=j+(S<<22&4294967295|S>>>10),S=A+(j^D&(R^j))+O[1]+4129170786&4294967295,A=R+(S<<5&4294967295|S>>>27),S=D+(R^j&(A^R))+O[6]+3225465664&4294967295,D=A+(S<<9&4294967295|S>>>23),S=j+(A^R&(D^A))+O[11]+643717713&4294967295,j=D+(S<<14&4294967295|S>>>18),S=R+(D^A&(j^D))+O[0]+3921069994&4294967295,R=j+(S<<20&4294967295|S>>>12),S=A+(j^D&(R^j))+O[5]+3593408605&4294967295,A=R+(S<<5&4294967295|S>>>27),S=D+(R^j&(A^R))+O[10]+38016083&4294967295,D=A+(S<<9&4294967295|S>>>23),S=j+(A^R&(D^A))+O[15]+3634488961&4294967295,j=D+(S<<14&4294967295|S>>>18),S=R+(D^A&(j^D))+O[4]+3889429448&4294967295,R=j+(S<<20&4294967295|S>>>12),S=A+(j^D&(R^j))+O[9]+568446438&4294967295,A=R+(S<<5&4294967295|S>>>27),S=D+(R^j&(A^R))+O[14]+3275163606&4294967295,D=A+(S<<9&4294967295|S>>>23),S=j+(A^R&(D^A))+O[3]+4107603335&4294967295,j=D+(S<<14&4294967295|S>>>18),S=R+(D^A&(j^D))+O[8]+1163531501&4294967295,R=j+(S<<20&4294967295|S>>>12),S=A+(j^D&(R^j))+O[13]+2850285829&4294967295,A=R+(S<<5&4294967295|S>>>27),S=D+(R^j&(A^R))+O[2]+4243563512&4294967295,D=A+(S<<9&4294967295|S>>>23),S=j+(A^R&(D^A))+O[7]+1735328473&4294967295,j=D+(S<<14&4294967295|S>>>18),S=R+(D^A&(j^D))+O[12]+2368359562&4294967295,R=j+(S<<20&4294967295|S>>>12),S=A+(R^j^D)+O[5]+4294588738&4294967295,A=R+(S<<4&4294967295|S>>>28),S=D+(A^R^j)+O[8]+2272392833&4294967295,D=A+(S<<11&4294967295|S>>>21),S=j+(D^A^R)+O[11]+1839030562&4294967295,j=D+(S<<16&4294967295|S>>>16),S=R+(j^D^A)+O[14]+4259657740&4294967295,R=j+(S<<23&4294967295|S>>>9),S=A+(R^j^D)+O[1]+2763975236&4294967295,A=R+(S<<4&4294967295|S>>>28),S=D+(A^R^j)+O[4]+1272893353&4294967295,D=A+(S<<11&4294967295|S>>>21),S=j+(D^A^R)+O[7]+4139469664&4294967295,j=D+(S<<16&4294967295|S>>>16),S=R+(j^D^A)+O[10]+3200236656&4294967295,R=j+(S<<23&4294967295|S>>>9),S=A+(R^j^D)+O[13]+681279174&4294967295,A=R+(S<<4&4294967295|S>>>28),S=D+(A^R^j)+O[0]+3936430074&4294967295,D=A+(S<<11&4294967295|S>>>21),S=j+(D^A^R)+O[3]+3572445317&4294967295,j=D+(S<<16&4294967295|S>>>16),S=R+(j^D^A)+O[6]+76029189&4294967295,R=j+(S<<23&4294967295|S>>>9),S=A+(R^j^D)+O[9]+3654602809&4294967295,A=R+(S<<4&4294967295|S>>>28),S=D+(A^R^j)+O[12]+3873151461&4294967295,D=A+(S<<11&4294967295|S>>>21),S=j+(D^A^R)+O[15]+530742520&4294967295,j=D+(S<<16&4294967295|S>>>16),S=R+(j^D^A)+O[2]+3299628645&4294967295,R=j+(S<<23&4294967295|S>>>9),S=A+(j^(R|~D))+O[0]+4096336452&4294967295,A=R+(S<<6&4294967295|S>>>26),S=D+(R^(A|~j))+O[7]+1126891415&4294967295,D=A+(S<<10&4294967295|S>>>22),S=j+(A^(D|~R))+O[14]+2878612391&4294967295,j=D+(S<<15&4294967295|S>>>17),S=R+(D^(j|~A))+O[5]+4237533241&4294967295,R=j+(S<<21&4294967295|S>>>11),S=A+(j^(R|~D))+O[12]+1700485571&4294967295,A=R+(S<<6&4294967295|S>>>26),S=D+(R^(A|~j))+O[3]+2399980690&4294967295,D=A+(S<<10&4294967295|S>>>22),S=j+(A^(D|~R))+O[10]+4293915773&4294967295,j=D+(S<<15&4294967295|S>>>17),S=R+(D^(j|~A))+O[1]+2240044497&4294967295,R=j+(S<<21&4294967295|S>>>11),S=A+(j^(R|~D))+O[8]+1873313359&4294967295,A=R+(S<<6&4294967295|S>>>26),S=D+(R^(A|~j))+O[15]+4264355552&4294967295,D=A+(S<<10&4294967295|S>>>22),S=j+(A^(D|~R))+O[6]+2734768916&4294967295,j=D+(S<<15&4294967295|S>>>17),S=R+(D^(j|~A))+O[13]+1309151649&4294967295,R=j+(S<<21&4294967295|S>>>11),S=A+(j^(R|~D))+O[4]+4149444226&4294967295,A=R+(S<<6&4294967295|S>>>26),S=D+(R^(A|~j))+O[11]+3174756917&4294967295,D=A+(S<<10&4294967295|S>>>22),S=j+(A^(D|~R))+O[2]+718787259&4294967295,j=D+(S<<15&4294967295|S>>>17),S=R+(D^(j|~A))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(j+(S<<21&4294967295|S>>>11))&4294967295,M.g[2]=M.g[2]+j&4294967295,M.g[3]=M.g[3]+D&4294967295}i.prototype.v=function(M,A){A===void 0&&(A=M.length);const R=A-this.blockSize,O=this.C;let j=this.h,D=0;for(;D<A;){if(j==0)for(;D<=R;)c(this,M,D),D+=this.blockSize;if(typeof M=="string"){for(;D<A;)if(O[j++]=M.charCodeAt(D++),j==this.blockSize){c(this,O),j=0;break}}else for(;D<A;)if(O[j++]=M[D++],j==this.blockSize){c(this,O),j=0;break}}this.h=j,this.o+=A},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;A=this.o*8;for(var R=M.length-8;R<M.length;++R)M[R]=A&255,A/=256;for(this.v(M),M=Array(16),A=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)M[A++]=this.g[R]>>>O&255;return M};function u(M,A){var R=x;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=A(M)}function m(M,A){this.h=A;const R=[];let O=!0;for(let j=M.length-1;j>=0;j--){const D=M[j]|0;O&&D==A||(R[j]=D,O=!1)}this.g=R}var x={};function p(M){return-128<=M&&M<128?u(M,function(A){return new m([A|0],A<0?-1:0)}):new m([M|0],M<0?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return E;if(M<0)return B(g(-M));const A=[];let R=1;for(let O=0;M>=R;O++)A[O]=M/R|0,R*=4294967296;return new m(A,0)}function v(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return B(v(M.substring(1),A));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let O=E;for(let D=0;D<M.length;D+=8){var j=Math.min(8,M.length-D);const S=parseInt(M.substring(D,D+j),A);j<8?(j=g(Math.pow(A,j)),O=O.j(j).add(g(S))):(O=O.j(R),O=O.add(g(S)))}return O}var E=p(0),T=p(1),U=p(16777216);r=m.prototype,r.m=function(){if(Z(this))return-B(this).m();let M=0,A=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);M+=(O>=0?O:4294967296+O)*A,A*=4294967296}return M},r.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(P(this))return"0";if(Z(this))return"-"+B(this).toString(M);const A=g(Math.pow(M,6));var R=this;let O="";for(;;){const j=ce(R,A).g;R=me(R,j.j(A));let D=((R.g.length>0?R.g[0]:R.h)>>>0).toString(M);if(R=j,P(R))return D+O;for(;D.length<6;)D="0"+D;O=D+O}},r.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function P(M){if(M.h!=0)return!1;for(let A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function Z(M){return M.h==-1}r.l=function(M){return M=me(this,M),Z(M)?-1:P(M)?0:1};function B(M){const A=M.g.length,R=[];for(let O=0;O<A;O++)R[O]=~M.g[O];return new m(R,~M.h).add(T)}r.abs=function(){return Z(this)?B(this):this},r.add=function(M){const A=Math.max(this.g.length,M.g.length),R=[];let O=0;for(let j=0;j<=A;j++){let D=O+(this.i(j)&65535)+(M.i(j)&65535),S=(D>>>16)+(this.i(j)>>>16)+(M.i(j)>>>16);O=S>>>16,D&=65535,S&=65535,R[j]=S<<16|D}return new m(R,R[R.length-1]&-2147483648?-1:0)};function me(M,A){return M.add(B(A))}r.j=function(M){if(P(this)||P(M))return E;if(Z(this))return Z(M)?B(this).j(B(M)):B(B(this).j(M));if(Z(M))return B(this.j(B(M)));if(this.l(U)<0&&M.l(U)<0)return g(this.m()*M.m());const A=this.g.length+M.g.length,R=[];for(var O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let j=0;j<M.g.length;j++){const D=this.i(O)>>>16,S=this.i(O)&65535,be=M.i(j)>>>16,ye=M.i(j)&65535;R[2*O+2*j]+=S*ye,de(R,2*O+2*j),R[2*O+2*j+1]+=D*ye,de(R,2*O+2*j+1),R[2*O+2*j+1]+=S*be,de(R,2*O+2*j+1),R[2*O+2*j+2]+=D*be,de(R,2*O+2*j+2)}for(M=0;M<A;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=A;M<2*A;M++)R[M]=0;return new m(R,0)};function de(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function te(M,A){this.g=M,this.h=A}function ce(M,A){if(P(A))throw Error("division by zero");if(P(M))return new te(E,E);if(Z(M))return A=ce(B(M),A),new te(B(A.g),B(A.h));if(Z(A))return A=ce(M,B(A)),new te(B(A.g),A.h);if(M.g.length>30){if(Z(M)||Z(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,O=A;O.l(M)<=0;)R=Se(R),O=Se(O);var j=je(R,1),D=je(O,1);for(O=je(O,2),R=je(R,2);!P(O);){var S=D.add(O);S.l(M)<=0&&(j=j.add(R),D=S),O=je(O,1),R=je(R,1)}return A=me(M,j.j(A)),new te(j,A)}for(j=E;M.l(A)>=0;){for(R=Math.max(1,Math.floor(M.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),D=g(R),S=D.j(A);Z(S)||S.l(M)>0;)R-=O,D=g(R),S=D.j(A);P(D)&&(D=T),j=j.add(D),M=me(M,S)}return new te(j,M)}r.B=function(M){return ce(this,M).h},r.and=function(M){const A=Math.max(this.g.length,M.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)&M.i(O);return new m(R,this.h&M.h)},r.or=function(M){const A=Math.max(this.g.length,M.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)|M.i(O);return new m(R,this.h|M.h)},r.xor=function(M){const A=Math.max(this.g.length,M.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)^M.i(O);return new m(R,this.h^M.h)};function Se(M){const A=M.g.length+1,R=[];for(let O=0;O<A;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new m(R,M.h)}function je(M,A){const R=A>>5;A%=32;const O=M.g.length-R,j=[];for(let D=0;D<O;D++)j[D]=A>0?M.i(D+R)>>>A|M.i(D+R+1)<<32-A:M.i(D+R);return new m(j,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Y0=i,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=g,m.fromString=v,qa=m}).apply(typeof hx<"u"?hx:typeof self<"u"?self:typeof window<"u"?window:{});var nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Q0,Wl,K0,lu,xd,X0,Z0,J0;(function(){var r,t=Object.defineProperty;function s(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof nu=="object"&&nu];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=s(this);function c(h,y){if(y)e:{var _=i;h=h.split(".");for(var w=0;w<h.length-1;w++){var q=h[w];if(!(q in _))break e;_=_[q]}h=h[h.length-1],w=_[h],y=y(w),y!=w&&y!=null&&t(_,h,{configurable:!0,writable:!0,value:y})}}c("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),c("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),c("Object.entries",function(h){return h||function(y){var _=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&_.push([w,y[w]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},m=this||self;function x(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,_){return h.call.apply(h.bind,arguments)}function g(h,y,_){return g=p,g.apply(null,arguments)}function v(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function E(h,y){function _(){}_.prototype=y.prototype,h.Z=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Ob=function(w,q,K){for(var fe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)fe[Be-2]=arguments[Be];return y.prototype[q].apply(w,fe)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function U(h){const y=h.length;if(y>0){const _=Array(y);for(let w=0;w<y;w++)_[w]=h[w];return _}return[]}function P(h,y){for(let w=1;w<arguments.length;w++){const q=arguments[w];var _=typeof q;if(_=_!="object"?_:q?Array.isArray(q)?"array":_:"null",_=="array"||_=="object"&&typeof q.length=="number"){_=h.length||0;const K=q.length||0;h.length=_+K;for(let fe=0;fe<K;fe++)h[_+fe]=q[fe]}else h.push(q)}}class Z{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(h){m.setTimeout(()=>{throw h},0)}function me(){var h=M;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class de{constructor(){this.h=this.g=null}add(y,_){const w=te.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var te=new Z(()=>new ce,h=>h.reset());class ce{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,je=!1,M=new de,A=()=>{const h=Promise.resolve(void 0);Se=()=>{h.then(R)}};function R(){for(var h;h=me();){try{h.h.call(h.g)}catch(_){B(_)}var y=te;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}je=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return h})();function S(h){return/^[\s\xa0]*$/.test(h)}function be(h,y){j.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(be,j),be.prototype.init=function(h,y){const _=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(_=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),F=0;function Q(h,y,_,w,q){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=q,this.key=++F,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xe(h,y,_){for(const w in h)y.call(_,h[w],w,h)}function Pe(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function C(h){const y={};for(const _ in h)y[_]=h[_];return y}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,y){let _,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(_ in w)h[_]=w[_];for(let K=0;K<Y.length;K++)_=Y[K],Object.prototype.hasOwnProperty.call(w,_)&&(h[_]=w[_])}}function ge(h){this.src=h,this.g={},this.h=0}ge.prototype.add=function(h,y,_,w,q){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const fe=we(h,y,w,q);return fe>-1?(y=h[fe],_||(y.fa=!1)):(y=new Q(y,this.src,K,!!w,q),y.fa=_,h.push(y)),y};function oe(h,y){const _=y.type;if(_ in h.g){var w=h.g[_],q=Array.prototype.indexOf.call(w,y,void 0),K;(K=q>=0)&&Array.prototype.splice.call(w,q,1),K&&(he(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function we(h,y,_,w){for(let q=0;q<h.length;++q){const K=h[q];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==w)return q}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),Fe={};function Te(h,y,_,w,q){if(Array.isArray(y)){for(let K=0;K<y.length;K++)Te(h,y[K],_,w,q);return null}return _=V(_),h&&h[ye]?h.J(y,_,x(w)?!!w.capture:!1,q):xt(h,y,_,!1,w,q)}function xt(h,y,_,w,q,K){if(!y)throw Error("Invalid event type");const fe=x(q)?!!q.capture:!!q;let Be=se(h);if(Be||(h[Ve]=Be=new ge(h)),_=Be.add(y,_,w,fe,K),_.proxy)return _;if(w=Ee(),_.proxy=w,w.src=h,w.listener=_,h.addEventListener)D||(q=fe),q===void 0&&(q=!1),h.addEventListener(y.toString(),w,q);else if(h.attachEvent)h.attachEvent(ke(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ee(){function h(_){return y.call(h.src,h.listener,_)}const y=k;return h}function J(h,y,_,w,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)J(h,y[K],_,w,q);else w=x(w)?!!w.capture:!!w,_=V(_),h&&h[ye]?(h=h.i,K=String(y).toString(),K in h.g&&(y=h.g[K],_=we(y,_,w,q),_>-1&&(he(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete h.g[K],h.h--)))):h&&(h=se(h))&&(y=h.g[y.toString()],h=-1,y&&(h=we(y,_,w,q)),(_=h>-1?y[h]:null)&&De(_))}function De(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ye])oe(y.i,h);else{var _=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(_,w,h.capture):y.detachEvent?y.detachEvent(ke(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=se(y))?(oe(_,h),_.h==0&&(_.src=null,y[Ve]=null)):he(h)}}}function ke(h){return h in Fe?Fe[h]:Fe[h]="on"+h}function k(h,y){if(h.da)h=!0;else{y=new be(y,this);const _=h.listener,w=h.ha||h.src;h.fa&&De(h),h=_.call(w,y)}return h}function se(h){return h=h[Ve],h instanceof ge?h:null}var He="__closure_events_fn_"+(Math.random()*1e9>>>0);function V(h){return typeof h=="function"?h:(h[He]||(h[He]=function(y){return h.handleEvent(y)}),h[He])}function ee(){O.call(this),this.i=new ge(this),this.M=this,this.G=null}E(ee,O),ee.prototype[ye]=!0,ee.prototype.removeEventListener=function(h,y,_,w){J(this,h,y,_,w)};function Re(h,y){var _,w=h.G;if(w)for(_=[];w;w=w.G)_.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new j(y,h);else if(y instanceof j)y.target=y.target||h;else{var q=y;y=new j(w,h),ue(y,q)}q=!0;let K,fe;if(_)for(fe=_.length-1;fe>=0;fe--)K=y.g=_[fe],q=Ie(K,w,!0,y)&&q;if(K=y.g=h,q=Ie(K,w,!0,y)&&q,q=Ie(K,w,!1,y)&&q,_)for(fe=0;fe<_.length;fe++)K=y.g=_[fe],q=Ie(K,w,!1,y)&&q}ee.prototype.N=function(){if(ee.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const _=h.g[y];for(let w=0;w<_.length;w++)he(_[w]);delete h.g[y],h.h--}}this.G=null},ee.prototype.J=function(h,y,_,w){return this.i.add(String(h),y,!1,_,w)},ee.prototype.K=function(h,y,_,w){return this.i.add(String(h),y,!0,_,w)};function Ie(h,y,_,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let K=0;K<y.length;++K){const fe=y[K];if(fe&&!fe.da&&fe.capture==_){const Be=fe.listener,At=fe.ha||fe.src;fe.fa&&oe(h.i,fe),q=Be.call(At,w)!==!1&&q}}return q&&!w.defaultPrevented}function at(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:m.setTimeout(h,y||0)}function So(h){h.g=at(()=>{h.g=null,h.i&&(h.i=!1,So(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class fn extends O{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:So(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(h){O.call(this),this.h=h,this.g={}}E(er,O);var Ki=[];function Xi(h){xe(h.g,function(y,_){this.g.hasOwnProperty(_)&&De(y)},h),h.g={}}er.prototype.N=function(){er.Z.N.call(this),Xi(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var la=m.JSON.stringify,Xu=m.JSON.parse,Ao=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function Co(){}function Ro(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){j.call(this,"d")}E(Jt,j);function kn(){j.call(this,"c")}E(kn,j);var St={},Do=null;function Pr(){return Do=Do||new ee}St.Ia="serverreachability";function Mo(h){j.call(this,St.Ia,h)}E(Mo,j);function us(h){const y=Pr();Re(y,new Mo(y))}St.STAT_EVENT="statevent";function tr(h,y){j.call(this,St.STAT_EVENT,h),this.stat=y}E(tr,j);function Ot(h){const y=Pr();Re(y,new tr(y,h))}St.Ja="timingevent";function hs(h,y){j.call(this,St.Ja,h),this.size=y}E(hs,j);function fs(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},y)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Zu(h,y,_,w,q,K){h.info(function(){if(h.g)if(K){var fe="",Be=K.split("&");for(let rt=0;rt<Be.length;rt++){var At=Be[rt].split("=");if(At.length>1){const _t=At[0];At=At[1];const Pn=_t.split("_");fe=Pn.length>=2&&Pn[1]=="type"?fe+(_t+"="+At+"&"):fe+(_t+"=redacted&")}}}else fe=null;else fe=K;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+_+`
`+fe})}function Io(h,y,_,w,q,K,fe){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+_+`
`+K+" "+fe})}function ds(h,y,_,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ju(h,_)+(w?" "+w:"")})}function nr(h,y){h.info(function(){return"TIMEOUT: "+y})}Zn.prototype.info=function(){};function Ju(h,y){if(!h.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var _=K[h];if(!(_.length<2)){var w=_[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let fe=1;fe<w.length;fe++)w[fe]=""}}}}return la(K)}catch{return y}}var sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ji;function ar(){}E(ar,Co),ar.prototype.g=function(){return new XMLHttpRequest},Ji=new ar;function Us(h){return encodeURIComponent(String(h))}function Oo(h){var y=1;h=h.split(":");const _=[];for(;y>0&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function Jn(h,y,_,w){this.j=h,this.i=y,this.l=_,this.S=w||1,this.V=new er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Vt={},Qt={};function ms(h,y,_){h.M=1,h.A=rr(zt(y)),h.u=_,h.R=!0,Br(h,null)}function Br(h,y){h.F=Date.now(),gs(h),h.B=zt(h.A);var _=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Fr(_.i,"t",w),h.C=0,_=h.j.L,h.h=new Wn,h.g=Ko(h.j,_?y:null,!h.u),h.P>0&&(h.O=new fn(g(h.Y,h,h.g),h.P)),y=h.V,_=h.g,w=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Ki[0]=q.toString()),q=Ki);for(let K=0;K<q.length;K++){const fe=Te(_,q[K],w||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=h.J?C(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),us(),Zu(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ns(h)==3?y.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)e:{const Be=ns(this.g),At=this.g.ya(),rt=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Be!=4||At==7||(At==8||rt<=0?us(3):us(2)),ps(this);var y=this.g.ca();this.X=y;var _=Wu(this);if(this.o=y==200,Io(this.i,this.v,this.B,this.l,this.S,Be,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(w)){var K=w;break t}}K=null}if(h=K)ds(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ys(this,h);else{this.o=!1,this.m=3,Ot(12),Tn(this),zn(this);break e}}if(this.R){h=!0;let _t;for(;!this.K&&this.C<_.length;)if(_t=ko(this,_),_t==Qt){Be==4&&(this.m=4,Ot(14),h=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Vt){this.m=4,Ot(15),ds(this.i,this.l,_,"[Invalid Chunk]"),h=!1;break}else ds(this.i,this.l,_t,null),ys(this,_t);if(Vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||_.length!=0||this.h.h||(this.m=1,Ot(16),h=!1),this.o=this.o&&h,!h)ds(this.i,this.l,_,"[Invalid Chunked Response]"),Tn(this),zn(this);else if(_.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),dl(fe),fe.P=!0,Ot(11))}}else ds(this.i,this.l,_,null),ys(this,_);Be==4&&Tn(this),this.o&&!this.K&&(Be==4?Fo(this.j,this):(this.o=!1,gs(this)))}else Ps(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),Tn(this),zn(this)}}}catch{}finally{}};function Wu(h){if(!Vo(h))return h.g.la();const y=Wt(h.g);if(y==="")return"";let _="";const w=y.length,q=ns(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Tn(h),zn(h),"";h.h.i=new m.TextDecoder}for(let K=0;K<w;K++)h.h.h=!0,_+=h.h.i.decode(y[K],{stream:!(q&&K==w-1)});return y.length=0,h.h.g+=_,h.C=0,h.h.g}function Vo(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ko(h,y){var _=h.C,w=y.indexOf(`
`,_);return w==-1?Qt:(_=Number(y.substring(_,w)),isNaN(_)?Vt:(w+=1,w+_>y.length?Qt:(y=y.slice(w,w+_),h.C=w+_,y)))}Jn.prototype.cancel=function(){this.K=!0,Tn(this)};function gs(h){h.T=Date.now()+h.H,qr(h,h.H)}function qr(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=fs(g(h.aa,h),y)}function ps(h){h.D&&(m.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(nr(this.i,this.B),this.M!=2&&(us(),Ot(17)),Tn(this),this.m=2,zn(this)):qr(this,this.T-h)};function zn(h){h.j.I==0||h.K||Fo(h.j,h)}function Tn(h){ps(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Xi(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function ys(h,y){try{var _=h.j;if(_.I!=0&&(_.g==h||bs(_.h,h))){if(!h.L&&bs(_.h,h)&&_.I==3){try{var w=_.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<h.F)Xr(_),ga(_);else break e;fr(_),Ot(18)}}else _.xa=q[1],0<_.xa-_.K&&q[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=fs(g(_.Va,_),6e3));xs(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ts(_,11)}else if((h.L||_.g==h)&&Xr(_),!S(y))for(q=_.Ba.g.parse(y),y=0;y<q.length;y++){let rt=q[y];const _t=rt[0];if(!(_t<=_.K))if(_.K=_t,rt=rt[1],_.I==2)if(rt[0]=="c"){_.M=rt[1],_.ba=rt[2];const Pn=rt[3];Pn!=null&&(_.ka=Pn,_.j.info("VER="+_.ka));const js=rt[4];js!=null&&(_.za=js,_.j.info("SVER="+_.za));const ss=rt[5];ss!=null&&typeof ss=="number"&&ss>0&&(w=1.5*ss,_.O=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const as=h.g;if(as){const dr=as.g?as.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var K=w.h;K.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(tl(K,K.h),K.h=null))}if(w.G){const Zr=as.g?as.g.getResponseHeader("X-HTTP-Session-Id"):null;Zr&&(w.wa=Zr,ot(w.J,w.G,Zr))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-h.F,_.j.info("Handshake RTT: "+_.T+"ms")),w=_;var fe=h;if(w.na=Qo(w,w.L?w.ba:null,w.W),fe.L){nl(w.h,fe);var Be=fe,At=w.O;At&&(Be.H=At),Be.D&&(ps(Be),gs(Be)),w.g=fe}else Ho(w);_.i.length>0&&ws(_)}else rt[0]!="stop"&&rt[0]!="close"||Ts(_,7);else _.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Ts(_,7):hl(_):rt[0]!="noop"&&_.l&&_.l.qa(rt),_.A=0)}}us(4)}catch{}}var kt=class{constructor(h,y){this.g=h,this.map=y}};function Wi(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function xs(h){return h.h?1:h.g?h.g.size:0}function bs(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function tl(h,y){h.g?h.g.add(y):h.h=y}function nl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Wi.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.G);return y}return U(h.i)}var zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hr(h,y){if(h){h=h.split("&");for(let _=0;_<h.length;_++){const w=h[_].indexOf("=");let q,K=null;w>=0?(q=h[_].substring(0,w),K=h[_].substring(w+1)):q=h[_],y(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function jn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof jn?(this.l=h.l,Kt(this,h.j),this.o=h.o,this.g=h.g,oa(this,h.u),this.h=h.h,al(this,Bo(h.i)),this.m=h.m):h&&(y=String(h).match(zo))?(this.l=!1,Kt(this,y[1]||"",!0),this.o=vs(y[2]||""),this.g=vs(y[3]||"",!0),oa(this,y[4]),this.h=vs(y[5]||"",!0),al(this,y[6]||"",!0),this.m=vs(y[7]||"")):(this.l=!1,this.i=new ua(null,this.l))}jn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(ir(y,Gr,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ir(y,Gr,!0),"@"),h.push(Us(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&h.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(ir(_,_.charAt(0)=="/"?rl:Uo,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",ir(_,Lo)),h.join("")},jn.prototype.resolve=function(h){const y=zt(this);let _=!!h.j;_?Kt(y,h.j):_=!!h.o,_?y.o=h.o:_=!!h.g,_?y.g=h.g:_=h.u!=null;var w=h.h;if(_)oa(y,h.u);else if(_=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=y.h.lastIndexOf("/");q!=-1&&(w=y.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let fe=0;fe<q.length;){const Be=q[fe++];Be=="."?w&&fe==q.length&&K.push(""):Be==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&fe==q.length&&K.push("")):(K.push(Be),w=!0)}w=K.join("/")}else w=q}return _?y.h=w:_=h.i.toString()!=="",_?al(y,Bo(h.i)):_=!!h.m,_&&(y.m=h.m),y};function zt(h){return new jn(h)}function Kt(h,y,_){h.j=_?vs(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function oa(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function al(h,y,_){y instanceof ua?(h.i=y,$r(h.i,h.l)):(_||(y=ir(y,ca)),h.i=new ua(y,h.l))}function ot(h,y,_){h.i.set(y,_)}function rr(h){return ot(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function vs(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ir(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,gn),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Gr=/[#\/\?@]/g,Uo=/[#\?:]/g,rl=/[#\?]/g,ca=/[#\?@]/g,Lo=/#/g;function ua(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function pn(h){h.g||(h.g=new Map,h.h=0,h.i&&Hr(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ua.prototype,r.add=function(h,y){pn(this),this.i=null,h=ha(this,h);let _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function Po(h,y){pn(h),y=ha(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function il(h,y){return pn(h),y=ha(h,y),h.g.has(y)}r.forEach=function(h,y){pn(this),this.g.forEach(function(_,w){_.forEach(function(q){h.call(y,q,w,this)},this)},this)};function ll(h,y){pn(h);let _=[];if(typeof y=="string")il(h,y)&&(_=_.concat(h.g.get(ha(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)_=_.concat(h[y]);return _}r.set=function(h,y){return pn(this),this.i=null,h=ha(this,h),il(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=ll(this,h),h.length>0?String(h[0]):y):y};function Fr(h,y,_){Po(h,y),_.length>0&&(h.i=null,h.g.set(ha(h,y),U(_)),h.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var _=y[w];const q=Us(_);_=ll(this,_);for(let K=0;K<_.length;K++){let fe=q;_[K]!==""&&(fe+="="+Us(_[K])),h.push(fe)}}return this.i=h.join("&")};function Bo(h){const y=new ua;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function ha(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function $r(h,y){y&&!h.j&&(pn(h),h.i=null,h.g.forEach(function(_,w){const q=w.toLowerCase();w!=q&&(Po(this,w),Fr(this,q,_))},h)),h.j=y}function es(h,y){const _=new Zn;if(m.Image){const w=new Image;w.onload=v(Un,_,"TestLoadImage: loaded",!0,y,w),w.onerror=v(Un,_,"TestLoadImage: error",!1,y,w),w.onabort=v(Un,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=v(Un,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function ol(h,y){const _=new Zn,w=new AbortController,q=setTimeout(()=>{w.abort(),Un(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(K=>{clearTimeout(q),K.ok?Un(_,"TestPingServer: ok",!0,y):Un(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Un(_,"TestPingServer: error",!1,y)})}function Un(h,y,_,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(_)}catch{}}function fa(){this.g=new Ao}function _s(h){this.i=h.Sb||null,this.h=h.ab||!1}E(_s,Co),_s.prototype.g=function(){return new lr(this.i,this.h)};function lr(h,y){ee.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(lr,ee),r=lr.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ts(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||m).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yr(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yr(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?da(this):ts(this),this.readyState==3&&Yr(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,da(this))},r.Na=function(h){this.g&&(this.response=h,da(this))},r.ga=function(){this.g&&da(this)};function da(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ts(h)}r.setRequestHeader=function(h,y){this.A.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function ts(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ln(h){let y="";return xe(h,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function or(h,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Ln(_),typeof h=="string"?_!=null&&Us(_):ot(h,y,_))}function ht(h){ee.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ht,ee);var Es=/^https?$/i,cl=["POST","PUT"];r=ht.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ji.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){cr(this,K);return}if(h=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)_.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())_.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),q=m.FormData&&h instanceof m.FormData,!(Array.prototype.indexOf.call(cl,y,void 0)>=0)||w||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,fe]of _)this.g.setRequestHeader(K,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){cr(this,K)}};function cr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,ul(h),Ls(h)}function ul(h){h.A||(h.A=!0,Re(h,"complete"),Re(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Re(this,"complete"),Re(this,"abort"),Ls(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),ht.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ur(this):this.Xa())},r.Xa=function(){ur(this)};function ur(h){if(h.h&&typeof u<"u"){if(h.v&&ns(h)==4)setTimeout(h.Ca.bind(h),0);else if(Re(h,"readystatechange"),ns(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=K===0){let fe=String(h.D).match(zo)[1]||null;!fe&&m.self&&m.self.location&&(fe=m.self.location.protocol.slice(0,-1)),w=!Es.test(fe?fe.toLowerCase():"")}_=w}if(_)Re(h,"complete"),Re(h,"success");else{h.o=6;try{var q=ns(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",ul(h)}}finally{Ls(h)}}}}function Ls(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const _=h.g;h.g=null,y||Re(h,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ns(h){return h.g?h.g.readyState:0}r.ca=function(){try{return ns(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Xu(y)}};function Wt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ps(h){const y={};h=(h.g&&ns(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(S(h[w]))continue;var _=Oo(h[w]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[q]||[];y[q]=K,K.push(_)}Pe(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function ma(h){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ns("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ns("baseRetryDelayMs",5e3,h),this.Za=Ns("retryDelaySeedMs",1e4,h),this.Ta=Ns("forwardChannelMaxRetries",2,h),this.va=Ns("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Wi(h&&h.concurrentRequestLimit),this.Ba=new fa,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ma.prototype,r.ka=8,r.I=1,r.connect=function(h,y,_,w){Ot(0),this.W=h,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.J=Qo(this,null,this.W),ws(this)};function hl(h){if(Qr(h),h.I==3){var y=h.V++,_=zt(h.J);if(ot(_,"SID",h.M),ot(_,"RID",y),ot(_,"TYPE","terminate"),hr(h,_),y=new Jn(h,h.j,y),y.M=2,y.A=rr(zt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.A,_=!0),_||(y.g=Ko(y.j,null),y.g.ea(y.A)),y.F=Date.now(),gs(y)}Yo(h)}function ga(h){h.g&&(dl(h),h.g.cancel(),h.g=null)}function Qr(h){ga(h),h.v&&(m.clearTimeout(h.v),h.v=null),Xr(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&m.clearTimeout(h.m),h.m=null)}function ws(h){if(!el(h.h)&&!h.m){h.m=!0;var y=h.Ea;Se||A(),je||(Se(),je=!0),M.add(y,h),h.D=0}}function Kr(h,y){return xs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=fs(g(h.Ea,h,y),$o(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new Jn(this,this.j,h);let K=this.o;if(this.U&&(K?(K=C(K),ue(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=qo(this,q,y),_=zt(this.J),ot(_,"RID",h),ot(_,"CVER",22),this.G&&ot(_,"X-HTTP-Session-Id",this.G),hr(this,_),K&&(this.R?y="headers="+Us(Ln(K))+"&"+y:this.u&&or(_,this.u,K)),tl(this.h,q),this.Ra&&ot(_,"TYPE","init"),this.S?(ot(_,"$req",y),ot(_,"SID","null"),q.U=!0,ms(q,_,null)):ms(q,_,y),this.I=2}}else this.I==3&&(h?fl(this,h):this.i.length==0||el(this.h)||fl(this))};function fl(h,y){var _;y?_=y.l:_=h.V++;const w=zt(h.J);ot(w,"SID",h.M),ot(w,"RID",_),ot(w,"AID",h.K),hr(h,w),h.u&&h.o&&or(w,h.u,h.o),_=new Jn(h,h.j,_,h.D+1),h.u===null&&(_.J=h.o),y&&(h.i=y.G.concat(h.i)),y=qo(h,_,1e3),_.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),tl(h.h,_),ms(_,w,y)}function hr(h,y){h.H&&xe(h.H,function(_,w){ot(y,w,_)}),h.l&&xe({},function(_,w){ot(y,w,_)})}function qo(h,y,_){_=Math.min(h.i.length,_);const w=h.l?g(h.l.Ka,h.l,h):null;e:{var q=h.i;let Be=-1;for(;;){const At=["count="+_];Be==-1?_>0?(Be=q[0].g,At.push("ofs="+Be)):Be=0:At.push("ofs="+Be);let rt=!0;for(let _t=0;_t<_;_t++){var K=q[_t].g;const Pn=q[_t].map;if(K-=Be,K<0)Be=Math.max(0,q[_t].g-100),rt=!1;else try{K="req"+K+"_"||"";try{var fe=Pn instanceof Map?Pn:Object.entries(Pn);for(const[js,ss]of fe){let as=ss;x(ss)&&(as=la(ss)),At.push(K+js+"="+encodeURIComponent(as))}}catch(js){throw At.push(K+"type="+encodeURIComponent("_badmap")),js}}catch{w&&w(Pn)}}if(rt){fe=At.join("&");break e}}fe=void 0}return h=h.i.splice(0,_),y.G=h,fe}function Ho(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;Se||A(),je||(Se(),je=!0),M.add(y,h),h.A=0}}function fr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=fs(g(h.Da,h),$o(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Go(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=fs(g(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),ga(this),Go(this))};function dl(h){h.B!=null&&(m.clearTimeout(h.B),h.B=null)}function Go(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=zt(h.na);ot(y,"RID","rpc"),ot(y,"SID",h.M),ot(y,"AID",h.K),ot(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&ot(y,"TO",h.ia),ot(y,"TYPE","xmlhttp"),hr(h,y),h.u&&h.o&&or(y,h.u,h.o),h.O&&(h.g.H=h.O);var _=h.g;h=h.ba,_.M=1,_.A=rr(zt(y)),_.u=null,_.R=!0,Br(_,h)}r.Va=function(){this.C!=null&&(this.C=null,ga(this),fr(this),Ot(19))};function Xr(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function Fo(h,y){var _=null;if(h.g==y){Xr(h),dl(h),h.g=null;var w=2}else if(bs(h.h,y))_=y.G,nl(h.h,y),w=1;else return;if(h.I!=0){if(y.o)if(w==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var q=h.D;w=Pr(),Re(w,new hs(w,_)),ws(h)}else Ho(h);else if(q=y.m,q==3||q==0&&y.X>0||!(w==1&&Kr(h,y)||w==2&&fr(h)))switch(_&&_.length>0&&(y=h.h,y.i=y.i.concat(_)),q){case 1:Ts(h,5);break;case 4:Ts(h,10);break;case 3:Ts(h,6);break;default:Ts(h,2)}}}function $o(h,y){let _=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(_*=2),_*y}function Ts(h,y){if(h.j.info("Error code "+y),y==2){var _=g(h.bb,h),w=h.Ua;const q=!w;w=new jn(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Kt(w,"https"),rr(w),q?es(w.toString(),_):ol(w.toString(),_)}else Ot(2);h.I=0,h.l&&h.l.pa(y),Yo(h),Qr(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Yo(h){if(h.I=0,h.ja=[],h.l){const y=sl(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ja,y),P(h.ja,h.i),h.h.i.length=0,U(h.i),h.i.length=0),h.l.oa()}}function Qo(h,y,_){var w=_ instanceof jn?zt(_):new jn(_);if(w.g!="")y&&(w.g=y+"."+w.g),oa(w,w.u);else{var q=m.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const K=new jn(null);w&&Kt(K,w),y&&(K.g=y),q&&oa(K,q),_&&(K.h=_),w=K}return _=h.G,y=h.wa,_&&y&&ot(w,_,y),ot(w,"VER",h.ka),hr(h,w),w}function Ko(h,y,_){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new ht(new _s({ab:_})):new ht(h.ma),y.Fa(h.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xo(){}r=Xo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function pa(){}pa.prototype.g=function(h,y){return new dn(h,y)};function dn(h,y){ee.call(this),this.g=new ma(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!S(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!S(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Bs(this)}E(dn,ee),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){hl(this.g)},dn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.v&&(_={},_.__data__=la(h),h=_);y.i.push(new kt(y.Ya++,h)),y.I==3&&ws(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,dn.Z.N.call(this)};function Zo(h){Jt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(Zo,Jt);function Jo(){kn.call(this),this.status=1}E(Jo,kn);function Bs(h){this.g=h}E(Bs,Xo),Bs.prototype.ra=function(){Re(this.g,"a")},Bs.prototype.qa=function(h){Re(this.g,new Zo(h))},Bs.prototype.pa=function(h){Re(this.g,new Jo)},Bs.prototype.oa=function(){Re(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,J0=function(){return new pa},Z0=function(){return Pr()},X0=St,xd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,lu=sr,Zi.COMPLETE="complete",K0=Zi,Ro.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",ee.prototype.listen=ee.prototype.J,Wl=Ro,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,Q0=ht}).apply(typeof nu<"u"?nu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gi="12.9.0";function xN(r){Gi=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new B0("@firebase/firestore");function Si(){return Ir.logLevel}function ve(r,...t){if(Ir.logLevel<=tt.DEBUG){const s=t.map(Pd);Ir.debug(`Firestore (${Gi}): ${r}`,...s)}}function ra(r,...t){if(Ir.logLevel<=tt.ERROR){const s=t.map(Pd);Ir.error(`Firestore (${Gi}): ${r}`,...s)}}function Or(r,...t){if(Ir.logLevel<=tt.WARN){const s=t.map(Pd);Ir.warn(`Firestore (${Gi}): ${r}`,...s)}}function Pd(r){if(typeof r=="string")return r;try{return(function(s){return JSON.stringify(s)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(r,t,s){let i="Unexpected state";typeof t=="string"?i=t:s=t,W0(r,i,s)}function W0(r,t,s){let i=`FIRESTORE (${Gi}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(s!==void 0)try{i+=" CONTEXT: "+JSON.stringify(s)}catch{i+=" CONTEXT: "+s}throw ra(i),new Error(i)}function lt(r,t,s,i){let c="Unexpected state";typeof s=="string"?c=s:i=s,r||W0(t,c,i)}function Le(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Hi{constructor(t,s){super(t,s),this.code=t,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.promise=new Promise(((t,s)=>{this.resolve=t,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,s){t.enqueueRetryable((()=>s(un.UNAUTHENTICATED)))}shutdown(){}}class vN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,s){this.changeListener=s,t.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class _N{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,s){lt(this.o===void 0,42304);let i=this.i;const c=p=>this.i!==i?(i=this.i,s(p)):Promise.resolve();let u=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new sa,t.enqueueRetryable((()=>c(this.currentUser)))};const m=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await c(this.currentUser)}))},x=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((p=>x(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?x(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new sa)}}),0),m()}getToken(){const t=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((i=>this.i!==t?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string",31837,{l:i}),new eb(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return lt(t===null||typeof t=="string",2055,{h:t}),new un(t)}}class EN{constructor(t,s,i){this.P=t,this.T=s,this.I=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NN{constructor(t,s,i){this.P=t,this.T=s,this.I=i}getToken(){return Promise.resolve(new EN(this.P,this.T,this.I))}start(t,s){t.enqueueRetryable((()=>s(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wN{constructor(t,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tN(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,s){lt(this.o===void 0,3512);const i=u=>{u.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.m;return this.m=u.token,ve("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?s(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>i(u)))};const c=u=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>c(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?c(u):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((s=>s?(lt(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new fx(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(s);else for(let i=0;i<r;i++)s[i]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const c=TN(40);for(let u=0;u<c.length;++u)i.length<20&&c[u]<s&&(i+=t.charAt(c[u]%62))}return i}}function Ze(r,t){return r<t?-1:r>t?1:0}function bd(r,t){const s=Math.min(r.length,t.length);for(let i=0;i<s;i++){const c=r.charAt(i),u=t.charAt(i);if(c!==u)return rd(c)===rd(u)?Ze(c,u):rd(c)?1:-1}return Ze(r.length,t.length)}const jN=55296,SN=57343;function rd(r){const t=r.charCodeAt(0);return t>=jN&&t<=SN}function zi(r,t,s){return r.length===t.length&&r.every(((i,c)=>s(i,t[c])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="__name__";class Ds{constructor(t,s,i){s===void 0?s=0:s>t.length&&Oe(637,{offset:s,range:t.length}),i===void 0?i=t.length-s:i>t.length-s&&Oe(1746,{length:i,range:t.length-s}),this.segments=t,this.offset=s,this.len=i}get length(){return this.len}isEqual(t){return Ds.comparator(this,t)===0}child(t){const s=this.segments.slice(this.offset,this.limit());return t instanceof Ds?t.forEach((i=>{s.push(i)})):s.push(t),this.construct(s)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}forEach(t){for(let s=this.offset,i=this.limit();s<i;s++)t(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,s){const i=Math.min(t.length,s.length);for(let c=0;c<i;c++){const u=Ds.compareSegments(t.get(c),s.get(c));if(u!==0)return u}return Ze(t.length,s.length)}static compareSegments(t,s){const i=Ds.isNumericId(t),c=Ds.isNumericId(s);return i&&!c?-1:!i&&c?1:i&&c?Ds.extractNumericId(t).compare(Ds.extractNumericId(s)):bd(t,s)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return qa.fromString(t.substring(4,t.length-2))}}class yt extends Ds{construct(t,s,i){return new yt(t,s,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const s=[];for(const i of t){if(i.indexOf("//")>=0)throw new pe(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);s.push(...i.split("/").filter((c=>c.length>0)))}return new yt(s)}static emptyPath(){return new yt([])}}const AN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Ds{construct(t,s,i){return new rn(t,s,i)}static isValidIdentifier(t){return AN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dx}static keyField(){return new rn([dx])}static fromServerFormat(t){const s=[];let i="",c=0;const u=()=>{if(i.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(i),i=""};let m=!1;for(;c<t.length;){const x=t[c];if(x==="\\"){if(c+1===t.length)throw new pe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[c+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,c+=2}else x==="`"?(m=!m,c++):x!=="."||m?(i+=x,c++):(u(),c++)}if(u(),m)throw new pe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(s)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.path=t}static fromPath(t){return new Ce(yt.fromString(t))}static fromName(t){return new Ce(yt.fromString(t).popFirst(5))}static empty(){return new Ce(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&yt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,s){return yt.comparator(t.path,s.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ce(new yt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(r,t,s){if(!s)throw new pe(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function CN(r,t,s,i){if(t===!0&&i===!0)throw new pe(re.INVALID_ARGUMENT,`${r} and ${s} cannot be used together.`)}function mx(r){if(!Ce.isDocumentKey(r))throw new pe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gx(r){if(Ce.isDocumentKey(r))throw new pe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function nb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Du(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Oe(12329,{type:typeof r})}function ks(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new pe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Du(r);throw new pe(re.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${s}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(r,t){const s={typeString:r};return t&&(s.value=t),s}function vo(r,t){if(!nb(r))throw new pe(re.INVALID_ARGUMENT,"JSON must be an object");let s;for(const i in t)if(t[i]){const c=t[i].typeString,u="value"in t[i]?{value:t[i].value}:void 0;if(!(i in r)){s=`JSON missing required field: '${i}'`;break}const m=r[i];if(c&&typeof m!==c){s=`JSON field '${i}' must be a ${c}.`;break}if(u!==void 0&&m!==u.value){s=`Expected '${i}' field to equal '${u.value}'`;break}}if(s)throw new pe(re.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=-62135596800,yx=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(t){return pt.fromMillis(t.getTime())}static fromMillis(t){const s=Math.floor(t/1e3),i=Math.floor((t-1e3*s)*yx);return new pt(s,i)}constructor(t,s){if(this.seconds=t,this.nanoseconds=s,s<0)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(t<px)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yx}_compareTo(t){return this.seconds===t.seconds?Ze(this.nanoseconds,t.nanoseconds):Ze(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(vo(t,pt._jsonSchema))return new pt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-px;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Gt("string",pt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(t){return new ze(t)}static min(){return new ze(new pt(0,0))}static max(){return new ze(new pt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=-1;function RN(r,t){const s=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,c=ze.fromTimestamp(i===1e9?new pt(s+1,0):new pt(s,i));return new Ga(c,Ce.empty(),t)}function DN(r){return new Ga(r.readTime,r.key,uo)}class Ga{constructor(t,s,i){this.readTime=t,this.documentKey=s,this.largestBatchId=i}static min(){return new Ga(ze.min(),Ce.empty(),uo)}static max(){return new Ga(ze.max(),Ce.empty(),uo)}}function MN(r,t){let s=r.readTime.compareTo(t.readTime);return s!==0?s:(s=Ce.comparator(r.documentKey,t.documentKey),s!==0?s:Ze(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fi(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==IN)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(t){return this.next(void 0,t)}next(t,s){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(t,this.result):new le(((i,c)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(i,c)},this.catchCallback=u=>{this.wrapFailure(s,u).next(i,c)}}))}toPromise(){return new Promise(((t,s)=>{this.next(t,s)}))}wrapUserFunction(t){try{const s=t();return s instanceof le?s:le.resolve(s)}catch(s){return le.reject(s)}}wrapSuccess(t,s){return t?this.wrapUserFunction((()=>t(s))):le.resolve(s)}wrapFailure(t,s){return t?this.wrapUserFunction((()=>t(s))):le.reject(s)}static resolve(t){return new le(((s,i)=>{s(t)}))}static reject(t){return new le(((s,i)=>{i(t)}))}static waitFor(t){return new le(((s,i)=>{let c=0,u=0,m=!1;t.forEach((x=>{++c,x.next((()=>{++u,m&&u===c&&s()}),(p=>i(p)))})),m=!0,u===c&&s()}))}static or(t){let s=le.resolve(!1);for(const i of t)s=s.next((c=>c?le.resolve(c):i()));return s}static forEach(t,s){const i=[];return t.forEach(((c,u)=>{i.push(s.call(this,c,u))})),this.waitFor(i)}static mapArray(t,s){return new le(((i,c)=>{const u=t.length,m=new Array(u);let x=0;for(let p=0;p<u;p++){const g=p;s(t[g]).next((v=>{m[g]=v,++x,x===u&&i(m)}),(v=>c(v)))}}))}static doWhile(t,s){return new le(((i,c)=>{const u=()=>{t()===!0?s().next((()=>{u()}),c):i()};u()}))}}function VN(r){const t=r.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function $i(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>s.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Mu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=-1;function Iu(r){return r==null}function xu(r){return r===0&&1/r==-1/0}function kN(r){return typeof r=="number"&&Number.isInteger(r)&&!xu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="";function zN(r){let t="";for(let s=0;s<r.length;s++)t.length>0&&(t=xx(t)),t=UN(r.get(s),t);return xx(t)}function UN(r,t){let s=t;const i=r.length;for(let c=0;c<i;c++){const u=r.charAt(c);switch(u){case"\0":s+="";break;case sb:s+="";break;default:s+=u}}return s}function xx(r){return r+sb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(r){let t=0;for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t++;return t}function Ja(r,t){for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t(s,r[s])}function ab(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t,s){this.comparator=t,this.root=s||an.EMPTY}insert(t,s){return new Nt(this.comparator,this.root.insert(t,s,this.comparator).copy(null,null,an.BLACK,null,null))}remove(t){return new Nt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}get(t){let s=this.root;for(;!s.isEmpty();){const i=this.comparator(t,s.key);if(i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}indexOf(t){let s=0,i=this.root;for(;!i.isEmpty();){const c=this.comparator(t,i.key);if(c===0)return s+i.left.size;c<0?i=i.left:(s+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((s,i)=>(t(s,i),!1)))}toString(){const t=[];return this.inorderTraversal(((s,i)=>(t.push(`${s}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new su(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new su(this.root,t,this.comparator,!1)}getReverseIterator(){return new su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new su(this.root,t,this.comparator,!0)}}class su{constructor(t,s,i,c){this.isReverse=c,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=s?i(t.key,s):1,s&&c&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const s={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class an{constructor(t,s,i,c,u){this.key=t,this.value=s,this.color=i??an.RED,this.left=c??an.EMPTY,this.right=u??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,s,i,c,u){return new an(t??this.key,s??this.value,i??this.color,c??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,s,i){let c=this;const u=i(t,c.key);return c=u<0?c.copy(null,null,null,c.left.insert(t,s,i),null):u===0?c.copy(null,s,null,null,null):c.copy(null,null,null,null,c.right.insert(t,s,i)),c.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,s){let i,c=this;if(s(t,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(t,s),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),s(t,c.key)===0){if(c.right.isEmpty())return an.EMPTY;i=c.right.min(),c=c.copy(i.key,i.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(t,s))}return c.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,s)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Oe(27949);return t+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(t,s,i,c,u){return this}insert(t,s,i){return new an(t,s)}remove(t,s){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.comparator=t,this.data=new Nt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((s,i)=>(t(s),!1)))}forEachInRange(t,s){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const c=i.getNext();if(this.comparator(c.key,t[1])>=0)return;s(c.key)}}forEachWhile(t,s){let i;for(i=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const s=this.data.getIteratorFrom(t);return s.hasNext()?s.getNext().key:null}getIterator(){return new vx(this.data.getIterator())}getIteratorFrom(t){return new vx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let s=this;return s.size<t.size&&(s=t,t=this),t.forEach((i=>{s=s.add(i)})),s}isEqual(t){if(!(t instanceof Yt)||this.size!==t.size)return!1;const s=this.data.getIterator(),i=t.data.getIterator();for(;s.hasNext();){const c=s.getNext().key,u=i.getNext().key;if(this.comparator(c,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((s=>{t.push(s)})),t}toString(){const t=[];return this.forEach((s=>t.push(s))),"SortedSet("+t.toString()+")"}copy(t){const s=new Yt(this.comparator);return s.data=t,s}}class vx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new On([])}unionWith(t){let s=new Yt(rn.comparator);for(const i of this.fields)s=s.add(i);for(const i of t)s=s.add(i);return new On(s.toArray())}covers(t){for(const s of this.fields)if(s.isPrefixOf(t))return!0;return!1}isEqual(t){return zi(this.fields,t.fields,((s,i)=>s.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const s=(function(c){try{return atob(c)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new rb("Invalid base64 string: "+u):u}})(t);return new ln(s)}static fromUint8Array(t){const s=(function(c){let u="";for(let m=0;m<c.length;++m)u+=String.fromCharCode(c[m]);return u})(t);return new ln(s)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const i=new Uint8Array(s.length);for(let c=0;c<s.length;c++)i[c]=s.charCodeAt(c);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ze(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const LN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fa(r){if(lt(!!r,39018),typeof r=="string"){let t=0;const s=LN.exec(r);if(lt(!!s,46558,{timestamp:r}),s[1]){let c=s[1];c=(c+"000000000").substr(0,9),t=Number(c)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:It(r.seconds),nanos:It(r.nanos)}}function It(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $a(r){return typeof r=="string"?ln.fromBase64String(r):ln.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="server_timestamp",lb="__type__",ob="__previous_value__",cb="__local_write_time__";function Hd(r){var s,i;return((i=(((s=r==null?void 0:r.mapValue)==null?void 0:s.fields)||{})[lb])==null?void 0:i.stringValue)===ib}function Ou(r){const t=r.mapValue.fields[ob];return Hd(t)?Ou(t):t}function ho(r){const t=Fa(r.mapValue.fields[cb].timestampValue);return new pt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(t,s,i,c,u,m,x,p,g,v,E){this.databaseId=t,this.appId=s,this.persistenceKey=i,this.host=c,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=x,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=E}}const bu="(default)";class fo{constructor(t,s){this.projectId=t,this.database=s||bu}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database===bu}isEqual(t){return t instanceof fo&&t.projectId===this.projectId&&t.database===this.database}}function BN(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new pe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(r.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="__type__",qN="__max__",au={mapValue:{}},hb="__vector__",vu="value";function Ya(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hd(r)?4:GN(r)?9007199254740991:HN(r)?10:11:Oe(28295,{value:r})}function zs(r,t){if(r===t)return!0;const s=Ya(r);if(s!==Ya(t))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ho(r).isEqual(ho(t));case 3:return(function(c,u){if(typeof c.timestampValue=="string"&&typeof u.timestampValue=="string"&&c.timestampValue.length===u.timestampValue.length)return c.timestampValue===u.timestampValue;const m=Fa(c.timestampValue),x=Fa(u.timestampValue);return m.seconds===x.seconds&&m.nanos===x.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(c,u){return $a(c.bytesValue).isEqual($a(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(c,u){return It(c.geoPointValue.latitude)===It(u.geoPointValue.latitude)&&It(c.geoPointValue.longitude)===It(u.geoPointValue.longitude)})(r,t);case 2:return(function(c,u){if("integerValue"in c&&"integerValue"in u)return It(c.integerValue)===It(u.integerValue);if("doubleValue"in c&&"doubleValue"in u){const m=It(c.doubleValue),x=It(u.doubleValue);return m===x?xu(m)===xu(x):isNaN(m)&&isNaN(x)}return!1})(r,t);case 9:return zi(r.arrayValue.values||[],t.arrayValue.values||[],zs);case 10:case 11:return(function(c,u){const m=c.mapValue.fields||{},x=u.mapValue.fields||{};if(bx(m)!==bx(x))return!1;for(const p in m)if(m.hasOwnProperty(p)&&(x[p]===void 0||!zs(m[p],x[p])))return!1;return!0})(r,t);default:return Oe(52216,{left:r})}}function mo(r,t){return(r.values||[]).find((s=>zs(s,t)))!==void 0}function Ui(r,t){if(r===t)return 0;const s=Ya(r),i=Ya(t);if(s!==i)return Ze(s,i);switch(s){case 0:case 9007199254740991:return 0;case 1:return Ze(r.booleanValue,t.booleanValue);case 2:return(function(u,m){const x=It(u.integerValue||u.doubleValue),p=It(m.integerValue||m.doubleValue);return x<p?-1:x>p?1:x===p?0:isNaN(x)?isNaN(p)?0:-1:1})(r,t);case 3:return _x(r.timestampValue,t.timestampValue);case 4:return _x(ho(r),ho(t));case 5:return bd(r.stringValue,t.stringValue);case 6:return(function(u,m){const x=$a(u),p=$a(m);return x.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,m){const x=u.split("/"),p=m.split("/");for(let g=0;g<x.length&&g<p.length;g++){const v=Ze(x[g],p[g]);if(v!==0)return v}return Ze(x.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,m){const x=Ze(It(u.latitude),It(m.latitude));return x!==0?x:Ze(It(u.longitude),It(m.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Ex(r.arrayValue,t.arrayValue);case 10:return(function(u,m){var T,U,P,Z;const x=u.fields||{},p=m.fields||{},g=(T=x[vu])==null?void 0:T.arrayValue,v=(U=p[vu])==null?void 0:U.arrayValue,E=Ze(((P=g==null?void 0:g.values)==null?void 0:P.length)||0,((Z=v==null?void 0:v.values)==null?void 0:Z.length)||0);return E!==0?E:Ex(g,v)})(r.mapValue,t.mapValue);case 11:return(function(u,m){if(u===au.mapValue&&m===au.mapValue)return 0;if(u===au.mapValue)return 1;if(m===au.mapValue)return-1;const x=u.fields||{},p=Object.keys(x),g=m.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const T=bd(p[E],v[E]);if(T!==0)return T;const U=Ui(x[p[E]],g[v[E]]);if(U!==0)return U}return Ze(p.length,v.length)})(r.mapValue,t.mapValue);default:throw Oe(23264,{he:s})}}function _x(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ze(r,t);const s=Fa(r),i=Fa(t),c=Ze(s.seconds,i.seconds);return c!==0?c:Ze(s.nanos,i.nanos)}function Ex(r,t){const s=r.values||[],i=t.values||[];for(let c=0;c<s.length&&c<i.length;++c){const u=Ui(s[c],i[c]);if(u)return u}return Ze(s.length,i.length)}function Li(r){return vd(r)}function vd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(s){const i=Fa(s);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(s){return $a(s).toBase64()})(r.bytesValue):"referenceValue"in r?(function(s){return Ce.fromName(s).toString()})(r.referenceValue):"geoPointValue"in r?(function(s){return`geo(${s.latitude},${s.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(s){let i="[",c=!0;for(const u of s.values||[])c?c=!1:i+=",",i+=vd(u);return i+"]"})(r.arrayValue):"mapValue"in r?(function(s){const i=Object.keys(s.fields||{}).sort();let c="{",u=!0;for(const m of i)u?u=!1:c+=",",c+=`${m}:${vd(s.fields[m])}`;return c+"}"})(r.mapValue):Oe(61005,{value:r})}function ou(r){switch(Ya(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ou(r);return t?16+ou(t):16;case 5:return 2*r.stringValue.length;case 6:return $a(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((c,u)=>c+ou(u)),0)})(r.arrayValue);case 10:case 11:return(function(i){let c=0;return Ja(i.fields,((u,m)=>{c+=u.length+ou(m)})),c})(r.mapValue);default:throw Oe(13486,{value:r})}}function Nx(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function _d(r){return!!r&&"integerValue"in r}function Gd(r){return!!r&&"arrayValue"in r}function wx(r){return!!r&&"nullValue"in r}function Tx(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function cu(r){return!!r&&"mapValue"in r}function HN(r){var s,i;return((i=(((s=r==null?void 0:r.mapValue)==null?void 0:s.fields)||{})[ub])==null?void 0:i.stringValue)===hb}function ao(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ja(r.mapValue.fields,((s,i)=>t.mapValue.fields[s]=ao(i))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let s=0;s<(r.arrayValue.values||[]).length;++s)t.arrayValue.values[s]=ao(r.arrayValue.values[s]);return t}return{...r}}function GN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===qN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let s=this.value;for(let i=0;i<t.length-1;++i)if(s=(s.mapValue.fields||{})[t.get(i)],!cu(s))return null;return s=(s.mapValue.fields||{})[t.lastSegment()],s||null}}set(t,s){this.getFieldsMap(t.popLast())[t.lastSegment()]=ao(s)}setAll(t){let s=rn.emptyPath(),i={},c=[];t.forEach(((m,x)=>{if(!s.isImmediateParentOf(x)){const p=this.getFieldsMap(s);this.applyChanges(p,i,c),i={},c=[],s=x.popLast()}m?i[x.lastSegment()]=ao(m):c.push(x.lastSegment())}));const u=this.getFieldsMap(s);this.applyChanges(u,i,c)}delete(t){const s=this.field(t.popLast());cu(s)&&s.mapValue.fields&&delete s.mapValue.fields[t.lastSegment()]}isEqual(t){return zs(this.value,t.value)}getFieldsMap(t){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let i=0;i<t.length;++i){let c=s.mapValue.fields[t.get(i)];cu(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},s.mapValue.fields[t.get(i)]=c),s=c}return s.mapValue.fields}applyChanges(t,s,i){Ja(s,((c,u)=>t[c]=u));for(const c of i)delete t[c]}clone(){return new Nn(ao(this.value))}}function fb(r){const t=[];return Ja(r.fields,((s,i)=>{const c=new rn([s]);if(cu(i)){const u=fb(i.mapValue).fields;if(u.length===0)t.push(c);else for(const m of u)t.push(c.child(m))}else t.push(c)})),new On(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,s,i,c,u,m,x){this.key=t,this.documentType=s,this.version=i,this.readTime=c,this.createTime=u,this.data=m,this.documentState=x}static newInvalidDocument(t){return new hn(t,0,ze.min(),ze.min(),ze.min(),Nn.empty(),0)}static newFoundDocument(t,s,i,c){return new hn(t,1,s,ze.min(),i,c,0)}static newNoDocument(t,s){return new hn(t,2,s,ze.min(),ze.min(),Nn.empty(),0)}static newUnknownDocument(t,s){return new hn(t,3,s,ze.min(),ze.min(),Nn.empty(),2)}convertToFoundDocument(t,s){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,s){this.position=t,this.inclusive=s}}function jx(r,t,s){let i=0;for(let c=0;c<r.position.length;c++){const u=t[c],m=r.position[c];if(u.field.isKeyField()?i=Ce.comparator(Ce.fromName(m.referenceValue),s.key):i=Ui(m,s.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Sx(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let s=0;s<r.position.length;s++)if(!zs(r.position[s],t.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,s="asc"){this.field=t,this.dir=s}}function FN(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{}class Ht extends db{constructor(t,s,i){super(),this.field=t,this.op=s,this.value=i}static create(t,s,i){return t.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(t,s,i):new YN(t,s,i):s==="array-contains"?new XN(t,i):s==="in"?new ZN(t,i):s==="not-in"?new JN(t,i):s==="array-contains-any"?new WN(t,i):new Ht(t,s,i)}static createKeyFieldInFilter(t,s,i){return s==="in"?new QN(t,i):new KN(t,i)}matches(t){const s=t.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Ui(s,this.value)):s!==null&&Ya(this.value)===Ya(s)&&this.matchesComparison(Ui(s,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cs extends db{constructor(t,s){super(),this.filters=t,this.op=s,this.Pe=null}static create(t,s){return new cs(t,s)}matches(t){return mb(this)?this.filters.find((s=>!s.matches(t)))===void 0:this.filters.find((s=>s.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,s)=>t.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mb(r){return r.op==="and"}function gb(r){return $N(r)&&mb(r)}function $N(r){for(const t of r.filters)if(t instanceof cs)return!1;return!0}function Ed(r){if(r instanceof Ht)return r.field.canonicalString()+r.op.toString()+Li(r.value);if(gb(r))return r.filters.map((t=>Ed(t))).join(",");{const t=r.filters.map((s=>Ed(s))).join(",");return`${r.op}(${t})`}}function pb(r,t){return r instanceof Ht?(function(i,c){return c instanceof Ht&&i.op===c.op&&i.field.isEqual(c.field)&&zs(i.value,c.value)})(r,t):r instanceof cs?(function(i,c){return c instanceof cs&&i.op===c.op&&i.filters.length===c.filters.length?i.filters.reduce(((u,m,x)=>u&&pb(m,c.filters[x])),!0):!1})(r,t):void Oe(19439)}function yb(r){return r instanceof Ht?(function(s){return`${s.field.canonicalString()} ${s.op} ${Li(s.value)}`})(r):r instanceof cs?(function(s){return s.op.toString()+" {"+s.getFilters().map(yb).join(" ,")+"}"})(r):"Filter"}class YN extends Ht{constructor(t,s,i){super(t,s,i),this.key=Ce.fromName(i.referenceValue)}matches(t){const s=Ce.comparator(t.key,this.key);return this.matchesComparison(s)}}class QN extends Ht{constructor(t,s){super(t,"in",s),this.keys=xb("in",s)}matches(t){return this.keys.some((s=>s.isEqual(t.key)))}}class KN extends Ht{constructor(t,s){super(t,"not-in",s),this.keys=xb("not-in",s)}matches(t){return!this.keys.some((s=>s.isEqual(t.key)))}}function xb(r,t){var s;return(((s=t.arrayValue)==null?void 0:s.values)||[]).map((i=>Ce.fromName(i.referenceValue)))}class XN extends Ht{constructor(t,s){super(t,"array-contains",s)}matches(t){const s=t.data.field(this.field);return Gd(s)&&mo(s.arrayValue,this.value)}}class ZN extends Ht{constructor(t,s){super(t,"in",s)}matches(t){const s=t.data.field(this.field);return s!==null&&mo(this.value.arrayValue,s)}}class JN extends Ht{constructor(t,s){super(t,"not-in",s)}matches(t){if(mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=t.data.field(this.field);return s!==null&&s.nullValue===void 0&&!mo(this.value.arrayValue,s)}}class WN extends Ht{constructor(t,s){super(t,"array-contains-any",s)}matches(t){const s=t.data.field(this.field);return!(!Gd(s)||!s.arrayValue.values)&&s.arrayValue.values.some((i=>mo(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,s=null,i=[],c=[],u=null,m=null,x=null){this.path=t,this.collectionGroup=s,this.orderBy=i,this.filters=c,this.limit=u,this.startAt=m,this.endAt=x,this.Te=null}}function Ax(r,t=null,s=[],i=[],c=null,u=null,m=null){return new e2(r,t,s,i,c,u,m)}function Fd(r){const t=Le(r);if(t.Te===null){let s=t.path.canonicalString();t.collectionGroup!==null&&(s+="|cg:"+t.collectionGroup),s+="|f:",s+=t.filters.map((i=>Ed(i))).join(","),s+="|ob:",s+=t.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Iu(t.limit)||(s+="|l:",s+=t.limit),t.startAt&&(s+="|lb:",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((i=>Li(i))).join(",")),t.endAt&&(s+="|ub:",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((i=>Li(i))).join(",")),t.Te=s}return t.Te}function $d(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<r.orderBy.length;s++)if(!FN(r.orderBy[s],t.orderBy[s]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let s=0;s<r.filters.length;s++)if(!pb(r.filters[s],t.filters[s]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Sx(r.startAt,t.startAt)&&Sx(r.endAt,t.endAt)}function Nd(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t,s=null,i=[],c=[],u=null,m="F",x=null,p=null){this.path=t,this.collectionGroup=s,this.explicitOrderBy=i,this.filters=c,this.limit=u,this.limitType=m,this.startAt=x,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function t2(r,t,s,i,c,u,m,x){return new Yi(r,t,s,i,c,u,m,x)}function Yd(r){return new Yi(r)}function Cx(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function n2(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function bb(r){return r.collectionGroup!==null}function ro(r){const t=Le(r);if(t.Ie===null){t.Ie=[];const s=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),s.add(u.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let x=new Yt(rn.comparator);return m.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(x=x.add(g.field))}))})),x})(t).forEach((u=>{s.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new go(u,i))})),s.has(rn.keyField().canonicalString())||t.Ie.push(new go(rn.keyField(),i))}return t.Ie}function Ms(r){const t=Le(r);return t.Ee||(t.Ee=s2(t,ro(r))),t.Ee}function s2(r,t){if(r.limitType==="F")return Ax(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((c=>{const u=c.dir==="desc"?"asc":"desc";return new go(c.field,u)}));const s=r.endAt?new _u(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new _u(r.startAt.position,r.startAt.inclusive):null;return Ax(r.path,r.collectionGroup,t,r.filters,r.limit,s,i)}}function wd(r,t){const s=r.filters.concat([t]);return new Yi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),s,r.limit,r.limitType,r.startAt,r.endAt)}function a2(r,t){const s=r.explicitOrderBy.concat([t]);return new Yi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Td(r,t,s){return new Yi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,s,r.startAt,r.endAt)}function Vu(r,t){return $d(Ms(r),Ms(t))&&r.limitType===t.limitType}function vb(r){return`${Fd(Ms(r))}|lt:${r.limitType}`}function Ai(r){return`Query(target=${(function(s){let i=s.path.canonicalString();return s.collectionGroup!==null&&(i+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(i+=`, filters: [${s.filters.map((c=>yb(c))).join(", ")}]`),Iu(s.limit)||(i+=", limit: "+s.limit),s.orderBy.length>0&&(i+=`, orderBy: [${s.orderBy.map((c=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(c))).join(", ")}]`),s.startAt&&(i+=", startAt: ",i+=s.startAt.inclusive?"b:":"a:",i+=s.startAt.position.map((c=>Li(c))).join(",")),s.endAt&&(i+=", endAt: ",i+=s.endAt.inclusive?"a:":"b:",i+=s.endAt.position.map((c=>Li(c))).join(",")),`Target(${i})`})(Ms(r))}; limitType=${r.limitType})`}function ku(r,t){return t.isFoundDocument()&&(function(i,c){const u=c.key.path;return i.collectionGroup!==null?c.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):Ce.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(r,t)&&(function(i,c){for(const u of ro(i))if(!u.field.isKeyField()&&c.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(i,c){for(const u of i.filters)if(!u.matches(c))return!1;return!0})(r,t)&&(function(i,c){return!(i.startAt&&!(function(m,x,p){const g=jx(m,x,p);return m.inclusive?g<=0:g<0})(i.startAt,ro(i),c)||i.endAt&&!(function(m,x,p){const g=jx(m,x,p);return m.inclusive?g>=0:g>0})(i.endAt,ro(i),c))})(r,t)}function r2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function _b(r){return(t,s)=>{let i=!1;for(const c of ro(r)){const u=i2(c,t,s);if(u!==0)return u;i=i||c.field.isKeyField()}return 0}}function i2(r,t,s){const i=r.field.isKeyField()?Ce.comparator(t.key,s.key):(function(u,m,x){const p=m.data.field(u),g=x.data.field(u);return p!==null&&g!==null?Ui(p,g):Oe(42886)})(r.field,t,s);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Oe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,s){this.mapKeyFn=t,this.equalsFn=s,this.inner={},this.innerSize=0}get(t){const s=this.mapKeyFn(t),i=this.inner[s];if(i!==void 0){for(const[c,u]of i)if(this.equalsFn(c,t))return u}}has(t){return this.get(t)!==void 0}set(t,s){const i=this.mapKeyFn(t),c=this.inner[i];if(c===void 0)return this.inner[i]=[[t,s]],void this.innerSize++;for(let u=0;u<c.length;u++)if(this.equalsFn(c[u][0],t))return void(c[u]=[t,s]);c.push([t,s]),this.innerSize++}delete(t){const s=this.mapKeyFn(t),i=this.inner[s];if(i===void 0)return!1;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],t))return i.length===1?delete this.inner[s]:i.splice(c,1),this.innerSize--,!0;return!1}forEach(t){Ja(this.inner,((s,i)=>{for(const[c,u]of i)t(c,u)}))}isEmpty(){return ab(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new Nt(Ce.comparator);function ia(){return l2}const Eb=new Nt(Ce.comparator);function eo(...r){let t=Eb;for(const s of r)t=t.insert(s.key,s);return t}function Nb(r){let t=Eb;return r.forEach(((s,i)=>t=t.insert(s,i.overlayedDocument))),t}function Rr(){return io()}function wb(){return io()}function io(){return new kr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const o2=new Nt(Ce.comparator),c2=new Yt(Ce.comparator);function Je(...r){let t=c2;for(const s of r)t=t.add(s);return t}const u2=new Yt(Ze);function h2(){return u2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(t)?"-0":t}}function Tb(r){return{integerValue:""+r}}function f2(r,t){return kN(t)?Tb(t):Qd(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this._=void 0}}function d2(r,t,s){return r instanceof Eu?(function(c,u){const m={fields:{[lb]:{stringValue:ib},[cb]:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return u&&Hd(u)&&(u=Ou(u)),u&&(m.fields[ob]=u),{mapValue:m}})(s,t):r instanceof po?Sb(r,t):r instanceof yo?Ab(r,t):(function(c,u){const m=jb(c,u),x=Rx(m)+Rx(c.Ae);return _d(m)&&_d(c.Ae)?Tb(x):Qd(c.serializer,x)})(r,t)}function m2(r,t,s){return r instanceof po?Sb(r,t):r instanceof yo?Ab(r,t):s}function jb(r,t){return r instanceof Nu?(function(i){return _d(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(t)?t:{integerValue:0}:null}class Eu extends zu{}class po extends zu{constructor(t){super(),this.elements=t}}function Sb(r,t){const s=Cb(t);for(const i of r.elements)s.some((c=>zs(c,i)))||s.push(i);return{arrayValue:{values:s}}}class yo extends zu{constructor(t){super(),this.elements=t}}function Ab(r,t){let s=Cb(t);for(const i of r.elements)s=s.filter((c=>!zs(c,i)));return{arrayValue:{values:s}}}class Nu extends zu{constructor(t,s){super(),this.serializer=t,this.Ae=s}}function Rx(r){return It(r.integerValue||r.doubleValue)}function Cb(r){return Gd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function g2(r,t){return r.field.isEqual(t.field)&&(function(i,c){return i instanceof po&&c instanceof po||i instanceof yo&&c instanceof yo?zi(i.elements,c.elements,zs):i instanceof Nu&&c instanceof Nu?zs(i.Ae,c.Ae):i instanceof Eu&&c instanceof Eu})(r.transform,t.transform)}class p2{constructor(t,s){this.version=t,this.transformResults=s}}class wn{constructor(t,s){this.updateTime=t,this.exists=s}static none(){return new wn}static exists(t){return new wn(void 0,t)}static updateTime(t){return new wn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function uu(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Uu{}function Rb(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Lu(r.key,wn.none()):new _o(r.key,r.data,wn.none());{const s=r.data,i=Nn.empty();let c=new Yt(rn.comparator);for(let u of t.fields)if(!c.has(u)){let m=s.field(u);m===null&&u.length>1&&(u=u.popLast(),m=s.field(u)),m===null?i.delete(u):i.set(u,m),c=c.add(u)}return new Wa(r.key,i,new On(c.toArray()),wn.none())}}function y2(r,t,s){r instanceof _o?(function(c,u,m){const x=c.value.clone(),p=Mx(c.fieldTransforms,u,m.transformResults);x.setAll(p),u.convertToFoundDocument(m.version,x).setHasCommittedMutations()})(r,t,s):r instanceof Wa?(function(c,u,m){if(!uu(c.precondition,u))return void u.convertToUnknownDocument(m.version);const x=Mx(c.fieldTransforms,u,m.transformResults),p=u.data;p.setAll(Db(c)),p.setAll(x),u.convertToFoundDocument(m.version,p).setHasCommittedMutations()})(r,t,s):(function(c,u,m){u.convertToNoDocument(m.version).setHasCommittedMutations()})(0,t,s)}function lo(r,t,s,i){return r instanceof _o?(function(u,m,x,p){if(!uu(u.precondition,m))return x;const g=u.value.clone(),v=Ix(u.fieldTransforms,p,m);return g.setAll(v),m.convertToFoundDocument(m.version,g).setHasLocalMutations(),null})(r,t,s,i):r instanceof Wa?(function(u,m,x,p){if(!uu(u.precondition,m))return x;const g=Ix(u.fieldTransforms,p,m),v=m.data;return v.setAll(Db(u)),v.setAll(g),m.convertToFoundDocument(m.version,v).setHasLocalMutations(),x===null?null:x.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(r,t,s,i):(function(u,m,x){return uu(u.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):x})(r,t,s)}function x2(r,t){let s=null;for(const i of r.fieldTransforms){const c=t.data.field(i.field),u=jb(i.transform,c||null);u!=null&&(s===null&&(s=Nn.empty()),s.set(i.field,u))}return s||null}function Dx(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(i,c){return i===void 0&&c===void 0||!(!i||!c)&&zi(i,c,((u,m)=>g2(u,m)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class _o extends Uu{constructor(t,s,i,c=[]){super(),this.key=t,this.value=s,this.precondition=i,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Wa extends Uu{constructor(t,s,i,c,u=[]){super(),this.key=t,this.data=s,this.fieldMask=i,this.precondition=c,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Db(r){const t=new Map;return r.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const i=r.data.field(s);t.set(s,i)}})),t}function Mx(r,t,s){const i=new Map;lt(r.length===s.length,32656,{Ve:s.length,de:r.length});for(let c=0;c<s.length;c++){const u=r[c],m=u.transform,x=t.data.field(u.field);i.set(u.field,m2(m,x,s[c]))}return i}function Ix(r,t,s){const i=new Map;for(const c of r){const u=c.transform,m=s.data.field(c.field);i.set(c.field,d2(u,m,t))}return i}class Lu extends Uu{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b2 extends Uu{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t,s,i,c){this.batchId=t,this.localWriteTime=s,this.baseMutations=i,this.mutations=c}applyToRemoteDocument(t,s){const i=s.mutationResults;for(let c=0;c<this.mutations.length;c++){const u=this.mutations[c];u.key.isEqual(t.key)&&y2(u,t,i[c])}}applyToLocalView(t,s){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(s=lo(i,t,s,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(s=lo(i,t,s,this.localWriteTime));return s}applyToLocalDocumentSet(t,s){const i=wb();return this.mutations.forEach((c=>{const u=t.get(c.key),m=u.overlayedDocument;let x=this.applyToLocalView(m,u.mutatedFields);x=s.has(c.key)?null:x;const p=Rb(m,x);p!==null&&i.set(c.key,p),m.isValidDocument()||m.convertToNoDocument(ze.min())})),i}keys(){return this.mutations.reduce(((t,s)=>t.add(s.key)),Je())}isEqual(t){return this.batchId===t.batchId&&zi(this.mutations,t.mutations,((s,i)=>Dx(s,i)))&&zi(this.baseMutations,t.baseMutations,((s,i)=>Dx(s,i)))}}class Kd{constructor(t,s,i,c){this.batch=t,this.commitVersion=s,this.mutationResults=i,this.docVersions=c}static from(t,s,i){lt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let c=(function(){return o2})();const u=t.mutations;for(let m=0;m<u.length;m++)c=c.insert(u[m].key,i[m].version);return new Kd(t,s,i,c)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,s){this.largestBatchId=t,this.mutation=s}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t,s){this.count=t,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,et;function N2(r){switch(r){case re.OK:return Oe(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Oe(15467,{code:r})}}function Mb(r){if(r===void 0)return ra("GRPC error has no .code"),re.UNKNOWN;switch(r){case qt.OK:return re.OK;case qt.CANCELLED:return re.CANCELLED;case qt.UNKNOWN:return re.UNKNOWN;case qt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case qt.INTERNAL:return re.INTERNAL;case qt.UNAVAILABLE:return re.UNAVAILABLE;case qt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case qt.NOT_FOUND:return re.NOT_FOUND;case qt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case qt.ABORTED:return re.ABORTED;case qt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case qt.DATA_LOSS:return re.DATA_LOSS;default:return Oe(39323,{code:r})}}(et=qt||(qt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new qa([4294967295,4294967295],0);function Ox(r){const t=w2().encode(r),s=new Y0;return s.update(t),new Uint8Array(s.digest())}function Vx(r){const t=new DataView(r.buffer),s=t.getUint32(0,!0),i=t.getUint32(4,!0),c=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new qa([s,i],0),new qa([c,u],0)]}class Xd{constructor(t,s,i){if(this.bitmap=t,this.padding=s,this.hashCount=i,s<0||s>=8)throw new to(`Invalid padding: ${s}`);if(i<0)throw new to(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new to(`Invalid hash count: ${i}`);if(t.length===0&&s!==0)throw new to(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*t.length-s,this.pe=qa.fromNumber(this.ge)}ye(t,s,i){let c=t.add(s.multiply(qa.fromNumber(i)));return c.compare(T2)===1&&(c=new qa([c.getBits(0),c.getBits(1)],0)),c.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const s=Ox(t),[i,c]=Vx(s);for(let u=0;u<this.hashCount;u++){const m=this.ye(i,c,u);if(!this.we(m))return!1}return!0}static create(t,s,i){const c=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),m=new Xd(u,c,s);return i.forEach((x=>m.insert(x))),m}insert(t){if(this.ge===0)return;const s=Ox(t),[i,c]=Vx(s);for(let u=0;u<this.hashCount;u++){const m=this.ye(i,c,u);this.be(m)}}be(t){const s=Math.floor(t/8),i=t%8;this.bitmap[s]|=1<<i}}class to extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,s,i,c,u){this.snapshotVersion=t,this.targetChanges=s,this.targetMismatches=i,this.documentUpdates=c,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,s,i){const c=new Map;return c.set(t,Eo.createSynthesizedTargetChangeForCurrentChange(t,s,i)),new Pu(ze.min(),c,new Nt(Ze),ia(),Je())}}class Eo{constructor(t,s,i,c,u){this.resumeToken=t,this.current=s,this.addedDocuments=i,this.modifiedDocuments=c,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,s,i){return new Eo(i,s,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t,s,i,c){this.Se=t,this.removedTargetIds=s,this.key=i,this.De=c}}class Ib{constructor(t,s){this.targetId=t,this.Ce=s}}class Ob{constructor(t,s,i=ln.EMPTY_BYTE_STRING,c=null){this.state=t,this.targetIds=s,this.resumeToken=i,this.cause=c}}class kx{constructor(){this.ve=0,this.Fe=zx(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Je(),s=Je(),i=Je();return this.Fe.forEach(((c,u)=>{switch(u){case 0:t=t.add(c);break;case 2:s=s.add(c);break;case 1:i=i.add(c);break;default:Oe(38017,{changeType:u})}})),new Eo(this.Me,this.xe,t,s,i)}Ke(){this.Oe=!1,this.Fe=zx()}qe(t,s){this.Oe=!0,this.Fe=this.Fe.insert(t,s)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class j2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ia(),this.He=ru(),this.Je=ru(),this.Ze=new Nt(Ze)}Xe(t){for(const s of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(s,t.De):this.et(s,t.key,t.De);for(const s of t.removedTargetIds)this.et(s,t.key,t.De)}tt(t){this.forEachTarget(t,(s=>{const i=this.nt(s);switch(t.state){case 0:this.rt(s)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(s)&&(this.it(s),i.Le(t.resumeToken));break;default:Oe(56790,{state:t.state})}}))}forEachTarget(t,s){t.targetIds.length>0?t.targetIds.forEach(s):this.ze.forEach(((i,c)=>{this.rt(c)&&s(c)}))}st(t){const s=t.targetId,i=t.Ce.count,c=this.ot(s);if(c){const u=c.target;if(Nd(u))if(i===0){const m=new Ce(u.path);this.et(s,m,hn.newNoDocument(m,ze.min()))}else lt(i===1,20013,{expectedCount:i});else{const m=this._t(s);if(m!==i){const x=this.ut(t),p=x?this.ct(x,t,m):1;if(p!==0){this.it(s);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(s,g)}}}}}ut(t){const s=t.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:i="",padding:c=0},hashCount:u=0}=s;let m,x;try{m=$a(i).toUint8Array()}catch(p){if(p instanceof rb)return Or("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{x=new Xd(m,c,u)}catch(p){return Or(p instanceof to?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return x.ge===0?null:x}ct(t,s,i){return s.Ce.count===i-this.Pt(t,s.targetId)?0:2}Pt(t,s){const i=this.Ge.getRemoteKeysForTarget(s);let c=0;return i.forEach((u=>{const m=this.Ge.ht(),x=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;t.mightContain(x)||(this.et(s,u,null),c++)})),c}Tt(t){const s=new Map;this.ze.forEach(((u,m)=>{const x=this.ot(m);if(x){if(u.current&&Nd(x.target)){const p=new Ce(x.target.path);this.It(p).has(m)||this.Et(m,p)||this.et(m,p,hn.newNoDocument(p,t))}u.Be&&(s.set(m,u.ke()),u.Ke())}}));let i=Je();this.Je.forEach(((u,m)=>{let x=!0;m.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(x=!1,!1)})),x&&(i=i.add(u))})),this.je.forEach(((u,m)=>m.setReadTime(t)));const c=new Pu(t,s,this.Ze,this.je,i);return this.je=ia(),this.He=ru(),this.Je=ru(),this.Ze=new Nt(Ze),c}Ye(t,s){if(!this.rt(t))return;const i=this.Et(t,s.key)?2:0;this.nt(t).qe(s.key,i),this.je=this.je.insert(s.key,s),this.He=this.He.insert(s.key,this.It(s.key).add(t)),this.Je=this.Je.insert(s.key,this.Rt(s.key).add(t))}et(t,s,i){if(!this.rt(t))return;const c=this.nt(t);this.Et(t,s)?c.qe(s,1):c.Ue(s),this.Je=this.Je.insert(s,this.Rt(s).delete(t)),this.Je=this.Je.insert(s,this.Rt(s).add(t)),i&&(this.je=this.je.insert(s,i))}removeTarget(t){this.ze.delete(t)}_t(t){const s=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+s.addedDocuments.size-s.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let s=this.ze.get(t);return s||(s=new kx,this.ze.set(t,s)),s}Rt(t){let s=this.Je.get(t);return s||(s=new Yt(Ze),this.Je=this.Je.insert(t,s)),s}It(t){let s=this.He.get(t);return s||(s=new Yt(Ze),this.He=this.He.insert(t,s)),s}rt(t){const s=this.ot(t)!==null;return s||ve("WatchChangeAggregator","Detected inactive target",t),s}ot(t){const s=this.ze.get(t);return s&&s.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new kx),this.Ge.getRemoteKeysForTarget(t).forEach((s=>{this.et(t,s,null)}))}Et(t,s){return this.Ge.getRemoteKeysForTarget(t).has(s)}}function ru(){return new Nt(Ce.comparator)}function zx(){return new Nt(Ce.comparator)}const S2={asc:"ASCENDING",desc:"DESCENDING"},A2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C2={and:"AND",or:"OR"};class R2{constructor(t,s){this.databaseId=t,this.useProto3Json=s}}function jd(r,t){return r.useProto3Json||Iu(t)?t:{value:t}}function wu(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vb(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function D2(r,t){return wu(r,t.toTimestamp())}function Is(r){return lt(!!r,49232),ze.fromTimestamp((function(s){const i=Fa(s);return new pt(i.seconds,i.nanos)})(r))}function Zd(r,t){return Sd(r,t).canonicalString()}function Sd(r,t){const s=(function(c){return new yt(["projects",c.projectId,"databases",c.database])})(r).child("documents");return t===void 0?s:s.child(t)}function kb(r){const t=yt.fromString(r);return lt(Bb(t),10190,{key:t.toString()}),t}function Ad(r,t){return Zd(r.databaseId,t.path)}function id(r,t){const s=kb(t);if(s.get(1)!==r.databaseId.projectId)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+r.databaseId.projectId);if(s.get(3)!==r.databaseId.database)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+r.databaseId.database);return new Ce(Ub(s))}function zb(r,t){return Zd(r.databaseId,t)}function M2(r){const t=kb(r);return t.length===4?yt.emptyPath():Ub(t)}function Cd(r){return new yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ub(r){return lt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Ux(r,t,s){return{name:Ad(r,t),fields:s.value.mapValue.fields}}function I2(r,t){let s;if("targetChange"in t){t.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Oe(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),c=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(lt(v===void 0||typeof v=="string",58123),ln.fromBase64String(v||"")):(lt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ln.fromUint8Array(v||new Uint8Array))})(r,t.targetChange.resumeToken),m=t.targetChange.cause,x=m&&(function(g){const v=g.code===void 0?re.UNKNOWN:Mb(g.code);return new pe(v,g.message||"")})(m);s=new Ob(i,c,u,x||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const c=id(r,i.document.name),u=Is(i.document.updateTime),m=i.document.createTime?Is(i.document.createTime):ze.min(),x=new Nn({mapValue:{fields:i.document.fields}}),p=hn.newFoundDocument(c,u,m,x),g=i.targetIds||[],v=i.removedTargetIds||[];s=new hu(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const c=id(r,i.document),u=i.readTime?Is(i.readTime):ze.min(),m=hn.newNoDocument(c,u),x=i.removedTargetIds||[];s=new hu([],x,m.key,m)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const c=id(r,i.document),u=i.removedTargetIds||[];s=new hu([],u,c,null)}else{if(!("filter"in t))return Oe(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:c=0,unchangedNames:u}=i,m=new E2(c,u),x=i.targetId;s=new Ib(x,m)}}return s}function O2(r,t){let s;if(t instanceof _o)s={update:Ux(r,t.key,t.value)};else if(t instanceof Lu)s={delete:Ad(r,t.key)};else if(t instanceof Wa)s={update:Ux(r,t.key,t.data),updateMask:H2(t.fieldMask)};else{if(!(t instanceof b2))return Oe(16599,{dt:t.type});s={verify:Ad(r,t.key)}}return t.fieldTransforms.length>0&&(s.updateTransforms=t.fieldTransforms.map((i=>(function(u,m){const x=m.transform;if(x instanceof Eu)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof po)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof yo)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof Nu)return{fieldPath:m.field.canonicalString(),increment:x.Ae};throw Oe(20930,{transform:m.transform})})(0,i)))),t.precondition.isNone||(s.currentDocument=(function(c,u){return u.updateTime!==void 0?{updateTime:D2(c,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Oe(27497)})(r,t.precondition)),s}function V2(r,t){return r&&r.length>0?(lt(t!==void 0,14353),r.map((s=>(function(c,u){let m=c.updateTime?Is(c.updateTime):Is(u);return m.isEqual(ze.min())&&(m=Is(u)),new p2(m,c.transformResults||[])})(s,t)))):[]}function k2(r,t){return{documents:[zb(r,t.path)]}}function z2(r,t){const s={structuredQuery:{}},i=t.path;let c;t.collectionGroup!==null?(c=i,s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(c=i.popLast(),s.structuredQuery.from=[{collectionId:i.lastSegment()}]),s.parent=zb(r,c);const u=(function(g){if(g.length!==0)return Pb(cs.create(g,"and"))})(t.filters);u&&(s.structuredQuery.where=u);const m=(function(g){if(g.length!==0)return g.map((v=>(function(T){return{field:Ci(T.field),direction:P2(T.dir)}})(v)))})(t.orderBy);m&&(s.structuredQuery.orderBy=m);const x=jd(r,t.limit);return x!==null&&(s.structuredQuery.limit=x),t.startAt&&(s.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(s.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:s,parent:c}}function U2(r){let t=M2(r.parent);const s=r.structuredQuery,i=s.from?s.from.length:0;let c=null;if(i>0){lt(i===1,65062);const v=s.from[0];v.allDescendants?c=v.collectionId:t=t.child(v.collectionId)}let u=[];s.where&&(u=(function(E){const T=Lb(E);return T instanceof cs&&gb(T)?T.getFilters():[T]})(s.where));let m=[];s.orderBy&&(m=(function(E){return E.map((T=>(function(P){return new go(Ri(P.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(T)))})(s.orderBy));let x=null;s.limit&&(x=(function(E){let T;return T=typeof E=="object"?E.value:E,Iu(T)?null:T})(s.limit));let p=null;s.startAt&&(p=(function(E){const T=!!E.before,U=E.values||[];return new _u(U,T)})(s.startAt));let g=null;return s.endAt&&(g=(function(E){const T=!E.before,U=E.values||[];return new _u(U,T)})(s.endAt)),t2(t,c,m,u,x,"F",p,g)}function L2(r,t){const s=(function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:c})}})(t.purpose);return s==null?null:{"goog-listen-tags":s}}function Lb(r){return r.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const i=Ri(s.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const c=Ri(s.unaryFilter.field);return Ht.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ri(s.unaryFilter.field);return Ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Ri(s.unaryFilter.field);return Ht.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(r):r.fieldFilter!==void 0?(function(s){return Ht.create(Ri(s.fieldFilter.field),(function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(s){return cs.create(s.compositeFilter.filters.map((i=>Lb(i))),(function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(s.compositeFilter.op))})(r):Oe(30097,{filter:r})}function P2(r){return S2[r]}function B2(r){return A2[r]}function q2(r){return C2[r]}function Ci(r){return{fieldPath:r.canonicalString()}}function Ri(r){return rn.fromServerFormat(r.fieldPath)}function Pb(r){return r instanceof Ht?(function(s){if(s.op==="=="){if(Tx(s.value))return{unaryFilter:{field:Ci(s.field),op:"IS_NAN"}};if(wx(s.value))return{unaryFilter:{field:Ci(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Tx(s.value))return{unaryFilter:{field:Ci(s.field),op:"IS_NOT_NAN"}};if(wx(s.value))return{unaryFilter:{field:Ci(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ci(s.field),op:B2(s.op),value:s.value}}})(r):r instanceof cs?(function(s){const i=s.getFilters().map((c=>Pb(c)));return i.length===1?i[0]:{compositeFilter:{op:q2(s.op),filters:i}}})(r):Oe(54877,{filter:r})}function H2(r){const t=[];return r.fields.forEach((s=>t.push(s.canonicalString()))),{fieldPaths:t}}function Bb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function qb(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,s,i,c,u=ze.min(),m=ze.min(),x=ln.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=s,this.purpose=i,this.sequenceNumber=c,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=x,this.expectedCount=p}withSequenceNumber(t){return new La(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,s){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t){this.yt=t}}function F2(r){const t=U2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Td(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.Sn=new Y2}addToCollectionParentIndex(t,s){return this.Sn.add(s),le.resolve()}getCollectionParents(t,s){return le.resolve(this.Sn.getEntries(s))}addFieldIndex(t,s){return le.resolve()}deleteFieldIndex(t,s){return le.resolve()}deleteAllFieldIndexes(t){return le.resolve()}createTargetIndexes(t,s){return le.resolve()}getDocumentsMatchingTarget(t,s){return le.resolve(null)}getIndexType(t,s){return le.resolve(0)}getFieldIndexes(t,s){return le.resolve([])}getNextCollectionGroupToUpdate(t){return le.resolve(null)}getMinOffset(t,s){return le.resolve(Ga.min())}getMinOffsetFromCollectionGroup(t,s){return le.resolve(Ga.min())}updateCollectionGroup(t,s,i){return le.resolve()}updateIndexEntries(t,s){return le.resolve()}}class Y2{constructor(){this.index={}}add(t){const s=t.lastSegment(),i=t.popLast(),c=this.index[s]||new Yt(yt.comparator),u=!c.has(i);return this.index[s]=c.add(i),u}has(t){const s=t.lastSegment(),i=t.popLast(),c=this.index[s];return c&&c.has(i)}getEntries(t){return(this.index[t]||new Yt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hb=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,s,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(Hb,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Pi(0)}static ar(){return new Pi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="LruGarbageCollector",Q2=1048576;function Bx([r,t],[s,i]){const c=Ze(r,s);return c===0?Ze(t,i):c}class K2{constructor(t){this.Pr=t,this.buffer=new Yt(Bx),this.Tr=0}Ir(){return++this.Tr}Er(t){const s=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(s);else{const i=this.buffer.last();Bx(s,i)<0&&(this.buffer=this.buffer.delete(i).add(s))}}get maxValue(){return this.buffer.last()[0]}}class X2{constructor(t,s,i){this.garbageCollector=t,this.asyncQueue=s,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ve(Px,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){$i(s)?ve(Px,"Ignoring IndexedDB error during garbage collection: ",s):await Fi(s)}await this.Ar(3e5)}))}}class Z2{constructor(t,s){this.Vr=t,this.params=s}calculateTargetCount(t,s){return this.Vr.dr(t).next((i=>Math.floor(s/100*i)))}nthSequenceNumber(t,s){if(s===0)return le.resolve(Mu.ce);const i=new K2(s);return this.Vr.forEachTarget(t,(c=>i.Er(c.sequenceNumber))).next((()=>this.Vr.mr(t,(c=>i.Er(c))))).next((()=>i.maxValue))}removeTargets(t,s,i){return this.Vr.removeTargets(t,s,i)}removeOrphanedDocuments(t,s){return this.Vr.removeOrphanedDocuments(t,s)}collect(t,s){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Lx)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lx):this.gr(t,s)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,s){let i,c,u,m,x,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),c=this.params.maximumSequenceNumbersToCollect):c=E,m=Date.now(),this.nthSequenceNumber(t,c)))).next((E=>(i=E,x=Date.now(),this.removeTargets(t,i,s)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,i)))).next((E=>(g=Date.now(),Si()<=tt.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-v}ms
	Determined least recently used ${c} in `+(x-m)+`ms
	Removed ${u} targets in `+(p-x)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:u,documentsRemoved:E}))))}}function J2(r,t){return new Z2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.changes=new kr((t=>t.toString()),((t,s)=>t.isEqual(s))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,s){this.assertNotApplied(),this.changes.set(t,hn.newInvalidDocument(t).setReadTime(s))}getEntry(t,s){this.assertNotApplied();const i=this.changes.get(s);return i!==void 0?le.resolve(i):this.getFromCache(t,s)}getEntries(t,s){return this.getAllFromCache(t,s)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,s){this.overlayedDocument=t,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,s,i,c){this.remoteDocumentCache=t,this.mutationQueue=s,this.documentOverlayCache=i,this.indexManager=c}getDocument(t,s){let i=null;return this.documentOverlayCache.getOverlay(t,s).next((c=>(i=c,this.remoteDocumentCache.getEntry(t,s)))).next((c=>(i!==null&&lo(i.mutation,c,On.empty(),pt.now()),c)))}getDocuments(t,s){return this.remoteDocumentCache.getEntries(t,s).next((i=>this.getLocalViewOfDocuments(t,i,Je()).next((()=>i))))}getLocalViewOfDocuments(t,s,i=Je()){const c=Rr();return this.populateOverlays(t,c,s).next((()=>this.computeViews(t,s,c,i).next((u=>{let m=eo();return u.forEach(((x,p)=>{m=m.insert(x,p.overlayedDocument)})),m}))))}getOverlayedDocuments(t,s){const i=Rr();return this.populateOverlays(t,i,s).next((()=>this.computeViews(t,s,i,Je())))}populateOverlays(t,s,i){const c=[];return i.forEach((u=>{s.has(u)||c.push(u)})),this.documentOverlayCache.getOverlays(t,c).next((u=>{u.forEach(((m,x)=>{s.set(m,x)}))}))}computeViews(t,s,i,c){let u=ia();const m=io(),x=(function(){return io()})();return s.forEach(((p,g)=>{const v=i.get(g.key);c.has(g.key)&&(v===void 0||v.mutation instanceof Wa)?u=u.insert(g.key,g):v!==void 0?(m.set(g.key,v.mutation.getFieldMask()),lo(v.mutation,g,v.mutation.getFieldMask(),pt.now())):m.set(g.key,On.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>m.set(g,v))),s.forEach(((g,v)=>x.set(g,new ew(v,m.get(g)??null)))),x)))}recalculateAndSaveOverlays(t,s){const i=io();let c=new Nt(((m,x)=>m-x)),u=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,s).next((m=>{for(const x of m)x.keys().forEach((p=>{const g=s.get(p);if(g===null)return;let v=i.get(p)||On.empty();v=x.applyToLocalView(g,v),i.set(p,v);const E=(c.get(x.batchId)||Je()).add(p);c=c.insert(x.batchId,E)}))})).next((()=>{const m=[],x=c.getReverseIterator();for(;x.hasNext();){const p=x.getNext(),g=p.key,v=p.value,E=wb();v.forEach((T=>{if(!u.has(T)){const U=Rb(s.get(T),i.get(T));U!==null&&E.set(T,U),u=u.add(T)}})),m.push(this.documentOverlayCache.saveOverlays(t,g,E))}return le.waitFor(m)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,s){return this.remoteDocumentCache.getEntries(t,s).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,s,i,c){return n2(s)?this.getDocumentsMatchingDocumentQuery(t,s.path):bb(s)?this.getDocumentsMatchingCollectionGroupQuery(t,s,i,c):this.getDocumentsMatchingCollectionQuery(t,s,i,c)}getNextDocuments(t,s,i,c){return this.remoteDocumentCache.getAllFromCollectionGroup(t,s,i,c).next((u=>{const m=c-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,s,i.largestBatchId,c-u.size):le.resolve(Rr());let x=uo,p=u;return m.next((g=>le.forEach(g,((v,E)=>(x<E.largestBatchId&&(x=E.largestBatchId),u.get(v)?le.resolve():this.remoteDocumentCache.getEntry(t,v).next((T=>{p=p.insert(v,T)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Je()))).next((v=>({batchId:x,changes:Nb(v)})))))}))}getDocumentsMatchingDocumentQuery(t,s){return this.getDocument(t,new Ce(s)).next((i=>{let c=eo();return i.isFoundDocument()&&(c=c.insert(i.key,i)),c}))}getDocumentsMatchingCollectionGroupQuery(t,s,i,c){const u=s.collectionGroup;let m=eo();return this.indexManager.getCollectionParents(t,u).next((x=>le.forEach(x,(p=>{const g=(function(E,T){return new Yi(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(s,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,i,c).next((v=>{v.forEach(((E,T)=>{m=m.insert(E,T)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(t,s,i,c){let u;return this.documentOverlayCache.getOverlaysForCollection(t,s.path,i.largestBatchId).next((m=>(u=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,s,i,u,c)))).next((m=>{u.forEach(((p,g)=>{const v=g.getKey();m.get(v)===null&&(m=m.insert(v,hn.newInvalidDocument(v)))}));let x=eo();return m.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&lo(v.mutation,g,On.empty(),pt.now()),ku(s,g)&&(x=x.insert(p,g))})),x}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,s){return le.resolve(this.Nr.get(s))}saveBundleMetadata(t,s){return this.Nr.set(s.id,(function(c){return{id:c.id,version:c.version,createTime:Is(c.createTime)}})(s)),le.resolve()}getNamedQuery(t,s){return le.resolve(this.Br.get(s))}saveNamedQuery(t,s){return this.Br.set(s.name,(function(c){return{name:c.name,query:F2(c.bundledQuery),readTime:Is(c.readTime)}})(s)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.overlays=new Nt(Ce.comparator),this.Lr=new Map}getOverlay(t,s){return le.resolve(this.overlays.get(s))}getOverlays(t,s){const i=Rr();return le.forEach(s,(c=>this.getOverlay(t,c).next((u=>{u!==null&&i.set(c,u)})))).next((()=>i))}saveOverlays(t,s,i){return i.forEach(((c,u)=>{this.bt(t,s,u)})),le.resolve()}removeOverlaysForBatchId(t,s,i){const c=this.Lr.get(i);return c!==void 0&&(c.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(i)),le.resolve()}getOverlaysForCollection(t,s,i){const c=Rr(),u=s.length+1,m=new Ce(s.child("")),x=this.overlays.getIteratorFrom(m);for(;x.hasNext();){const p=x.getNext().value,g=p.getKey();if(!s.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>i&&c.set(p.getKey(),p)}return le.resolve(c)}getOverlaysForCollectionGroup(t,s,i,c){let u=new Nt(((g,v)=>g-v));const m=this.overlays.getIterator();for(;m.hasNext();){const g=m.getNext().value;if(g.getKey().getCollectionGroup()===s&&g.largestBatchId>i){let v=u.get(g.largestBatchId);v===null&&(v=Rr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const x=Rr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>x.set(g,v))),!(x.size()>=c)););return le.resolve(x)}bt(t,s,i){const c=this.overlays.get(i.key);if(c!==null){const m=this.Lr.get(c.largestBatchId).delete(i.key);this.Lr.set(c.largestBatchId,m)}this.overlays=this.overlays.insert(i.key,new _2(s,i));let u=this.Lr.get(s);u===void 0&&(u=Je(),this.Lr.set(s,u)),this.Lr.set(s,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return le.resolve(this.sessionToken)}setSessionToken(t,s){return this.sessionToken=s,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this.kr=new Yt(Zt.Kr),this.qr=new Yt(Zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,s){const i=new Zt(t,s);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,s){t.forEach((i=>this.addReference(i,s)))}removeReference(t,s){this.Wr(new Zt(t,s))}Qr(t,s){t.forEach((i=>this.removeReference(i,s)))}Gr(t){const s=new Ce(new yt([])),i=new Zt(s,t),c=new Zt(s,t+1),u=[];return this.qr.forEachInRange([i,c],(m=>{this.Wr(m),u.push(m.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const s=new Ce(new yt([])),i=new Zt(s,t),c=new Zt(s,t+1);let u=Je();return this.qr.forEachInRange([i,c],(m=>{u=u.add(m.key)})),u}containsKey(t){const s=new Zt(t,0),i=this.kr.firstAfterOrEqual(s);return i!==null&&t.isEqual(i.key)}}class Zt{constructor(t,s){this.key=t,this.Hr=s}static Kr(t,s){return Ce.comparator(t.key,s.key)||Ze(t.Hr,s.Hr)}static Ur(t,s){return Ze(t.Hr,s.Hr)||Ce.comparator(t.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,s){this.indexManager=t,this.referenceDelegate=s,this.mutationQueue=[],this.Yn=1,this.Jr=new Yt(Zt.Kr)}checkEmpty(t){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(t,s,i,c){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new v2(u,s,i,c);this.mutationQueue.push(m);for(const x of c)this.Jr=this.Jr.add(new Zt(x.key,u)),this.indexManager.addToCollectionParentIndex(t,x.key.path.popLast());return le.resolve(m)}lookupMutationBatch(t,s){return le.resolve(this.Zr(s))}getNextMutationBatchAfterBatchId(t,s){const i=s+1,c=this.Xr(i),u=c<0?0:c;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?qd:this.Yn-1)}getAllMutationBatches(t){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,s){const i=new Zt(s,0),c=new Zt(s,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([i,c],(m=>{const x=this.Zr(m.Hr);u.push(x)})),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,s){let i=new Yt(Ze);return s.forEach((c=>{const u=new Zt(c,0),m=new Zt(c,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,m],(x=>{i=i.add(x.Hr)}))})),le.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,s){const i=s.path,c=i.length+1;let u=i;Ce.isDocumentKey(u)||(u=u.child(""));const m=new Zt(new Ce(u),0);let x=new Yt(Ze);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===c&&(x=x.add(p.Hr)),!0)}),m),le.resolve(this.Yr(x))}Yr(t){const s=[];return t.forEach((i=>{const c=this.Zr(i);c!==null&&s.push(c)})),s}removeMutationBatch(t,s){lt(this.ei(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return le.forEach(s.mutations,(c=>{const u=new Zt(c.key,s.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,c.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,s){const i=new Zt(s,0),c=this.Jr.firstAfterOrEqual(i);return le.resolve(s.isEqual(c&&c.key))}performConsistencyCheck(t){return this.mutationQueue.length,le.resolve()}ei(t,s){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const s=this.Xr(t);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t){this.ti=t,this.docs=(function(){return new Nt(Ce.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,s){const i=s.key,c=this.docs.get(i),u=c?c.size:0,m=this.ti(s);return this.docs=this.docs.insert(i,{document:s.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const s=this.docs.get(t);s&&(this.docs=this.docs.remove(t),this.size-=s.size)}getEntry(t,s){const i=this.docs.get(s);return le.resolve(i?i.document.mutableCopy():hn.newInvalidDocument(s))}getEntries(t,s){let i=ia();return s.forEach((c=>{const u=this.docs.get(c);i=i.insert(c,u?u.document.mutableCopy():hn.newInvalidDocument(c))})),le.resolve(i)}getDocumentsMatchingQuery(t,s,i,c){let u=ia();const m=s.path,x=new Ce(m.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(x);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!m.isPrefixOf(g.path))break;g.path.length>m.length+1||MN(DN(v),i)<=0||(c.has(v.key)||ku(s,v))&&(u=u.insert(v.key,v.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(t,s,i,c){Oe(9500)}ni(t,s){return le.forEach(this.docs,(i=>s(i)))}newChangeBuffer(t){return new lw(this)}getSize(t){return le.resolve(this.size)}}class lw extends W2{constructor(t){super(),this.Mr=t}applyChanges(t){const s=[];return this.changes.forEach(((i,c)=>{c.isValidDocument()?s.push(this.Mr.addEntry(t,c)):this.Mr.removeEntry(i)})),le.waitFor(s)}getFromCache(t,s){return this.Mr.getEntry(t,s)}getAllFromCache(t,s){return this.Mr.getEntries(t,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t){this.persistence=t,this.ri=new kr((s=>Fd(s)),$d),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.ii=0,this.si=new Jd,this.targetCount=0,this.oi=Pi._r()}forEachTarget(t,s){return this.ri.forEach(((i,c)=>s(c))),le.resolve()}getLastRemoteSnapshotVersion(t){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return le.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(t,s,i){return i&&(this.lastRemoteSnapshotVersion=i),s>this.ii&&(this.ii=s),le.resolve()}lr(t){this.ri.set(t.target,t);const s=t.targetId;s>this.highestTargetId&&(this.oi=new Pi(s),this.highestTargetId=s),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,s){return this.lr(s),this.targetCount+=1,le.resolve()}updateTargetData(t,s){return this.lr(s),le.resolve()}removeTargetData(t,s){return this.ri.delete(s.target),this.si.Gr(s.targetId),this.targetCount-=1,le.resolve()}removeTargets(t,s,i){let c=0;const u=[];return this.ri.forEach(((m,x)=>{x.sequenceNumber<=s&&i.get(x.targetId)===null&&(this.ri.delete(m),u.push(this.removeMatchingKeysForTargetId(t,x.targetId)),c++)})),le.waitFor(u).next((()=>c))}getTargetCount(t){return le.resolve(this.targetCount)}getTargetData(t,s){const i=this.ri.get(s)||null;return le.resolve(i)}addMatchingKeys(t,s,i){return this.si.$r(s,i),le.resolve()}removeMatchingKeys(t,s,i){this.si.Qr(s,i);const c=this.persistence.referenceDelegate,u=[];return c&&s.forEach((m=>{u.push(c.markPotentiallyOrphaned(t,m))})),le.waitFor(u)}removeMatchingKeysForTargetId(t,s){return this.si.Gr(s),le.resolve()}getMatchingKeysForTargetId(t,s){const i=this.si.jr(s);return le.resolve(i)}containsKey(t,s){return le.resolve(this.si.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(t,s){this._i={},this.overlays={},this.ai=new Mu(0),this.ui=!1,this.ui=!0,this.ci=new aw,this.referenceDelegate=t(this),this.li=new ow(this),this.indexManager=new $2,this.remoteDocumentCache=(function(c){return new iw(c)})((i=>this.referenceDelegate.hi(i))),this.serializer=new G2(s),this.Pi=new nw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let s=this.overlays[t.toKey()];return s||(s=new sw,this.overlays[t.toKey()]=s),s}getMutationQueue(t,s){let i=this._i[t.toKey()];return i||(i=new rw(s,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,s,i){ve("MemoryPersistence","Starting transaction:",t);const c=new cw(this.ai.next());return this.referenceDelegate.Ti(),i(c).next((u=>this.referenceDelegate.Ii(c).next((()=>u)))).toPromise().then((u=>(c.raiseOnCommittedEvent(),u)))}Ei(t,s){return le.or(Object.values(this._i).map((i=>()=>i.containsKey(t,s))))}}class cw extends ON{constructor(t){super(),this.currentSequenceNumber=t}}class Wd{constructor(t){this.persistence=t,this.Ri=new Jd,this.Ai=null}static Vi(t){return new Wd(t)}get di(){if(this.Ai)return this.Ai;throw Oe(60996)}addReference(t,s,i){return this.Ri.addReference(i,s),this.di.delete(i.toString()),le.resolve()}removeReference(t,s,i){return this.Ri.removeReference(i,s),this.di.add(i.toString()),le.resolve()}markPotentiallyOrphaned(t,s){return this.di.add(s.toString()),le.resolve()}removeTarget(t,s){this.Ri.Gr(s.targetId).forEach((c=>this.di.add(c.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,s.targetId).next((c=>{c.forEach((u=>this.di.add(u.toString())))})).next((()=>i.removeTargetData(t,s)))}Ti(){this.Ai=new Set}Ii(t){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(i=>{const c=Ce.fromPath(i);return this.mi(t,c).next((u=>{u||s.removeEntry(c,ze.min())}))})).next((()=>(this.Ai=null,s.apply(t))))}updateLimboDocument(t,s){return this.mi(t,s).next((i=>{i?this.di.delete(s.toString()):this.di.add(s.toString())}))}hi(t){return 0}mi(t,s){return le.or([()=>le.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(t,s),()=>this.persistence.Ei(t,s)])}}class Tu{constructor(t,s){this.persistence=t,this.fi=new kr((i=>zN(i.path)),((i,c)=>i.isEqual(c))),this.garbageCollector=J2(this,s)}static Vi(t,s){return new Tu(t,s)}Ti(){}Ii(t){return le.resolve()}forEachTarget(t,s){return this.persistence.getTargetCache().forEachTarget(t,s)}dr(t){const s=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>s.next((c=>i+c))))}pr(t){let s=0;return this.mr(t,(i=>{s++})).next((()=>s))}mr(t,s){return le.forEach(this.fi,((i,c)=>this.wr(t,i,c).next((u=>u?le.resolve():s(c)))))}removeTargets(t,s,i){return this.persistence.getTargetCache().removeTargets(t,s,i)}removeOrphanedDocuments(t,s){let i=0;const c=this.persistence.getRemoteDocumentCache(),u=c.newChangeBuffer();return c.ni(t,(m=>this.wr(t,m,s).next((x=>{x||(i++,u.removeEntry(m,ze.min()))})))).next((()=>u.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,s){return this.fi.set(s,t.currentSequenceNumber),le.resolve()}removeTarget(t,s){const i=s.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,s,i){return this.fi.set(i,t.currentSequenceNumber),le.resolve()}removeReference(t,s,i){return this.fi.set(i,t.currentSequenceNumber),le.resolve()}updateLimboDocument(t,s){return this.fi.set(s,t.currentSequenceNumber),le.resolve()}hi(t){let s=t.key.toString().length;return t.isFoundDocument()&&(s+=ou(t.data.value)),s}wr(t,s,i){return le.or([()=>this.persistence.Ei(t,s),()=>this.persistence.getTargetCache().containsKey(t,s),()=>{const c=this.fi.get(s);return le.resolve(c!==void 0&&c>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t,s,i,c){this.targetId=t,this.fromCache=s,this.Ts=i,this.Is=c}static Es(t,s){let i=Je(),c=Je();for(const u of s.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:c=c.add(u.doc.key)}return new em(t,s.fromCache,i,c)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return J1()?8:VN(X1())>0?6:4})()}initialize(t,s){this.fs=t,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(t,s,i,c){const u={result:null};return this.gs(t,s).next((m=>{u.result=m})).next((()=>{if(!u.result)return this.ps(t,s,c,i).next((m=>{u.result=m}))})).next((()=>{if(u.result)return;const m=new uw;return this.ys(t,s,m).next((x=>{if(u.result=x,this.As)return this.ws(t,s,m,x.size)}))})).next((()=>u.result))}ws(t,s,i,c){return i.documentReadCount<this.Vs?(Si()<=tt.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Ai(s),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Si()<=tt.DEBUG&&ve("QueryEngine","Query:",Ai(s),"scans",i.documentReadCount,"local documents and returns",c,"documents as results."),i.documentReadCount>this.ds*c?(Si()<=tt.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Ai(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ms(s))):le.resolve())}gs(t,s){if(Cx(s))return le.resolve(null);let i=Ms(s);return this.indexManager.getIndexType(t,i).next((c=>c===0?null:(s.limit!==null&&c===1&&(s=Td(s,null,"F"),i=Ms(s)),this.indexManager.getDocumentsMatchingTarget(t,i).next((u=>{const m=Je(...u);return this.fs.getDocuments(t,m).next((x=>this.indexManager.getMinOffset(t,i).next((p=>{const g=this.bs(s,x);return this.Ss(s,g,m,p.readTime)?this.gs(t,Td(s,null,"F")):this.Ds(t,g,s,p)}))))})))))}ps(t,s,i,c){return Cx(s)||c.isEqual(ze.min())?le.resolve(null):this.fs.getDocuments(t,i).next((u=>{const m=this.bs(s,u);return this.Ss(s,m,i,c)?le.resolve(null):(Si()<=tt.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Ai(s)),this.Ds(t,m,s,RN(c,uo)).next((x=>x)))}))}bs(t,s){let i=new Yt(_b(t));return s.forEach(((c,u)=>{ku(t,u)&&(i=i.add(u))})),i}Ss(t,s,i,c){if(t.limit===null)return!1;if(i.size!==s.size)return!0;const u=t.limitType==="F"?s.last():s.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(c)>0)}ys(t,s,i){return Si()<=tt.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Ai(s)),this.fs.getDocumentsMatchingQuery(t,s,Ga.min(),i)}Ds(t,s,i,c){return this.fs.getDocumentsMatchingQuery(t,i,c).next((u=>(s.forEach((m=>{u=u.insert(m.key,m)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="LocalStore",fw=3e8;class dw{constructor(t,s,i,c){this.persistence=t,this.Cs=s,this.serializer=c,this.vs=new Nt(Ze),this.Fs=new kr((u=>Fd(u)),$d),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>t.collect(s,this.vs)))}}function mw(r,t,s,i){return new dw(r,t,s,i)}async function Fb(r,t){const s=Le(r);return await s.persistence.runTransaction("Handle user change","readonly",(i=>{let c;return s.mutationQueue.getAllMutationBatches(i).next((u=>(c=u,s.Os(t),s.mutationQueue.getAllMutationBatches(i)))).next((u=>{const m=[],x=[];let p=Je();for(const g of c){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){x.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return s.localDocuments.getDocuments(i,p).next((g=>({Ns:g,removedBatchIds:m,addedBatchIds:x})))}))}))}function gw(r,t){const s=Le(r);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const c=t.batch.keys(),u=s.xs.newChangeBuffer({trackRemovals:!0});return(function(x,p,g,v){const E=g.batch,T=E.keys();let U=le.resolve();return T.forEach((P=>{U=U.next((()=>v.getEntry(p,P))).next((Z=>{const B=g.docVersions.get(P);lt(B!==null,48541),Z.version.compareTo(B)<0&&(E.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),v.addEntry(Z)))}))})),U.next((()=>x.mutationQueue.removeMutationBatch(p,E)))})(s,i,t,u).next((()=>u.apply(i))).next((()=>s.mutationQueue.performConsistencyCheck(i))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(i,c,t.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(x){let p=Je();for(let g=0;g<x.mutationResults.length;++g)x.mutationResults[g].transformResults.length>0&&(p=p.add(x.batch.mutations[g].key));return p})(t)))).next((()=>s.localDocuments.getDocuments(i,c)))}))}function $b(r){const t=Le(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>t.li.getLastRemoteSnapshotVersion(s)))}function pw(r,t){const s=Le(r),i=t.snapshotVersion;let c=s.vs;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const m=s.xs.newChangeBuffer({trackRemovals:!0});c=s.vs;const x=[];t.targetChanges.forEach(((v,E)=>{const T=c.get(E);if(!T)return;x.push(s.li.removeMatchingKeys(u,v.removedDocuments,E).next((()=>s.li.addMatchingKeys(u,v.addedDocuments,E))));let U=T.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?U=U.withResumeToken(ln.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):v.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(v.resumeToken,i)),c=c.insert(E,U),(function(Z,B,me){return Z.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=fw?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(T,U,v)&&x.push(s.li.updateTargetData(u,U))}));let p=ia(),g=Je();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&x.push(s.persistence.referenceDelegate.updateLimboDocument(u,v))})),x.push(yw(u,m,t.documentUpdates).next((v=>{p=v.Bs,g=v.Ls}))),!i.isEqual(ze.min())){const v=s.li.getLastRemoteSnapshotVersion(u).next((E=>s.li.setTargetsMetadata(u,u.currentSequenceNumber,i)));x.push(v)}return le.waitFor(x).next((()=>m.apply(u))).next((()=>s.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(s.vs=c,u)))}function yw(r,t,s){let i=Je(),c=Je();return s.forEach((u=>i=i.add(u))),t.getEntries(r,i).next((u=>{let m=ia();return s.forEach(((x,p)=>{const g=u.get(x);p.isFoundDocument()!==g.isFoundDocument()&&(c=c.add(x)),p.isNoDocument()&&p.version.isEqual(ze.min())?(t.removeEntry(x,p.readTime),m=m.insert(x,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),m=m.insert(x,p)):ve(tm,"Ignoring outdated watch update for ",x,". Current version:",g.version," Watch version:",p.version)})),{Bs:m,Ls:c}}))}function xw(r,t){const s=Le(r);return s.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=qd),s.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function bw(r,t){const s=Le(r);return s.persistence.runTransaction("Allocate target","readwrite",(i=>{let c;return s.li.getTargetData(i,t).next((u=>u?(c=u,le.resolve(c)):s.li.allocateTargetId(i).next((m=>(c=new La(t,m,"TargetPurposeListen",i.currentSequenceNumber),s.li.addTargetData(i,c).next((()=>c)))))))})).then((i=>{const c=s.vs.get(i.targetId);return(c===null||i.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(s.vs=s.vs.insert(i.targetId,i),s.Fs.set(t,i.targetId)),i}))}async function Rd(r,t,s){const i=Le(r),c=i.vs.get(t),u=s?"readwrite":"readwrite-primary";try{s||await i.persistence.runTransaction("Release target",u,(m=>i.persistence.referenceDelegate.removeTarget(m,c)))}catch(m){if(!$i(m))throw m;ve(tm,`Failed to update sequence numbers for target ${t}: ${m}`)}i.vs=i.vs.remove(t),i.Fs.delete(c.target)}function qx(r,t,s){const i=Le(r);let c=ze.min(),u=Je();return i.persistence.runTransaction("Execute query","readwrite",(m=>(function(p,g,v){const E=Le(p),T=E.Fs.get(v);return T!==void 0?le.resolve(E.vs.get(T)):E.li.getTargetData(g,v)})(i,m,Ms(t)).next((x=>{if(x)return c=x.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(m,x.targetId).next((p=>{u=p}))})).next((()=>i.Cs.getDocumentsMatchingQuery(m,t,s?c:ze.min(),s?u:Je()))).next((x=>(vw(i,r2(t),x),{documents:x,ks:u})))))}function vw(r,t,s){let i=r.Ms.get(t)||ze.min();s.forEach(((c,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),r.Ms.set(t,i)}class Hx{constructor(){this.activeTargetIds=h2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _w{constructor(){this.vo=new Hx,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,s,i){}addLocalQueryTarget(t,s=!0){return s&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,s,i){this.Fo[t]=s}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Hx,Promise.resolve()}handleUserChange(t,s,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="ConnectivityMonitor";class Fx{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ve(Gx,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ve(Gx,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu=null;function Dd(){return iu===null?iu=(function(){return 268435456+Math.round(2147483648*Math.random())})():iu++,"0x"+iu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="RestConnection",Nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ww{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.qo=s+"://"+t.host,this.Uo=`projects/${i}/databases/${c}`,this.$o=this.databaseId.database===bu?`project_id=${i}`:`project_id=${i}&database_id=${c}`}Wo(t,s,i,c,u){const m=Dd(),x=this.Qo(t,s.toUriEncodedString());ve(ld,`Sending RPC '${t}' ${m}:`,x,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,c,u);const{host:g}=new URL(x),v=Ud(g);return this.zo(t,x,p,i,v).then((E=>(ve(ld,`Received RPC '${t}' ${m}: `,E),E)),(E=>{throw Or(ld,`RPC '${t}' ${m} failed with error: `,E,"url: ",x,"request:",i),E}))}jo(t,s,i,c,u,m){return this.Wo(t,s,i,c,u)}Go(t,s,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gi})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((c,u)=>t[u]=c)),i&&i.headers.forEach(((c,u)=>t[u]=c))}Qo(t,s){const i=Nw[t];let c=`${this.qo}/v1/${s}:${i}`;return this.databaseInfo.apiKey&&(c=`${c}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),c}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection",Jl=(r,t,s)=>{r.listen(t,(i=>{try{s(i)}catch(c){setTimeout((()=>{throw c}),0)}}))};class Ii extends ww{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ii.c_){const t=Z0();Jl(t,X0.STAT_EVENT,(s=>{s.stat===xd.PROXY?ve(cn,"STAT_EVENT: detected buffering proxy"):s.stat===xd.NOPROXY&&ve(cn,"STAT_EVENT: detected no buffering proxy")})),Ii.c_=!0}}zo(t,s,i,c,u){const m=Dd();return new Promise(((x,p)=>{const g=new Q0;g.setWithCredentials(!0),g.listenOnce(K0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case lu.NO_ERROR:const E=g.getResponseJson();ve(cn,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(E)),x(E);break;case lu.TIMEOUT:ve(cn,`RPC '${t}' ${m} timed out`),p(new pe(re.DEADLINE_EXCEEDED,"Request time out"));break;case lu.HTTP_ERROR:const T=g.getStatus();if(ve(cn,`RPC '${t}' ${m} failed with status:`,T,"response text:",g.getResponseText()),T>0){let U=g.getResponseJson();Array.isArray(U)&&(U=U[0]);const P=U==null?void 0:U.error;if(P&&P.status&&P.message){const Z=(function(me){const de=me.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(de)>=0?de:re.UNKNOWN})(P.status);p(new pe(Z,P.message))}else p(new pe(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pe(re.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:t,streamId:m,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ve(cn,`RPC '${t}' ${m} completed.`)}}));const v=JSON.stringify(c);ve(cn,`RPC '${t}' ${m} sending request:`,c),g.send(s,"POST",v,i,15)}))}T_(t,s,i){const c=Dd(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=this.createWebChannelTransport(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(x.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(x.useFetchStreams=!0),this.Go(x.initMessageHeaders,s,i),x.encodeInitMessageHeaders=!0;const g=u.join("");ve(cn,`Creating RPC '${t}' stream ${c}: ${g}`,x);const v=m.createWebChannel(g,x);this.I_(v);let E=!1,T=!1;const U=new Tw({Ho:P=>{T?ve(cn,`Not sending because RPC '${t}' stream ${c} is closed:`,P):(E||(ve(cn,`Opening RPC '${t}' stream ${c} transport.`),v.open(),E=!0),ve(cn,`RPC '${t}' stream ${c} sending:`,P),v.send(P))},Jo:()=>v.close()});return Jl(v,Wl.EventType.OPEN,(()=>{T||(ve(cn,`RPC '${t}' stream ${c} transport opened.`),U.i_())})),Jl(v,Wl.EventType.CLOSE,(()=>{T||(T=!0,ve(cn,`RPC '${t}' stream ${c} transport closed`),U.o_(),this.E_(v))})),Jl(v,Wl.EventType.ERROR,(P=>{T||(T=!0,Or(cn,`RPC '${t}' stream ${c} transport errored. Name:`,P.name,"Message:",P.message),U.o_(new pe(re.UNAVAILABLE,"The operation could not be completed")))})),Jl(v,Wl.EventType.MESSAGE,(P=>{var Z;if(!T){const B=P.data[0];lt(!!B,16349);const me=B,de=(me==null?void 0:me.error)||((Z=me[0])==null?void 0:Z.error);if(de){ve(cn,`RPC '${t}' stream ${c} received error:`,de);const te=de.status;let ce=(function(M){const A=qt[M];if(A!==void 0)return Mb(A)})(te),Se=de.message;te==="NOT_FOUND"&&Se.includes("database")&&Se.includes("does not exist")&&Se.includes(this.databaseId.database)&&Or(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ce===void 0&&(ce=re.INTERNAL,Se="Unknown error status: "+te+" with message "+de.message),T=!0,U.o_(new pe(ce,Se)),v.close()}else ve(cn,`RPC '${t}' stream ${c} received:`,B),U.__(B)}})),Ii.u_(),setTimeout((()=>{U.s_()}),0),U}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((s=>s===t))}Go(t,s,i){super.Go(t,s,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return J0()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(r){return new Ii(r)}function od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(r){return new R2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii.c_=!1;class Yb{constructor(t,s,i=1e3,c=1.5,u=6e4){this.Ci=t,this.timerId=s,this.R_=i,this.A_=c,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const s=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),c=Math.max(0,s-i);c>0&&ve("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.d_} ms, delay with jitter: ${s} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,c,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="PersistentStream";class Qb{constructor(t,s,i,c,u,m,x,p){this.Ci=t,this.b_=i,this.S_=c,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=x,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Yb(t,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,s){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():s&&s.code===re.RESOURCE_EXHAUSTED?(ra(s.toString()),ra("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(s)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,c])=>{this.D_===s&&this.G_(i,c)}),(i=>{t((()=>{const c=new pe(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(c)}))}))}G_(t,s){const i=this.Q_(this.D_);this.stream=this.j_(t,s),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((c=>{i((()=>this.z_(c)))})),this.stream.onMessage((c=>{i((()=>++this.F_==1?this.H_(c):this.onNext(c)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ve($x,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return s=>{this.Ci.enqueueAndForget((()=>this.D_===t?s():(ve($x,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Sw extends Qb{constructor(t,s,i,c,u,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,i,c,m),this.serializer=u}j_(t,s){return this.connection.T_("Listen",t,s)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const s=I2(this.serializer,t),i=(function(u){if(!("targetChange"in u))return ze.min();const m=u.targetChange;return m.targetIds&&m.targetIds.length?ze.min():m.readTime?Is(m.readTime):ze.min()})(t);return this.listener.J_(s,i)}Z_(t){const s={};s.database=Cd(this.serializer),s.addTarget=(function(u,m){let x;const p=m.target;if(x=Nd(p)?{documents:k2(u,p)}:{query:z2(u,p).ft},x.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){x.resumeToken=Vb(u,m.resumeToken);const g=jd(u,m.expectedCount);g!==null&&(x.expectedCount=g)}else if(m.snapshotVersion.compareTo(ze.min())>0){x.readTime=wu(u,m.snapshotVersion.toTimestamp());const g=jd(u,m.expectedCount);g!==null&&(x.expectedCount=g)}return x})(this.serializer,t);const i=L2(this.serializer,t);i&&(s.labels=i),this.K_(s)}X_(t){const s={};s.database=Cd(this.serializer),s.removeTarget=t,this.K_(s)}}class Aw extends Qb{constructor(t,s,i,c,u,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,i,c,m),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,s){return this.connection.T_("Write",t,s)}H_(t){return lt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,lt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){lt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const s=V2(t.writeResults,t.commitTime),i=Is(t.commitTime);return this.listener.na(i,s)}ra(){const t={};t.database=Cd(this.serializer),this.K_(t)}ea(t){const s={streamToken:this.lastStreamToken,writes:t.map((i=>O2(this.serializer,i)))};this.K_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{}class Rw extends Cw{constructor(t,s,i,c){super(),this.authCredentials=t,this.appCheckCredentials=s,this.connection=i,this.serializer=c,this.ia=!1}sa(){if(this.ia)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,s,i,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Wo(t,Sd(s,i),c,u,m))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(re.UNKNOWN,u.toString())}))}jo(t,s,i,c,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,x])=>this.connection.jo(t,Sd(s,i),c,m,x,u))).catch((m=>{throw m.name==="FirebaseError"?(m.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new pe(re.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Dw(r,t,s,i){return new Rw(r,t,s,i)}class Mw{constructor(t,s){this.asyncQueue=t,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const s=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ra(s),this.aa=!1):ve("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="RemoteStore";class Iw{constructor(t,s,i,c,u){this.localStore=t,this.datastore=s,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((m=>{i.enqueueAndForget((async()=>{zr(this)&&(ve(Vr,"Restarting streams for network reachability change."),await(async function(p){const g=Le(p);g.Ea.add(4),await No(g),g.Va.set("Unknown"),g.Ea.delete(4),await qu(g)})(this))}))})),this.Va=new Mw(i,c)}}async function qu(r){if(zr(r))for(const t of r.Ra)await t(!0)}async function No(r){for(const t of r.Ra)await t(!1)}function Kb(r,t){const s=Le(r);s.Ia.has(t.targetId)||(s.Ia.set(t.targetId,t),rm(s)?am(s):Qi(s).O_()&&sm(s,t))}function nm(r,t){const s=Le(r),i=Qi(s);s.Ia.delete(t),i.O_()&&Xb(s,t),s.Ia.size===0&&(i.O_()?i.L_():zr(s)&&s.Va.set("Unknown"))}function sm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ze.min())>0){const s=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(s)}Qi(r).Z_(t)}function Xb(r,t){r.da.$e(t),Qi(r).X_(t)}function am(r){r.da=new j2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Qi(r).start(),r.Va.ua()}function rm(r){return zr(r)&&!Qi(r).x_()&&r.Ia.size>0}function zr(r){return Le(r).Ea.size===0}function Zb(r){r.da=void 0}async function Ow(r){r.Va.set("Online")}async function Vw(r){r.Ia.forEach(((t,s)=>{sm(r,t)}))}async function kw(r,t){Zb(r),rm(r)?(r.Va.ha(t),am(r)):r.Va.set("Unknown")}async function zw(r,t,s){if(r.Va.set("Online"),t instanceof Ob&&t.state===2&&t.cause)try{await(async function(c,u){const m=u.cause;for(const x of u.targetIds)c.Ia.has(x)&&(await c.remoteSyncer.rejectListen(x,m),c.Ia.delete(x),c.da.removeTarget(x))})(r,t)}catch(i){ve(Vr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await ju(r,i)}else if(t instanceof hu?r.da.Xe(t):t instanceof Ib?r.da.st(t):r.da.tt(t),!s.isEqual(ze.min()))try{const i=await $b(r.localStore);s.compareTo(i)>=0&&await(function(u,m){const x=u.da.Tt(m);return x.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,m))}})),x.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(ln.EMPTY_BYTE_STRING,v.snapshotVersion)),Xb(u,p);const E=new La(v.target,p,g,v.sequenceNumber);sm(u,E)})),u.remoteSyncer.applyRemoteEvent(x)})(r,s)}catch(i){ve(Vr,"Failed to raise snapshot:",i),await ju(r,i)}}async function ju(r,t,s){if(!$i(t))throw t;r.Ea.add(1),await No(r),r.Va.set("Offline"),s||(s=()=>$b(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ve(Vr,"Retrying IndexedDB access"),await s(),r.Ea.delete(1),await qu(r)}))}function Jb(r,t){return t().catch((s=>ju(r,s,t)))}async function Hu(r){const t=Le(r),s=Qa(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:qd;for(;Uw(t);)try{const c=await xw(t.localStore,i);if(c===null){t.Ta.length===0&&s.L_();break}i=c.batchId,Lw(t,c)}catch(c){await ju(t,c)}Wb(t)&&ev(t)}function Uw(r){return zr(r)&&r.Ta.length<10}function Lw(r,t){r.Ta.push(t);const s=Qa(r);s.O_()&&s.Y_&&s.ea(t.mutations)}function Wb(r){return zr(r)&&!Qa(r).x_()&&r.Ta.length>0}function ev(r){Qa(r).start()}async function Pw(r){Qa(r).ra()}async function Bw(r){const t=Qa(r);for(const s of r.Ta)t.ea(s.mutations)}async function qw(r,t,s){const i=r.Ta.shift(),c=Kd.from(i,t,s);await Jb(r,(()=>r.remoteSyncer.applySuccessfulWrite(c))),await Hu(r)}async function Hw(r,t){t&&Qa(r).Y_&&await(async function(i,c){if((function(m){return N2(m)&&m!==re.ABORTED})(c.code)){const u=i.Ta.shift();Qa(i).B_(),await Jb(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,c))),await Hu(i)}})(r,t),Wb(r)&&ev(r)}async function Yx(r,t){const s=Le(r);s.asyncQueue.verifyOperationInProgress(),ve(Vr,"RemoteStore received new credentials");const i=zr(s);s.Ea.add(3),await No(s),i&&s.Va.set("Unknown"),await s.remoteSyncer.handleCredentialChange(t),s.Ea.delete(3),await qu(s)}async function Gw(r,t){const s=Le(r);t?(s.Ea.delete(2),await qu(s)):t||(s.Ea.add(2),await No(s),s.Va.set("Unknown"))}function Qi(r){return r.ma||(r.ma=(function(s,i,c){const u=Le(s);return u.sa(),new Sw(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,c)})(r.datastore,r.asyncQueue,{Zo:Ow.bind(null,r),Yo:Vw.bind(null,r),t_:kw.bind(null,r),J_:zw.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),rm(r)?am(r):r.Va.set("Unknown")):(await r.ma.stop(),Zb(r))}))),r.ma}function Qa(r){return r.fa||(r.fa=(function(s,i,c){const u=Le(s);return u.sa(),new Aw(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,c)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Pw.bind(null,r),t_:Hw.bind(null,r),ta:Bw.bind(null,r),na:qw.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Hu(r)):(await r.fa.stop(),r.Ta.length>0&&(ve(Vr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(t,s,i,c,u){this.asyncQueue=t,this.timerId=s,this.targetTimeMs=i,this.op=c,this.removalCallback=u,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,s,i,c,u){const m=Date.now()+i,x=new im(t,s,m,c,u);return x.start(i),x}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(re.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lm(r,t){if(ra("AsyncQueue",`${t}: ${r}`),$i(r))return new pe(re.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{static emptySet(t){return new Oi(t.comparator)}constructor(t){this.comparator=t?(s,i)=>t(s,i)||Ce.comparator(s.key,i.key):(s,i)=>Ce.comparator(s.key,i.key),this.keyedMap=eo(),this.sortedSet=new Nt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const s=this.keyedMap.get(t);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((s,i)=>(t(s),!1)))}add(t){const s=this.delete(t.key);return s.copy(s.keyedMap.insert(t.key,t),s.sortedSet.insert(t,null))}delete(t){const s=this.get(t);return s?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(s)):this}isEqual(t){if(!(t instanceof Oi)||this.size!==t.size)return!1;const s=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;s.hasNext();){const c=s.getNext().key,u=i.getNext().key;if(!c.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((s=>{t.push(s.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,s){const i=new Oi;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=s,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.ga=new Nt(Ce.comparator)}track(t){const s=t.doc.key,i=this.ga.get(s);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(s,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(s,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(s,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(s,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(s):t.type===1&&i.type===2?this.ga=this.ga.insert(s,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(s,{type:2,doc:t.doc}):Oe(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(s,t)}ya(){const t=[];return this.ga.inorderTraversal(((s,i)=>{t.push(i)})),t}}class Bi{constructor(t,s,i,c,u,m,x,p,g){this.query=t,this.docs=s,this.oldDocs=i,this.docChanges=c,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=x,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,s,i,c,u){const m=[];return s.forEach((x=>{m.push({type:0,doc:x})})),new Bi(t,s,Oi.emptySet(s),m,i,c,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const s=this.docChanges,i=t.docChanges;if(s.length!==i.length)return!1;for(let c=0;c<s.length;c++)if(s[c].type!==i[c].type||!s[c].doc.isEqual(i[c].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class $w{constructor(){this.queries=Kx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,i){const c=Le(s),u=c.queries;c.queries=Kx(),u.forEach(((m,x)=>{for(const p of x.ba)p.onError(i)}))})(this,new pe(re.ABORTED,"Firestore shutting down"))}}function Kx(){return new kr((r=>vb(r)),Vu)}async function tv(r,t){const s=Le(r);let i=3;const c=t.query;let u=s.queries.get(c);u?!u.Sa()&&t.Da()&&(i=2):(u=new Fw,i=t.Da()?0:1);try{switch(i){case 0:u.wa=await s.onListen(c,!0);break;case 1:u.wa=await s.onListen(c,!1);break;case 2:await s.onFirstRemoteStoreListen(c)}}catch(m){const x=lm(m,`Initialization of query '${Ai(t.query)}' failed`);return void t.onError(x)}s.queries.set(c,u),u.ba.push(t),t.va(s.onlineState),u.wa&&t.Fa(u.wa)&&om(s)}async function nv(r,t){const s=Le(r),i=t.query;let c=3;const u=s.queries.get(i);if(u){const m=u.ba.indexOf(t);m>=0&&(u.ba.splice(m,1),u.ba.length===0?c=t.Da()?0:1:!u.Sa()&&t.Da()&&(c=2))}switch(c){case 0:return s.queries.delete(i),s.onUnlisten(i,!0);case 1:return s.queries.delete(i),s.onUnlisten(i,!1);case 2:return s.onLastRemoteStoreUnlisten(i);default:return}}function Yw(r,t){const s=Le(r);let i=!1;for(const c of t){const u=c.query,m=s.queries.get(u);if(m){for(const x of m.ba)x.Fa(c)&&(i=!0);m.wa=c}}i&&om(s)}function Qw(r,t,s){const i=Le(r),c=i.queries.get(t);if(c)for(const u of c.ba)u.onError(s);i.queries.delete(t)}function om(r){r.Ca.forEach((t=>{t.next()}))}var Md,Xx;(Xx=Md||(Md={})).Ma="default",Xx.Cache="cache";class sv{constructor(t,s,i){this.query=t,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const c of t.docChanges)c.type!==3&&i.push(c);t=new Bi(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let s=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),s=!0):this.La(t,this.onlineState)&&(this.ka(t),s=!0),this.Na=t,s}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),s=!0),s}La(t,s){if(!t.fromCache||!this.Da())return!0;const i=s!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||s==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(t){t=Bi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(t){this.key=t}}class rv{constructor(t){this.key=t}}class Kw{constructor(t,s){this.query=t,this.Za=s,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Je(),this.mutatedKeys=Je(),this.eu=_b(t),this.tu=new Oi(this.eu)}get nu(){return this.Za}ru(t,s){const i=s?s.iu:new Qx,c=s?s.tu:this.tu;let u=s?s.mutatedKeys:this.mutatedKeys,m=c,x=!1;const p=this.query.limitType==="F"&&c.size===this.query.limit?c.last():null,g=this.query.limitType==="L"&&c.size===this.query.limit?c.first():null;if(t.inorderTraversal(((v,E)=>{const T=c.get(v),U=ku(this.query,E)?E:null,P=!!T&&this.mutatedKeys.has(T.key),Z=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let B=!1;T&&U?T.data.isEqual(U.data)?P!==Z&&(i.track({type:3,doc:U}),B=!0):this.su(T,U)||(i.track({type:2,doc:U}),B=!0,(p&&this.eu(U,p)>0||g&&this.eu(U,g)<0)&&(x=!0)):!T&&U?(i.track({type:0,doc:U}),B=!0):T&&!U&&(i.track({type:1,doc:T}),B=!0,(p||g)&&(x=!0)),B&&(U?(m=m.add(U),u=Z?u.add(v):u.delete(v)):(m=m.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const v=this.query.limitType==="F"?m.last():m.first();m=m.delete(v.key),u=u.delete(v.key),i.track({type:1,doc:v})}return{tu:m,iu:i,Ss:x,mutatedKeys:u}}su(t,s){return t.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(t,s,i,c){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const m=t.iu.ya();m.sort(((v,E)=>(function(U,P){const Z=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:B})}};return Z(U)-Z(P)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(i),c=c??!1;const x=s&&!c?this._u():[],p=this.Ya.size===0&&this.current&&!c?1:0,g=p!==this.Xa;return this.Xa=p,m.length!==0||g?{snapshot:new Bi(this.query,t.tu,u,m,t.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:x}:{au:x}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qx,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((s=>this.Za=this.Za.add(s))),t.modifiedDocuments.forEach((s=>{})),t.removedDocuments.forEach((s=>this.Za=this.Za.delete(s))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Je(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const s=[];return t.forEach((i=>{this.Ya.has(i)||s.push(new rv(i))})),this.Ya.forEach((i=>{t.has(i)||s.push(new av(i))})),s}cu(t){this.Za=t.ks,this.Ya=Je();const s=this.ru(t.documents);return this.applyChanges(s,!0)}lu(){return Bi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const cm="SyncEngine";class Xw{constructor(t,s,i){this.query=t,this.targetId=s,this.view=i}}class Zw{constructor(t){this.key=t,this.hu=!1}}class Jw{constructor(t,s,i,c,u,m){this.localStore=t,this.remoteStore=s,this.eventManager=i,this.sharedClientState=c,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new kr((x=>vb(x)),Vu),this.Iu=new Map,this.Eu=new Set,this.Ru=new Nt(Ce.comparator),this.Au=new Map,this.Vu=new Jd,this.du={},this.mu=new Map,this.fu=Pi.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ww(r,t,s=!0){const i=hv(r);let c;const u=i.Tu.get(t);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),c=u.view.lu()):c=await iv(i,t,s,!0),c}async function eT(r,t){const s=hv(r);await iv(s,t,!0,!1)}async function iv(r,t,s,i){const c=await bw(r.localStore,Ms(t)),u=c.targetId,m=r.sharedClientState.addLocalQueryTarget(u,s);let x;return i&&(x=await tT(r,t,u,m==="current",c.resumeToken)),r.isPrimaryClient&&s&&Kb(r.remoteStore,c),x}async function tT(r,t,s,i,c){r.pu=(E,T,U)=>(async function(Z,B,me,de){let te=B.view.ru(me);te.Ss&&(te=await qx(Z.localStore,B.query,!1).then((({documents:M})=>B.view.ru(M,te))));const ce=de&&de.targetChanges.get(B.targetId),Se=de&&de.targetMismatches.get(B.targetId)!=null,je=B.view.applyChanges(te,Z.isPrimaryClient,ce,Se);return Jx(Z,B.targetId,je.au),je.snapshot})(r,E,T,U);const u=await qx(r.localStore,t,!0),m=new Kw(t,u.ks),x=m.ru(u.documents),p=Eo.createSynthesizedTargetChangeForCurrentChange(s,i&&r.onlineState!=="Offline",c),g=m.applyChanges(x,r.isPrimaryClient,p);Jx(r,s,g.au);const v=new Xw(t,s,m);return r.Tu.set(t,v),r.Iu.has(s)?r.Iu.get(s).push(t):r.Iu.set(s,[t]),g.snapshot}async function nT(r,t,s){const i=Le(r),c=i.Tu.get(t),u=i.Iu.get(c.targetId);if(u.length>1)return i.Iu.set(c.targetId,u.filter((m=>!Vu(m,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(c.targetId),i.sharedClientState.isActiveQueryTarget(c.targetId)||await Rd(i.localStore,c.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(c.targetId),s&&nm(i.remoteStore,c.targetId),Id(i,c.targetId)})).catch(Fi)):(Id(i,c.targetId),await Rd(i.localStore,c.targetId,!0))}async function sT(r,t){const s=Le(r),i=s.Tu.get(t),c=s.Iu.get(i.targetId);s.isPrimaryClient&&c.length===1&&(s.sharedClientState.removeLocalQueryTarget(i.targetId),nm(s.remoteStore,i.targetId))}async function aT(r,t,s){const i=hT(r);try{const c=await(function(m,x){const p=Le(m),g=pt.now(),v=x.reduce(((U,P)=>U.add(P.key)),Je());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let P=ia(),Z=Je();return p.xs.getEntries(U,v).next((B=>{P=B,P.forEach(((me,de)=>{de.isValidDocument()||(Z=Z.add(me))}))})).next((()=>p.localDocuments.getOverlayedDocuments(U,P))).next((B=>{E=B;const me=[];for(const de of x){const te=x2(de,E.get(de.key).overlayedDocument);te!=null&&me.push(new Wa(de.key,te,fb(te.value.mapValue),wn.exists(!0)))}return p.mutationQueue.addMutationBatch(U,g,me,x)})).next((B=>{T=B;const me=B.applyToLocalDocumentSet(E,Z);return p.documentOverlayCache.saveOverlays(U,B.batchId,me)}))})).then((()=>({batchId:T.batchId,changes:Nb(E)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(c.batchId),(function(m,x,p){let g=m.du[m.currentUser.toKey()];g||(g=new Nt(Ze)),g=g.insert(x,p),m.du[m.currentUser.toKey()]=g})(i,c.batchId,s),await wo(i,c.changes),await Hu(i.remoteStore)}catch(c){const u=lm(c,"Failed to persist write");s.reject(u)}}async function lv(r,t){const s=Le(r);try{const i=await pw(s.localStore,t);t.targetChanges.forEach(((c,u)=>{const m=s.Au.get(u);m&&(lt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1,22616),c.addedDocuments.size>0?m.hu=!0:c.modifiedDocuments.size>0?lt(m.hu,14607):c.removedDocuments.size>0&&(lt(m.hu,42227),m.hu=!1))})),await wo(s,i,t)}catch(i){await Fi(i)}}function Zx(r,t,s){const i=Le(r);if(i.isPrimaryClient&&s===0||!i.isPrimaryClient&&s===1){const c=[];i.Tu.forEach(((u,m)=>{const x=m.view.va(t);x.snapshot&&c.push(x.snapshot)})),(function(m,x){const p=Le(m);p.onlineState=x;let g=!1;p.queries.forEach(((v,E)=>{for(const T of E.ba)T.va(x)&&(g=!0)})),g&&om(p)})(i.eventManager,t),c.length&&i.Pu.J_(c),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function rT(r,t,s){const i=Le(r);i.sharedClientState.updateQueryState(t,"rejected",s);const c=i.Au.get(t),u=c&&c.key;if(u){let m=new Nt(Ce.comparator);m=m.insert(u,hn.newNoDocument(u,ze.min()));const x=Je().add(u),p=new Pu(ze.min(),new Map,new Nt(Ze),m,x);await lv(i,p),i.Ru=i.Ru.remove(u),i.Au.delete(t),um(i)}else await Rd(i.localStore,t,!1).then((()=>Id(i,t,s))).catch(Fi)}async function iT(r,t){const s=Le(r),i=t.batch.batchId;try{const c=await gw(s.localStore,t);cv(s,i,null),ov(s,i),s.sharedClientState.updateMutationState(i,"acknowledged"),await wo(s,c)}catch(c){await Fi(c)}}async function lT(r,t,s){const i=Le(r);try{const c=await(function(m,x){const p=Le(m);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,x).next((E=>(lt(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,x))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(i.localStore,t);cv(i,t,s),ov(i,t),i.sharedClientState.updateMutationState(t,"rejected",s),await wo(i,c)}catch(c){await Fi(c)}}function ov(r,t){(r.mu.get(t)||[]).forEach((s=>{s.resolve()})),r.mu.delete(t)}function cv(r,t,s){const i=Le(r);let c=i.du[i.currentUser.toKey()];if(c){const u=c.get(t);u&&(s?u.reject(s):u.resolve(),c=c.remove(t)),i.du[i.currentUser.toKey()]=c}}function Id(r,t,s=null){r.sharedClientState.removeLocalQueryTarget(t);for(const i of r.Iu.get(t))r.Tu.delete(i),s&&r.Pu.yu(i,s);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((i=>{r.Vu.containsKey(i)||uv(r,i)}))}function uv(r,t){r.Eu.delete(t.path.canonicalString());const s=r.Ru.get(t);s!==null&&(nm(r.remoteStore,s),r.Ru=r.Ru.remove(t),r.Au.delete(s),um(r))}function Jx(r,t,s){for(const i of s)i instanceof av?(r.Vu.addReference(i.key,t),oT(r,i)):i instanceof rv?(ve(cm,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,t),r.Vu.containsKey(i.key)||uv(r,i.key)):Oe(19791,{wu:i})}function oT(r,t){const s=t.key,i=s.path.canonicalString();r.Ru.get(s)||r.Eu.has(i)||(ve(cm,"New document in limbo: "+s),r.Eu.add(i),um(r))}function um(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const s=new Ce(yt.fromString(t)),i=r.fu.next();r.Au.set(i,new Zw(s)),r.Ru=r.Ru.insert(s,i),Kb(r.remoteStore,new La(Ms(Yd(s.path)),i,"TargetPurposeLimboResolution",Mu.ce))}}async function wo(r,t,s){const i=Le(r),c=[],u=[],m=[];i.Tu.isEmpty()||(i.Tu.forEach(((x,p)=>{m.push(i.pu(p,t,s).then((g=>{var v;if((g||s)&&i.isPrimaryClient){const E=g?!g.fromCache:(v=s==null?void 0:s.targetChanges.get(p.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){c.push(g);const E=em.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(m),i.Pu.J_(c),await(async function(p,g){const v=Le(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>le.forEach(g,(T=>le.forEach(T.Ts,(U=>v.persistence.referenceDelegate.addReference(E,T.targetId,U))).next((()=>le.forEach(T.Is,(U=>v.persistence.referenceDelegate.removeReference(E,T.targetId,U)))))))))}catch(E){if(!$i(E))throw E;ve(tm,"Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const U=v.vs.get(T),P=U.snapshotVersion,Z=U.withLastLimboFreeSnapshotVersion(P);v.vs=v.vs.insert(T,Z)}}})(i.localStore,u))}async function cT(r,t){const s=Le(r);if(!s.currentUser.isEqual(t)){ve(cm,"User change. New user:",t.toKey());const i=await Fb(s.localStore,t);s.currentUser=t,(function(u,m){u.mu.forEach((x=>{x.forEach((p=>{p.reject(new pe(re.CANCELLED,m))}))})),u.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await wo(s,i.Ns)}}function uT(r,t){const s=Le(r),i=s.Au.get(t);if(i&&i.hu)return Je().add(i.key);{let c=Je();const u=s.Iu.get(t);if(!u)return c;for(const m of u){const x=s.Tu.get(m);c=c.unionWith(x.view.nu)}return c}}function hv(r){const t=Le(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=lv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rT.bind(null,t),t.Pu.J_=Yw.bind(null,t.eventManager),t.Pu.yu=Qw.bind(null,t.eventManager),t}function hT(r){const t=Le(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lT.bind(null,t),t}class Su{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Bu(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,s){return null}Mu(t,s){return null}vu(t){return mw(this.persistence,new hw,t.initialUser,this.serializer)}Cu(t){return new Gb(Wd.Vi,this.serializer)}Du(t){return new _w}async terminate(){var t,s;(t=this.gcScheduler)==null||t.stop(),(s=this.indexBackfillerScheduler)==null||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Su.provider={build:()=>new Su};class fT extends Su{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,s){lt(this.persistence.referenceDelegate instanceof Tu,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new X2(i,t.asyncQueue,s)}Cu(t){const s=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new Gb((i=>Tu.Vi(i,s)),this.serializer)}}class Od{async initialize(t,s){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Zx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cT.bind(null,this.syncEngine),await Gw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new $w})()}createDatastore(t){const s=Bu(t.databaseInfo.databaseId),i=jw(t.databaseInfo);return Dw(t.authCredentials,t.appCheckCredentials,i,s)}createRemoteStore(t){return(function(i,c,u,m,x){return new Iw(i,c,u,m,x)})(this.localStore,this.datastore,t.asyncQueue,(s=>Zx(this.syncEngine,s,0)),(function(){return Fx.v()?new Fx:new Ew})())}createSyncEngine(t,s){return(function(c,u,m,x,p,g,v){const E=new Jw(c,u,m,x,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,s)}async terminate(){var t,s;await(async function(c){const u=Le(c);ve(Vr,"RemoteStore shutting down."),u.Ea.add(5),await No(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(s=this.eventManager)==null||s.terminate()}}Od.provider={build:()=>new Od};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ra("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,s){setTimeout((()=>{this.muted||t(s)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="FirestoreClient";class dT{constructor(t,s,i,c,u){this.authCredentials=t,this.appCheckCredentials=s,this.asyncQueue=i,this._databaseInfo=c,this.user=un.UNAUTHENTICATED,this.clientId=Bd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async m=>{ve(Ka,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(i,(m=>(ve(Ka,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(s){const i=lm(s,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function cd(r,t){r.asyncQueue.verifyOperationInProgress(),ve(Ka,"Initializing OfflineComponentProvider");const s=r.configuration;await t.initialize(s);let i=s.initialUser;r.setCredentialChangeListener((async c=>{i.isEqual(c)||(await Fb(t.localStore,c),i=c)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Wx(r,t){r.asyncQueue.verifyOperationInProgress();const s=await mT(r);ve(Ka,"Initializing OnlineComponentProvider"),await t.initialize(s,r.configuration),r.setCredentialChangeListener((i=>Yx(t.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,c)=>Yx(t.remoteStore,c))),r._onlineComponents=t}async function mT(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve(Ka,"Using user provided OfflineComponentProvider");try{await cd(r,r._uninitializedComponentsProvider._offline)}catch(t){const s=t;if(!(function(c){return c.name==="FirebaseError"?c.code===re.FAILED_PRECONDITION||c.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11})(s))throw s;Or("Error using user provided cache. Falling back to memory cache: "+s),await cd(r,new Su)}}else ve(Ka,"Using default OfflineComponentProvider"),await cd(r,new fT(void 0));return r._offlineComponents}async function dv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve(Ka,"Using user provided OnlineComponentProvider"),await Wx(r,r._uninitializedComponentsProvider._online)):(ve(Ka,"Using default OnlineComponentProvider"),await Wx(r,new Od))),r._onlineComponents}function gT(r){return dv(r).then((t=>t.syncEngine))}async function mv(r){const t=await dv(r),s=t.eventManager;return s.onListen=Ww.bind(null,t.syncEngine),s.onUnlisten=nT.bind(null,t.syncEngine),s.onFirstRemoteStoreListen=eT.bind(null,t.syncEngine),s.onLastRemoteStoreUnlisten=sT.bind(null,t.syncEngine),s}function pT(r,t,s={}){const i=new sa;return r.asyncQueue.enqueueAndForget((async()=>(function(u,m,x,p,g){const v=new fv({next:T=>{v.Nu(),m.enqueueAndForget((()=>nv(u,E)));const U=T.docs.has(x);!U&&T.fromCache?g.reject(new pe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&T.fromCache&&p&&p.source==="server"?g.reject(new pe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new sv(Yd(x.path),v,{includeMetadataChanges:!0,Ka:!0});return tv(u,E)})(await mv(r),r.asyncQueue,t,s,i))),i.promise}function yT(r,t,s={}){const i=new sa;return r.asyncQueue.enqueueAndForget((async()=>(function(u,m,x,p,g){const v=new fv({next:T=>{v.Nu(),m.enqueueAndForget((()=>nv(u,E))),T.fromCache&&p.source==="server"?g.reject(new pe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new sv(x,v,{includeMetadataChanges:!0,Ka:!0});return tv(u,E)})(await mv(r),r.asyncQueue,t,s,i))),i.promise}function xT(r,t){const s=new sa;return r.asyncQueue.enqueueAndForget((async()=>aT(await gT(r),t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="ComponentProvider",e0=new Map;function vT(r,t,s,i,c){return new PN(r,t,s,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,gv(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="firestore.googleapis.com",t0=!0;class n0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pv,this.ssl=t0}else this.host=t.host,this.ssl=t.ssl??t0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Hb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Q2)throw new pe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gv(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,c){return i.timeoutSeconds===c.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gu{constructor(t,s,i,c){this._authCredentials=t,this._appCheckCredentials=s,this._databaseId=i,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new bN;switch(i.type){case"firstParty":return new NN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const i=e0.get(s);i&&(ve(bT,"Removing Datastore"),e0.delete(s),i.terminate())})(this),Promise.resolve()}}function _T(r,t,s,i={}){var g;r=ks(r,Gu);const c=Ud(t),u=r._getSettings(),m={...u,emulatorOptions:r._getEmulatorOptions()},x=`${t}:${s}`;c&&(F1(`https://${x}`),K1("Firestore",!0)),u.host!==pv&&u.host!==x&&Or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:x,ssl:c,emulatorOptions:i};if(!gu(p,m)&&(r._setSettings(p),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=un.MOCK_USER;else{v=$1(i.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new pe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new un(T)}r._authCredentials=new vN(new eb(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,s,i){this.converter=s,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ur(this.firestore,t,this._query)}}class Ft{constructor(t,s,i){this.converter=s,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ft(this.firestore,t,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,s,i){if(vo(s,Ft._jsonSchema))return new Ft(t,i||null,new Ce(yt.fromString(s.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Gt("string",Ft._jsonSchemaVersion),referencePath:Gt("string")};class Ha extends Ur{constructor(t,s,i){super(t,s,Yd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ft(this.firestore,null,new Ce(t))}withConverter(t){return new Ha(this.firestore,t,this._path)}}function hm(r,t,...s){if(r=Vs(r),tb("collection","path",t),r instanceof Gu){const i=yt.fromString(t,...s);return gx(i),new Ha(r,null,i)}{if(!(r instanceof Ft||r instanceof Ha))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(yt.fromString(t,...s));return gx(i),new Ha(r.firestore,null,i)}}function To(r,t,...s){if(r=Vs(r),arguments.length===1&&(t=Bd.newId()),tb("doc","path",t),r instanceof Gu){const i=yt.fromString(t,...s);return mx(i),new Ft(r,null,new Ce(i))}{if(!(r instanceof Ft||r instanceof Ha))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(yt.fromString(t,...s));return mx(i),new Ft(r.firestore,r instanceof Ha?r.converter:null,new Ce(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="AsyncQueue";class a0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Yb(this,"async_queue_retry"),this._c=()=>{const i=od();i&&ve(s0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const s=od();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const s=od();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new sa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!$i(t))throw t;ve(s0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const s=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,ra("INTERNAL UNHANDLED ERROR: ",r0(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=s,s}enqueueAfterDelay(t,s,i){this.uc(),this.oc.indexOf(t)>-1&&(s=0);const c=im.createAndSchedule(this,t,s,i,(u=>this.hc(u)));return this.tc.push(c),c}uc(){this.nc&&Oe(47125,{Pc:r0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const s of this.tc)if(s.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((s,i)=>s.targetTimeMs-i.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),t!=="all"&&s.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const s=this.tc.indexOf(t);this.tc.splice(s,1)}}function r0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Lr extends Gu{constructor(t,s,i,c){super(t,s,i,c),this.type="firestore",this._queue=new a0,this._persistenceKey=(c==null?void 0:c.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new a0(t),this._firestoreClient=void 0,await t}}}function ET(r,t){const s=typeof r=="object"?r:rN(),i=typeof r=="string"?r:bu,c=eN(s,"firestore").getImmediate({identifier:i});if(!c._initialized){const u=H1("firestore");u&&_T(c,...u)}return c}function Fu(r){if(r._terminated)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||NT(r),r._firestoreClient}function NT(r){var i,c,u,m;const t=r._freezeSettings(),s=vT(r._databaseId,((i=r._app)==null?void 0:i.options.appId)||"",r._persistenceKey,(c=r._app)==null?void 0:c.options.apiKey,t);r._componentsProvider||(u=t.localCache)!=null&&u._offlineComponentProvider&&((m=t.localCache)!=null&&m._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new dT(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(ln.fromBase64String(t))}catch(s){throw new pe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(t){return new Kn(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(vo(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Gt("string",Kn._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(...t){for(let s=0;s<t.length;++s)if(t[s].length===0)throw new pe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t,s){if(!isFinite(t)||t<-90||t>90)throw new pe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(s)||s<-180||s>180)throw new pe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=t,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ze(this._lat,t._lat)||Ze(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Os._jsonSchemaVersion}}static fromJSON(t){if(vo(t,Os._jsonSchema))return new Os(t.latitude,t.longitude)}}Os._jsonSchemaVersion="firestore/geoPoint/1.0",Os._jsonSchema={type:Gt("string",Os._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t){this._values=(t||[]).map((s=>s))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,c){if(i.length!==c.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==c[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(vo(t,os._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((s=>typeof s=="number")))return new os(t.vectorValues);throw new pe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}os._jsonSchemaVersion="firestore/vectorValue/1.0",os._jsonSchema={type:Gt("string",os._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=/^__.*__$/;class TT{constructor(t,s,i){this.data=t,this.fieldMask=s,this.fieldTransforms=i}toMutation(t,s){return this.fieldMask!==null?new Wa(t,this.data,this.fieldMask,s,this.fieldTransforms):new _o(t,this.data,s,this.fieldTransforms)}}class yv{constructor(t,s,i){this.data=t,this.fieldMask=s,this.fieldTransforms=i}toMutation(t,s){return new Wa(t,this.data,this.fieldMask,s,this.fieldTransforms)}}function xv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{dataSource:r})}}class mm{constructor(t,s,i,c,u,m){this.settings=t,this.databaseId=s,this.serializer=i,this.ignoreUndefinedProperties=c,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new mm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var c;const s=(c=this.path)==null?void 0:c.child(t),i=this.contextWith({path:s,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){var c;const s=(c=this.path)==null?void 0:c.child(t),i=this.contextWith({path:s,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Au(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((s=>t.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>t.isPrefixOf(s.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(xv(this.dataSource)&&wT.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class jT{constructor(t,s,i){this.databaseId=t,this.ignoreUndefinedProperties=s,this.serializer=i||Bu(t)}createContext(t,s,i,c=!1){return new mm({dataSource:t,methodName:s,targetDoc:i,path:rn.emptyPath(),arrayElement:!1,hasConverter:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $u(r){const t=r._freezeSettings(),s=Bu(r._databaseId);return new jT(r._databaseId,!!t.ignoreUndefinedProperties,s)}function gm(r,t,s,i,c,u={}){const m=r.createContext(u.merge||u.mergeFields?2:0,t,s,c);pm("Data must be an object, but it was:",m,i);const x=bv(i,m);let p,g;if(u.merge)p=new On(m.fieldMask),g=m.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const T=qi(t,E,s);if(!m.contains(T))throw new pe(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Ev(v,T)||v.push(T)}p=new On(v),g=m.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=m.fieldTransforms;return new TT(new Nn(x),p,g)}class Yu extends dm{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yu}}function ST(r,t,s,i){const c=r.createContext(1,t,s);pm("Data must be an object, but it was:",c,i);const u=[],m=Nn.empty();Ja(i,((p,g)=>{const v=_v(t,p,s);g=Vs(g);const E=c.childContextForFieldPath(v);if(g instanceof Yu)u.push(v);else{const T=jo(g,E);T!=null&&(u.push(v),m.set(v,T))}}));const x=new On(u);return new yv(m,x,c.fieldTransforms)}function AT(r,t,s,i,c,u){const m=r.createContext(1,t,s),x=[qi(t,i,s)],p=[c];if(u.length%2!=0)throw new pe(re.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)x.push(qi(t,u[T])),p.push(u[T+1]);const g=[],v=Nn.empty();for(let T=x.length-1;T>=0;--T)if(!Ev(g,x[T])){const U=x[T];let P=p[T];P=Vs(P);const Z=m.childContextForFieldPath(U);if(P instanceof Yu)g.push(U);else{const B=jo(P,Z);B!=null&&(g.push(U),v.set(U,B))}}const E=new On(g);return new yv(v,E,m.fieldTransforms)}function CT(r,t,s,i=!1){return jo(s,r.createContext(i?4:3,t))}function jo(r,t){if(vv(r=Vs(r)))return pm("Unsupported field value:",t,r),bv(r,t);if(r instanceof dm)return(function(i,c){if(!xv(c.dataSource))throw c.createError(`${i._methodName}() can only be used with update() and set()`);if(!c.path)throw c.createError(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(c);u&&c.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,c){const u=[];let m=0;for(const x of i){let p=jo(x,c.childContextForArray(m));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),m++}return{arrayValue:{values:u}}})(r,t)}return(function(i,c){if((i=Vs(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return f2(c.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=pt.fromDate(i);return{timestampValue:wu(c.serializer,u)}}if(i instanceof pt){const u=new pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:wu(c.serializer,u)}}if(i instanceof Os)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Kn)return{bytesValue:Vb(c.serializer,i._byteString)};if(i instanceof Ft){const u=c.databaseId,m=i.firestore._databaseId;if(!m.isEqual(u))throw c.createError(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zd(i.firestore._databaseId||c.databaseId,i._key.path)}}if(i instanceof os)return(function(m,x){const p=m instanceof os?m.toArray():m;return{mapValue:{fields:{[ub]:{stringValue:hb},[vu]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw x.createError("VectorValues must only contain numeric values.");return Qd(x.serializer,v)}))}}}}}})(i,c);if(qb(i))return i._toProto(c.serializer);throw c.createError(`Unsupported field value: ${Du(i)}`)})(r,t)}function bv(r,t){const s={};return ab(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ja(r,((i,c)=>{const u=jo(c,t.childContextForField(i));u!=null&&(s[i]=u)})),{mapValue:{fields:s}}}function vv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pt||r instanceof Os||r instanceof Kn||r instanceof Ft||r instanceof dm||r instanceof os||qb(r))}function pm(r,t,s){if(!vv(s)||!nb(s)){const i=Du(s);throw i==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+i)}}function qi(r,t,s){if((t=Vs(t))instanceof fm)return t._internalPath;if(typeof t=="string")return _v(r,t);throw Au("Field path arguments must be of type string or ",r,!1,void 0,s)}const RT=new RegExp("[~\\*/\\[\\]]");function _v(r,t,s){if(t.search(RT)>=0)throw Au(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,s);try{return new fm(...t.split("."))._internalPath}catch{throw Au(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,s)}}function Au(r,t,s,i,c){const u=i&&!i.isEmpty(),m=c!==void 0;let x=`Function ${t}() called with invalid data`;s&&(x+=" (via `toFirestore()`)"),x+=". ";let p="";return(u||m)&&(p+=" (found",u&&(p+=` in field ${i}`),m&&(p+=` in document ${c}`),p+=")"),new pe(re.INVALID_ARGUMENT,x+r+p)}function Ev(r,t){return r.some((s=>s.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{convertValue(t,s="none"){switch(Ya(t)){case 0:return null;case 1:return t.booleanValue;case 2:return It(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,s);case 5:return t.stringValue;case 6:return this.convertBytes($a(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,s);case 11:return this.convertObject(t.mapValue,s);case 10:return this.convertVectorValue(t.mapValue);default:throw Oe(62114,{value:t})}}convertObject(t,s){return this.convertObjectMap(t.fields,s)}convertObjectMap(t,s="none"){const i={};return Ja(t,((c,u)=>{i[c]=this.convertValue(u,s)})),i}convertVectorValue(t){var i,c,u;const s=(u=(c=(i=t.fields)==null?void 0:i[vu].arrayValue)==null?void 0:c.values)==null?void 0:u.map((m=>It(m.doubleValue)));return new os(s)}convertGeoPoint(t){return new Os(It(t.latitude),It(t.longitude))}convertArray(t,s){return(t.values||[]).map((i=>this.convertValue(i,s)))}convertServerTimestamp(t,s){switch(s){case"previous":const i=Ou(t);return i==null?null:this.convertValue(i,s);case"estimate":return this.convertTimestamp(ho(t));default:return null}}convertTimestamp(t){const s=Fa(t);return new pt(s.seconds,s.nanos)}convertDocumentKey(t,s){const i=yt.fromString(t);lt(Bb(i),9688,{name:t});const c=new fo(i.get(1),i.get(3)),u=new Ce(i.popFirst(5));return c.isEqual(s)||ra(`Document ${u} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends DT{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const s=this.convertDocumentKey(t,this.firestore._databaseId);return new Ft(this.firestore,null,s)}}const i0="@firebase/firestore",l0="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t,s,i,c,u){this._firestore=t,this._userDataWriter=s,this._key=i,this._document=c,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const s=this._document.data.field(qi("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s)}}}class MT extends wv{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ym{}class Tv extends ym{}function OT(r,t,...s){let i=[];t instanceof ym&&i.push(t),i=i.concat(s),(function(u){const m=u.filter((p=>p instanceof bm)).length,x=u.filter((p=>p instanceof xm)).length;if(m>1||m>0&&x>0)throw new pe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const c of i)r=c._apply(r);return r}class xm extends Tv{constructor(t,s,i){super(),this._field=t,this._op=s,this._value=i,this.type="where"}static _create(t,s,i){return new xm(t,s,i)}_apply(t){const s=this._parse(t);return jv(t._query,s),new Ur(t.firestore,t.converter,wd(t._query,s))}_parse(t){const s=$u(t.firestore);return(function(u,m,x,p,g,v,E){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){c0(E,v);const P=[];for(const Z of E)P.push(o0(p,u,Z));T={arrayValue:{values:P}}}else T=o0(p,u,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||c0(E,v),T=CT(x,m,E,v==="in"||v==="not-in");return Ht.create(g,v,T)})(t._query,"where",s,t.firestore._databaseId,this._field,this._op,this._value)}}class bm extends ym{constructor(t,s){super(),this.type=t,this._queryConstraints=s}static _create(t,s){return new bm(t,s)}_parse(t){const s=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return s.length===1?s[0]:cs.create(s,this._getOperator())}_apply(t){const s=this._parse(t);return s.getFilters().length===0?t:((function(c,u){let m=c;const x=u.getFlattenedFilters();for(const p of x)jv(m,p),m=wd(m,p)})(t._query,s),new Ur(t.firestore,t.converter,wd(t._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vm extends Tv{constructor(t,s){super(),this._field=t,this._direction=s,this.type="orderBy"}static _create(t,s){return new vm(t,s)}_apply(t){const s=(function(c,u,m){if(c.startAt!==null)throw new pe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(c.endAt!==null)throw new pe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new go(u,m)})(t._query,this._field,this._direction);return new Ur(t.firestore,t.converter,a2(t._query,s))}}function VT(r,t="asc"){const s=t,i=qi("orderBy",r);return vm._create(i,s)}function o0(r,t,s){if(typeof(s=Vs(s))=="string"){if(s==="")throw new pe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bb(t)&&s.indexOf("/")!==-1)throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const i=t.path.child(yt.fromString(s));if(!Ce.isDocumentKey(i))throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Nx(r,new Ce(i))}if(s instanceof Ft)return Nx(r,s._key);throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Du(s)}.`)}function c0(r,t){if(!Array.isArray(r)||r.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jv(r,t){const s=(function(c,u){for(const m of c)for(const x of m.getFlattenedFilters())if(u.indexOf(x.op)>=0)return x.op;return null})(r.filters,(function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(s!==null)throw s===t.op?new pe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new pe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${s.toString()}' filters.`)}function _m(r,t,s){let i;return i=r?s&&(s.merge||s.mergeFields)?r.toFirestore(t,s):r.toFirestore(t):t,i}class no{constructor(t,s){this.hasPendingWrites=t,this.fromCache=s}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Dr extends wv{constructor(t,s,i,c,u,m){super(t,s,i,c,m),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const s=new fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,s={}){if(this._document){const i=this._document.data.field(qi("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,s={};return s.type=Dr._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}Dr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dr._jsonSchema={type:Gt("string",Dr._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class fu extends Dr{data(t={}){return super.data(t)}}class Vi{constructor(t,s,i,c){this._firestore=t,this._userDataWriter=s,this._snapshot=c,this.metadata=new no(c.hasPendingWrites,c.fromCache),this.query=i}get docs(){const t=[];return this.forEach((s=>t.push(s))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,s){this._snapshot.docs.forEach((i=>{t.call(s,new fu(this._firestore,this._userDataWriter,i.key,i,new no(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const s=!!t.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new pe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(c,u){if(c._snapshot.oldDocs.isEmpty()){let m=0;return c._snapshot.docChanges.map((x=>{const p=new fu(c._firestore,c._userDataWriter,x.doc.key,x.doc,new no(c._snapshot.mutatedKeys.has(x.doc.key),c._snapshot.fromCache),c.query.converter);return x.doc,{type:"added",doc:p,oldIndex:-1,newIndex:m++}}))}{let m=c._snapshot.oldDocs;return c._snapshot.docChanges.filter((x=>u||x.type!==3)).map((x=>{const p=new fu(c._firestore,c._userDataWriter,x.doc.key,x.doc,new no(c._snapshot.mutatedKeys.has(x.doc.key),c._snapshot.fromCache),c.query.converter);let g=-1,v=-1;return x.type!==0&&(g=m.indexOf(x.doc.key),m=m.delete(x.doc.key)),x.type!==1&&(m=m.add(x.doc),v=m.indexOf(x.doc.key)),{type:kT(x.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Vi._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],i=[],c=[];return this.docs.forEach((u=>{u._document!==null&&(s.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),c.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kT(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi._jsonSchemaVersion="firestore/querySnapshot/1.0",Vi._jsonSchema={type:Gt("string",Vi._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,s){this._firestore=t,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=$u(t)}set(t,s,i){this._verifyNotCommitted();const c=ud(t,this._firestore),u=_m(c.converter,s,i),m=gm(this._dataReader,"WriteBatch.set",c._key,u,c.converter!==null,i);return this._mutations.push(m.toMutation(c._key,wn.none())),this}update(t,s,i,...c){this._verifyNotCommitted();const u=ud(t,this._firestore);let m;return m=typeof(s=Vs(s))=="string"||s instanceof fm?AT(this._dataReader,"WriteBatch.update",u._key,s,i,c):ST(this._dataReader,"WriteBatch.update",u._key,s),this._mutations.push(m.toMutation(u._key,wn.exists(!0))),this}delete(t){this._verifyNotCommitted();const s=ud(t,this._firestore);return this._mutations=this._mutations.concat(new Lu(s._key,wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pe(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ud(r,t){if((r=Vs(r)).firestore!==t)throw new pe(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(r){r=ks(r,Ft);const t=ks(r.firestore,Lr),s=Fu(t);return pT(s,r._key).then((i=>BT(t,r,i)))}function Sv(r){r=ks(r,Ur);const t=ks(r.firestore,Lr),s=Fu(t),i=new Nv(t);return IT(r._query),yT(s,r._query).then((c=>new Vi(t,i,r,c)))}function Av(r,t,s){r=ks(r,Ft);const i=ks(r.firestore,Lr),c=_m(r.converter,t,s),u=$u(i);return Qu(i,[gm(u,"setDoc",r._key,c,r.converter!==null,s).toMutation(r._key,wn.none())])}function LT(r){return Qu(ks(r.firestore,Lr),[new Lu(r._key,wn.none())])}function PT(r,t){const s=ks(r.firestore,Lr),i=To(r),c=_m(r.converter,t),u=$u(r.firestore);return Qu(s,[gm(u,"addDoc",i._key,c,r.converter!==null,{}).toMutation(i._key,wn.exists(!1))]).then((()=>i))}function Qu(r,t){const s=Fu(r);return xT(s,t)}function BT(r,t,s){const i=s.docs.get(t._key),c=new Nv(r);return new Dr(r,c,t._key,i,new no(s.hasPendingWrites,s.fromCache),t.converter)}function qT(r){return r=ks(r,Lr),Fu(r),new zT(r,(t=>Qu(r,t)))}(function(t,s=!0){xN(aN),yu(new oo("firestore",((i,{instanceIdentifier:c,options:u})=>{const m=i.getProvider("app").getImmediate(),x=new Lr(new _N(i.getProvider("auth-internal")),new wN(m,i.getProvider("app-check-internal")),BN(m,c),m);return u={useFetchStreams:s,...u},x._setSettings(u),x}),"PUBLIC").setMultipleInstances(!0)),Mi(i0,l0,t),Mi(i0,l0,"esm2020")})();const HT={apiKey:"AIzaSyCYT45WYMTTCpp3MDvUShT1yEwz-x9mYWQ",authDomain:"core-safe.firebaseapp.com",projectId:"core-safe",storageBucket:"core-safe.firebasestorage.app",messagingSenderId:"538945747105",appId:"1:538945747105:web:09373b659159a8b8c618e0"},GT=G0(HT),Xa=ET(GT),xo="drafts",Cv="masterData",Rv="general",Vd=async()=>{try{const r=OT(hm(Xa,xo),VT("lastModified","desc"));return(await Sv(r)).docs.map(s=>{const i=s.data();return{id:s.id,type:i.type,lastModified:i.lastModified instanceof pt?i.lastModified.toMillis():i.lastModified,data:i.data}})}catch(r){throw console.error(": ",r),r}},FT=async r=>{try{await LT(To(Xa,xo,r))}catch(t){throw console.error(": ",t),t}},Za=async(r,t,s)=>{try{const i={type:t,data:s,lastModified:pt.now()};return r?(await Av(To(Xa,xo,r),i,{merge:!0}),r):(await PT(hm(Xa,xo),i)).id}catch(i){throw console.error(": ",i),i}},Ku=async()=>{try{const r=To(Xa,Cv,Rv),t=await UT(r);return t.exists()?t.data():Mt}catch(r){return console.error(": ",r),Mt}},Vn=async r=>{try{await Av(To(Xa,Cv,Rv),r)}catch(t){throw console.error(": ",t),t}},bo=async r=>{try{const t=await Sv(hm(Xa,xo)),s=qT(Xa);let i=0;t.forEach(c=>{const u=c.data();u.data&&u.data.project===r&&(s.delete(c.ref),i++)}),i>0&&await s.commit()}catch(t){throw console.error(": ",t),t}},Dv=async r=>{try{return(await Vd()).filter(i=>i.type==="SAFETY_PLAN"&&i.data.project===r)}catch(t){throw console.error(": ",t),t}},Em=({onSave:r,onClear:t,lineWidth:s=3.5,keepOpenOnSave:i=!1})=>{const[c,u]=W.useState(!1),m=W.useRef(null),x=W.useRef(null),[p,g]=W.useState(!1),[v,E]=W.useState(!1),[T,U]=W.useState(!1),[P,Z]=W.useState(!1),[B,me]=W.useState({width:0,height:0}),[de,te]=W.useState(!1);W.useEffect(()=>{const j=()=>{te(window.innerHeight>window.innerWidth)};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),W.useEffect(()=>{if(!c||!m.current)return;const j=setTimeout(()=>{(()=>{if(m.current){const S=window.devicePixelRatio||1,be=Math.floor(m.current.clientWidth*S),ye=Math.floor(m.current.clientHeight*S);be>0&&ye>0&&me({width:be,height:ye})}})()},300);return()=>clearTimeout(j)},[c,de]),W.useEffect(()=>{if(!c||B.width===0)return;const j=x.current;if(j){const D=j.getContext("2d");D&&(D.lineWidth=s,D.lineCap="round",D.lineJoin="round",D.strokeStyle="#000")}},[B,c,s]);const ce=j=>{const D=x.current;if(!D)return{x:0,y:0};const S=D.getBoundingClientRect(),be=j.clientX,ye=j.clientY,F=be-S.left,Q=ye-S.top;return de?{x:Q/S.height*D.width,y:(1-F/S.width)*D.height}:{x:F/S.width*D.width,y:Q/S.height*D.height}},Se=j=>{var be;if(P&&j.pointerType!=="pen")return;j.preventDefault(),j.stopPropagation(),g(!0),j.target.setPointerCapture(j.pointerId);const D=ce(j),S=(be=x.current)==null?void 0:be.getContext("2d");S==null||S.beginPath(),S==null||S.moveTo(D.x,D.y)},je=j=>{var be;if(!p||P&&j.pointerType!=="pen")return;j.preventDefault(),j.stopPropagation();const D=ce(j),S=(be=x.current)==null?void 0:be.getContext("2d");S==null||S.lineTo(D.x,D.y),S==null||S.stroke(),v||E(!0)},M=j=>{p&&(j.preventDefault(),g(!1),j.target.releasePointerCapture(j.pointerId))},A=()=>{const j=x.current,D=j==null?void 0:j.getContext("2d");j&&D&&D.clearRect(0,0,j.width,j.height),E(!1)},R=()=>{if(x.current&&v){const j=x.current,D=0,S=j.height*.25,be=j.width,ye=j.height*.5,F=document.createElement("canvas");F.width=be,F.height=ye;const Q=F.getContext("2d");Q&&(Q.drawImage(j,D,S,be,ye,0,0,F.width,F.height),r(F.toDataURL("image/png"))),i?(A(),U(!0),setTimeout(()=>U(!1),2e3)):u(!1)}};if(!c)return o.jsxs("div",{onClick:()=>u(!0),className:"w-full h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:bg-blue-50 hover:border-blue-300 bg-white text-gray-500 transition-all group",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-2 group-hover:bg-blue-100 transition-colors",children:o.jsx("i",{className:"fa-solid fa-pen-nib text-xl text-gray-400 group-hover:text-blue-500"})}),o.jsx("span",{className:"font-bold text-sm group-hover:text-blue-600",children:""})]});const O=de?"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[100dvh] h-[100dvw] rotate-90 origin-center":"fixed inset-0 w-full h-full";return o.jsx("div",{className:"fixed inset-0 z-[100] bg-gray-900 bg-opacity-95 select-none touch-none",onContextMenu:j=>j.preventDefault(),style:{WebkitUserSelect:"none",WebkitTouchCallout:"none"},children:o.jsxs("div",{className:`${O} bg-white flex flex-col overflow-hidden shadow-2xl relative select-none`,children:[T&&o.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[60] bg-gray-800 bg-opacity-90 text-white px-8 py-6 rounded-xl shadow-2xl animate-fade-in flex flex-col items-center backdrop-blur-sm pointer-events-none",children:[o.jsx("i",{className:"fa-solid fa-check-circle text-5xl text-green-400 mb-4"}),o.jsx("span",{className:"font-bold text-xl mb-1",children:""}),o.jsx("span",{className:"text-sm text-gray-300",children:""})]}),o.jsxs("div",{className:"bg-gray-100 flex-none border-b shadow-sm z-20 select-none",children:[o.jsxs("div",{className:"relative flex justify-between items-center px-4 py-4 border-b border-gray-200 bg-white min-h-[72px]",children:[o.jsx("button",{type:"button",onClick:()=>{u(!1),t()},className:"px-4 py-2 text-sm font-bold text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 border border-gray-300 z-10 relative",children:""}),o.jsxs("h3",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 font-bold text-lg text-gray-800 hidden sm:flex items-center justify-center pointer-events-none",children:[o.jsx("i",{className:"fa-solid fa-pen-nib mr-2 text-gray-500"}),""]}),o.jsxs("div",{className:"flex items-center gap-2 z-10 relative",children:[o.jsxs("button",{type:"button",onClick:A,className:"px-3 py-2 text-sm font-bold text-red-600 bg-red-50 hover:bg-red-100 rounded-lg flex items-center border border-red-200 transition-colors",children:[o.jsx("i",{className:"fa-solid fa-eraser mr-1"})," ",o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsx("span",{className:"sm:hidden",children:""})]}),o.jsxs("button",{type:"button",onClick:R,disabled:!v,className:`px-4 py-2 text-sm font-bold rounded-lg flex items-center shadow-sm transition-colors ${v?"bg-blue-600 text-white active:scale-95 hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx("i",{className:"fa-solid fa-check mr-1"})," "]})]})]}),o.jsxs("div",{className:"relative flex justify-end items-center px-4 py-3 bg-gray-50",children:[o.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-red-600 text-sm font-bold flex items-center pointer-events-none whitespace-nowrap",children:[o.jsx("i",{className:"fa-solid fa-circle-exclamation mr-1"}),o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsx("span",{className:"sm:hidden",children:""})]}),o.jsxs("label",{className:`
                  flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-bold cursor-pointer transition-colors shadow-sm select-none border-2 z-10 relative bg-white
                  ${P?"bg-blue-600 text-white border-blue-700 hover:bg-blue-700":"bg-green-600 text-white border-green-700 hover:bg-green-700"}
                `,children:[o.jsx("input",{type:"checkbox",className:"hidden",checked:P,onChange:j=>Z(j.target.checked)}),o.jsx("i",{className:`fa-solid ${P?"fa-pen-fancy":"fa-hand-pointer"} text-lg`}),o.jsx("span",{children:P?"":""})]})]})]}),o.jsx("div",{className:"flex-1 min-h-0 bg-gray-50 p-2 sm:p-4 pb-8 sm:pb-8 flex flex-col select-none",children:o.jsxs("div",{ref:m,className:"flex-1 min-h-0 w-full bg-white border-2 border-gray-300 shadow-inner rounded-xl overflow-hidden touch-none relative select-none",children:[o.jsxs("div",{className:"absolute inset-0 flex flex-col pointer-events-none select-none",children:[o.jsx("div",{className:"h-[25%] w-full bg-gray-100 opacity-60 border-b-2 border-dashed border-gray-400 flex items-end justify-center pb-1",children:o.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 font-bold tracking-widest",children:""})}),o.jsx("div",{className:"h-[50%] w-full flex items-center justify-center bg-transparent",children:!v&&o.jsxs("div",{className:"text-center text-gray-200",children:[o.jsx("span",{className:"text-4xl sm:text-6xl font-bold mb-2 block",children:""}),o.jsx("span",{className:"text-xs sm:text-lg font-bold",children:""}),o.jsx("div",{className:"sm:hidden text-red-300 text-[10px] mt-1 font-bold",children:""})]})}),o.jsx("div",{className:"h-[25%] w-full bg-gray-100 opacity-60 border-t-2 border-dashed border-gray-400 flex items-start justify-center pt-1",children:o.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 font-bold tracking-widest",children:""})})]}),B.width>0&&o.jsx("canvas",{ref:x,width:B.width,height:B.height,style:{width:"100%",height:"100%",touchAction:"none",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none"},className:"absolute inset-0 z-10 cursor-crosshair block touch-none select-none",onPointerDown:Se,onPointerMove:je,onPointerUp:M,onPointerLeave:M,onContextMenu:j=>j.preventDefault()})]})})]})})},Cu=({data:r})=>{var g,v,E,T,U,P,Z,B,me,de,te,ce,Se,je,M,A,R,O,j,D,S,be,ye,F;const t="border border-black",s="bg-green-100 text-center font-bold py-1",i=Q=>{const he=new Date(Q);return`${he.getFullYear()}/${he.getMonth()+1}/${he.getDate()}`},c=Math.max(7,r.subcontractorAttendees.length),u=Array.from({length:c-r.subcontractorAttendees.length}),m=Q=>{const he=Q.length;return he>45?"text-lg":he>35?"text-xl":he>25?"text-2xl":he>15?"text-3xl":"text-4xl"},x=Q=>Q?Q===""?"":Q===""?"":Q:"",p=Q=>{const he=x(Q);if(!he)return"";const xe=he.length;return xe>10?"text-xs tracking-tighter":xe>8?"text-sm":""};return o.jsxs("div",{className:"font-serif text-black leading-tight bg-white",children:[o.jsxs("div",{className:"print-page relative p-[25mm] flex flex-col justify-between items-center text-center page-break-after-always",children:[o.jsxs("div",{className:"mt-16 text-3xl font-normal tracking-widest",children:["",r.count,""]}),o.jsx("div",{className:"mt-20 px-4 w-full flex items-center justify-center min-h-[4rem]",children:o.jsx("h1",{className:`${m(r.project)} font-normal mb-4 leading-normal whitespace-nowrap`,children:r.project})}),o.jsx("div",{className:"my-auto",children:o.jsx("h2",{className:"text-5xl font-normal tracking-[0.2em] leading-loose",children:"      "})}),o.jsxs("div",{className:"mb-24 w-full",children:[o.jsxs("div",{className:"text-2xl mb-16",children:[" ",i(r.date)]}),o.jsx("div",{className:"flex items-center justify-center gap-3",children:o.jsx("span",{className:"font-bold text-2xl",children:r.contractor})})]})]}),o.jsxs("div",{className:"print-page p-[30mm] flex flex-col items-center page-break-after-always",children:[o.jsx("div",{className:"mt-20 mb-24 border-b-2 border-black px-12 pb-2",children:o.jsx("h2",{className:"text-4xl font-normal tracking-[0.2em] ml-2",children:""})}),o.jsxs("div",{className:"w-full max-w-lg space-y-12 text-2xl",children:[o.jsxs("div",{className:"flex items-baseline",children:[o.jsx("span",{className:"w-16 text-right mr-8 font-serif",children:"1"}),o.jsx("span",{children:""})]}),o.jsxs("div",{className:"flex items-baseline",children:[o.jsx("span",{className:"w-16 text-right mr-8 font-serif",children:"2"}),o.jsx("span",{children:""})]}),o.jsxs("div",{className:"flex items-baseline",children:[o.jsx("span",{className:"w-16 text-right mr-8 font-serif",children:"3"}),o.jsx("span",{children:""})]}),o.jsxs("div",{className:"flex items-baseline",children:[o.jsx("span",{className:"w-16 text-right mr-8 font-serif",children:"4"}),o.jsx("span",{children:""})]}),o.jsxs("div",{className:"flex items-baseline",children:[o.jsx("span",{className:"w-16 text-right mr-8 font-serif",children:"5"}),o.jsx("span",{children:""})]}),o.jsxs("div",{className:"flex items-baseline",children:[o.jsx("span",{className:"w-16 text-right mr-8 font-serif",children:"6"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"print-page p-[20mm]",children:[o.jsxs("div",{className:"flex justify-between items-end mb-4 px-2",children:[o.jsxs("div",{className:"text-xl font-bold",children:[" ",r.count," "]}),o.jsx("h3",{className:"text-2xl font-bold text-center flex-1",children:""}),o.jsx("div",{className:"w-16"})," "]}),o.jsx("table",{className:`w-full border-collapse mb-6 ${t}`,children:o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{className:`${t} p-2 w-32 text-center`,children:"   "}),o.jsx("td",{className:`${t} p-2`,children:""})]}),o.jsxs("tr",{children:[o.jsx("td",{className:`${t} p-2 text-center`,children:"   "}),o.jsx("td",{className:`${t} p-2`,children:i(r.date)})]}),o.jsxs("tr",{children:[o.jsx("td",{className:`${t} p-2 text-center`,children:""}),o.jsx("td",{className:`${t} p-2`,children:r.location})]})]})}),o.jsx("div",{className:"mb-6",children:o.jsxs("table",{className:`w-full border-collapse ${t}`,children:[o.jsxs("thead",{children:[o.jsx("tr",{children:o.jsx("th",{className:`${t} ${s}`,colSpan:4,children:""})}),o.jsxs("tr",{children:[o.jsx("th",{className:`${t} w-1/4 py-1 font-normal`,children:""}),o.jsx("th",{className:`${t} w-1/4 py-1 font-normal`,children:""}),o.jsx("th",{className:`${t} w-1/4 py-1 font-normal`,children:""}),o.jsx("th",{className:`${t} w-1/4 py-1 font-normal`,children:""})]})]}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"h-12",children:[o.jsx("td",{className:`${t} px-2 align-middle ${p((g=r.gcAttendees[0])==null?void 0:g.role)}`,children:x((v=r.gcAttendees[0])==null?void 0:v.role)}),o.jsx("td",{className:`${t} px-2 align-middle text-center text-lg`,children:(E=r.gcAttendees[0])==null?void 0:E.name}),o.jsx("td",{className:`${t} px-2 align-middle ${p((T=r.gcAttendees[1])==null?void 0:T.role)}`,children:x((U=r.gcAttendees[1])==null?void 0:U.role)}),o.jsx("td",{className:`${t} px-2 align-middle text-center text-lg`,children:(P=r.gcAttendees[1])==null?void 0:P.name})]}),o.jsxs("tr",{className:"h-12",children:[o.jsx("td",{className:`${t} px-2 align-middle ${p((Z=r.gcAttendees[2])==null?void 0:Z.role)}`,children:x((B=r.gcAttendees[2])==null?void 0:B.role)}),o.jsx("td",{className:`${t} px-2 align-middle text-center text-lg`,children:(me=r.gcAttendees[2])==null?void 0:me.name}),o.jsx("td",{className:`${t} px-2 align-middle ${p((de=r.gcAttendees[3])==null?void 0:de.role)}`,children:x((te=r.gcAttendees[3])==null?void 0:te.role)}),o.jsx("td",{className:`${t} px-2 align-middle text-center text-lg`,children:(ce=r.gcAttendees[3])==null?void 0:ce.name})]}),o.jsxs("tr",{className:"h-12",children:[o.jsx("td",{className:`${t} px-2 align-middle ${p((Se=r.gcAttendees[4])==null?void 0:Se.role)}`,children:x((je=r.gcAttendees[4])==null?void 0:je.role)}),o.jsx("td",{className:`${t} px-2 align-middle text-center text-lg`,children:(M=r.gcAttendees[4])==null?void 0:M.name}),o.jsx("td",{className:`${t} px-2 align-middle ${p((A=r.gcAttendees[5])==null?void 0:A.role)}`,children:x((R=r.gcAttendees[5])==null?void 0:R.role)}),o.jsx("td",{className:`${t} px-2 align-middle text-center text-lg`,children:(O=r.gcAttendees[5])==null?void 0:O.name})]}),o.jsxs("tr",{className:"h-12",children:[o.jsx("td",{className:`${t} px-2 align-middle ${p((j=r.gcAttendees[6])==null?void 0:j.role)}`,children:x((D=r.gcAttendees[6])==null?void 0:D.role)}),o.jsx("td",{className:`${t} px-2 align-middle text-center text-lg`,children:(S=r.gcAttendees[6])==null?void 0:S.name}),o.jsx("td",{className:`${t} px-2 align-middle ${p((be=r.gcAttendees[7])==null?void 0:be.role)}`,children:x((ye=r.gcAttendees[7])==null?void 0:ye.role)}),o.jsx("td",{className:`${t} px-2 align-middle text-center text-lg`,children:(F=r.gcAttendees[7])==null?void 0:F.name})]})]})]})}),o.jsx("div",{children:o.jsxs("table",{className:`w-full border-collapse ${t}`,children:[o.jsxs("thead",{children:[o.jsx("tr",{children:o.jsx("th",{className:`${t} ${s}`,colSpan:3,children:"              "})}),o.jsxs("tr",{children:[o.jsx("th",{className:`${t} w-1/3 py-1 font-normal`,children:""}),o.jsx("th",{className:`${t} w-1/3 py-1 font-normal`,children:"     "}),o.jsx("th",{className:`${t} w-1/3 py-1 font-normal`,children:""})]})]}),o.jsxs("tbody",{children:[r.subcontractorAttendees.map(Q=>o.jsxs("tr",{className:"h-12",children:[o.jsx("td",{className:`${t} px-2 align-middle`,children:Q.company}),o.jsx("td",{className:`${t} px-2 align-middle`,children:Q.role}),o.jsx("td",{className:`${t} px-2 align-middle text-center`,children:Q.signatureDataUrl?o.jsx("img",{src:Q.signatureDataUrl,alt:Q.name,className:"h-10 mx-auto object-contain"}):Q.name})]},Q.id)),u.map((Q,he)=>o.jsxs("tr",{className:"h-12",children:[o.jsx("td",{className:`${t}`}),o.jsx("td",{className:`${t}`}),o.jsx("td",{className:`${t}`})]},`blank-${he}`))]})]})})]})]})},u0=Symbol.for("constructDateFrom");function Mv(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&u0 in r?r[u0](t):r instanceof Date?new r.constructor(t):new Date(t)}function Iv(r,t){return Mv(r,r)}function ki(r,t){return Iv(r).getDay()}function Ov(r,t){const s=Iv(r),i=s.getFullYear(),c=s.getMonth(),u=Mv(s,0);return u.setFullYear(i,c+1,0),u.setHours(0,0,0,0),u.getDate()}const $T=["","","","","","",""],YT=r=>{const t=r.getFullYear(),s=r.getMonth()+1,i=r.getDate();if(s===1&&i===1||s===2&&i===11||s===2&&i===23||s===4&&i===29||s===5&&i===3||s===5&&i===4||s===5&&i===5||s===8&&i===11||s===11&&i===3||s===11&&i===23)return!0;const c=Math.floor(20.8431+.242194*(t-1980)-Math.floor((t-1980)/4)),u=Math.floor(23.2488+.242194*(t-1980)-Math.floor((t-1980)/4));return s===3&&i===c||s===9&&i===u},Ru=({data:r})=>{const t="border-2 border-black",s="border border-black",i="bg-cyan-100",c=W.useMemo(()=>{const m=new Date(r.year,r.month-1,1),x=Ov(m),p=[];for(let g=1;g<=x;g++){const v=new Date(r.year,r.month-1,g),E=ki(v)===0,T=ki(v)===6,U=YT(v);let P="",Z="";E||U?(P="text-red-600",Z="bg-red-50"):T&&(P="text-blue-600",Z="bg-blue-50"),p.push({date:g,dayOfWeek:$T[ki(v)],colorClass:P,bgClass:Z})}return p},[r.year,r.month]),u=W.useMemo(()=>{const m=c.length,x=Math.floor(m/5),p=m%5;return Array.from({length:5}).map((g,v)=>x+(v<p?1:0))},[c.length]);return o.jsxs("div",{className:"bg-white w-full h-full flex flex-col font-serif text-black p-[10mm]",style:{width:"297mm",height:"210mm"},children:[o.jsxs("div",{className:"flex justify-between items-start mb-2 h-[38mm]",children:[o.jsxs("div",{className:"flex-1 flex flex-col justify-center pb-2 h-full",children:[o.jsxs("div",{className:"flex items-end mb-4 pl-4",children:[o.jsxs("span",{className:"text-xl",children:[" ",r.year-2018,"  ",r.month," "]}),o.jsx("h1",{className:"text-3xl font-bold border-b-2 border-black ml-4 px-2 tracking-widest",children:""})]}),o.jsxs("div",{className:"flex flex-col gap-1 pl-4 text-sm",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-bold mr-2 w-16 text-right",children:" :"}),r.project]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-bold mr-2 w-16 text-right",children:" :"}),r.location]})]})]}),o.jsxs("div",{className:"w-[100mm] h-full flex flex-col justify-end",children:[o.jsxs("div",{className:"text-[10px] text-right mb-0.5",children:["",r.createdDate,""]}),o.jsxs("table",{className:`w-full ${t} text-[10px] border-collapse`,children:[o.jsxs("colgroup",{children:[o.jsx("col",{className:"w-[15%]"}),o.jsx("col",{className:"w-[25%]"}),o.jsx("col",{className:"w-[35%]"}),o.jsx("col",{className:"w-[25%]"})]}),o.jsx("thead",{children:o.jsxs("tr",{className:i,children:[o.jsx("th",{className:`${s} py-0.5 font-normal`,children:""}),o.jsx("th",{className:`${s} py-0.5 font-normal`,children:""}),o.jsx("th",{className:`${s} py-0.5 font-normal`,children:""}),o.jsx("th",{className:`${s} py-0.5 font-normal`,children:""})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{className:`${s} text-center`,children:""}),o.jsx("td",{className:`${s} text-center`,children:r.trainingDate}),o.jsx("td",{className:`${s} text-center`,children:""}),o.jsx("td",{className:`${s} text-center`,children:r.trainingLeader})]}),o.jsxs("tr",{children:[o.jsx("td",{className:`${s} text-center`,children:""}),o.jsx("td",{className:`${s} text-center`,children:r.councilDate}),o.jsx("td",{className:`${s} text-center`,children:""}),o.jsx("td",{className:`${s} text-center`,children:r.councilLeader})]}),o.jsxs("tr",{children:[o.jsx("td",{className:`${s} text-center`,children:""}),o.jsx("td",{className:`${s} text-center`,children:r.patrolDate}),o.jsx("td",{className:`${s} bg-gray-100`}),o.jsx("td",{className:`${s} bg-gray-100`})]}),o.jsxs("tr",{children:[o.jsx("td",{className:`${s} bg-gray-100`}),o.jsx("td",{className:`${s} bg-gray-100`}),o.jsx("td",{className:`${s} text-center`,children:""}),o.jsx("td",{className:`${s} text-center`,children:r.author})]})]})]})]})]}),o.jsx("div",{className:"flex-1 flex flex-col border-2 border-black overflow-hidden relative",children:o.jsxs("table",{className:"w-full h-full border-collapse table-fixed text-[10px]",children:[o.jsxs("colgroup",{children:[o.jsx("col",{className:"w-[35mm]"}),c.map(m=>o.jsx("col",{},m.date)),o.jsx("col",{className:"w-[10mm]"})]}),o.jsxs("thead",{children:[o.jsxs("tr",{className:"h-[8mm]",children:[o.jsx("th",{className:`${s} ${i} font-normal`,children:""}),o.jsx("th",{className:`${s} ${i}`,colSpan:c.length,children:o.jsxs("div",{className:"flex justify-around text-xs font-bold",children:[o.jsx("span",{children:""}),o.jsx("span",{children:""}),o.jsx("span",{children:""})]})}),o.jsx("th",{className:`${s} ${i} font-normal`,rowSpan:4,children:""})]}),o.jsxs("tr",{className:"h-[5mm]",children:[o.jsx("th",{className:`${s} bg-gray-50 font-normal`,children:""}),o.jsxs("th",{className:`${s} font-normal text-center`,colSpan:c.length,children:[r.month,""]})]}),o.jsxs("tr",{className:"h-[5mm]",children:[o.jsx("th",{className:`${s} bg-gray-50 font-normal`,children:""}),c.map(m=>o.jsx("th",{className:`${s} font-normal text-center ${m.colorClass} ${m.bgClass}`,children:m.date},m.date))]}),o.jsxs("tr",{className:"h-[5mm]",children:[o.jsx("th",{className:`${s} bg-gray-50 font-normal`,children:" "}),c.map(m=>o.jsx("th",{className:`${s} font-normal text-center ${m.colorClass} ${m.bgClass}`,children:m.dayOfWeek},m.date))]})]}),o.jsxs("tbody",{children:[r.processRows.map(m=>o.jsxs("tr",{className:"h-[6mm]",children:[o.jsx("td",{className:`${s} px-1 align-middle leading-none`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-[8px] transform -rotate-90 origin-center w-3 h-3 block whitespace-nowrap text-gray-500 mr-1",children:m.category}),o.jsx("span",{className:"font-bold text-[9px] truncate",children:m.name})]})}),c.map(x=>{const p=m.bars.some(g=>x.date>=g.startDay&&x.date<=g.endDay);return o.jsx("td",{className:`${s} p-0 relative ${x.bgClass}`,children:p&&o.jsx("div",{className:"absolute inset-y-[30%] left-0 right-0 bg-blue-600"})},x.date)}),o.jsx("td",{className:`${s}`})]},m.id)),Array.from({length:Math.max(0,12-r.processRows.length)}).map((m,x)=>o.jsxs("tr",{className:"h-[6mm]",children:[o.jsx("td",{className:`${s}`}),c.map(p=>o.jsx("td",{className:`${s} ${p.bgClass}`},p.date)),o.jsx("td",{className:`${s}`})]},`fill-${x}`))]}),o.jsxs("tfoot",{children:[o.jsxs("tr",{className:"h-[12mm]",children:[o.jsx("td",{className:`${s} ${i} text-center font-normal`,children:""}),u.map((m,x)=>o.jsx("td",{colSpan:m,className:`${s} align-top p-1 text-[9px]`,children:r.predictions[x]},x)),o.jsx("td",{className:`${s}`})]}),o.jsxs("tr",{className:"h-[18mm]",children:[o.jsxs("td",{className:`${s} ${i} text-center font-normal leading-tight`,children:["",o.jsx("br",{}),""]}),u.map((m,x)=>o.jsx("td",{colSpan:m,className:`${s} align-top p-1 text-[9px]`,children:r.countermeasures[x]},x)),o.jsx("td",{className:`${s}`})]}),o.jsxs("tr",{className:"h-[10mm]",children:[o.jsx("td",{className:`${s} ${i} text-center font-normal leading-tight`,children:""}),u.map((m,x)=>o.jsx("td",{colSpan:m,className:`${s} align-top p-1 text-[9px]`,children:r.inspectionItems[x]},x)),o.jsx("td",{className:`${s}`})]}),o.jsxs("tr",{className:"h-[6mm]",children:[o.jsx("td",{className:`${s} ${i} text-center font-normal`,children:""}),c.map(m=>o.jsx("td",{className:`${s} p-0 text-center text-[8px]`,children:r.safetyDuty[m.date]},m.date)),o.jsx("td",{className:`${s}`})]}),o.jsxs("tr",{className:"h-[10mm]",children:[o.jsx("td",{className:`${s} ${i} text-center font-normal`,children:""}),o.jsx("td",{colSpan:c.length+1,className:`${s} p-1 text-[10px]`,children:r.lastMonthReflection})]})]})]})})]})},h0=({isOpen:r,message:t,onConfirm:s,onCancel:i})=>r?o.jsx("div",{className:"fixed inset-0 z-[60] bg-gray-900 bg-opacity-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-sm w-full p-6 animate-fade-in",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:""}),o.jsx("p",{className:"text-gray-600 mb-6 whitespace-pre-wrap",children:t}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:i,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded hover:bg-gray-200 font-bold",children:""}),o.jsx("button",{onClick:s,className:"px-4 py-2 text-white bg-red-600 rounded hover:bg-red-700 font-bold",children:""})]})]})}):null,QT=({isOpen:r,projectName:t,onConfirm:s,onCancel:i})=>{const[c,u]=W.useState(""),[m,x]=W.useState("");if(W.useEffect(()=>{r&&(u(""),x(""))},[r]),!r)return null;const p=()=>{c==="4043"?s():x("")};return o.jsx("div",{className:"fixed inset-0 z-[80] bg-gray-900 bg-opacity-60 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full p-6 animate-fade-in border-l-8 border-red-600",children:[o.jsxs("h3",{className:"text-xl font-bold text-red-600 mb-4 flex items-center",children:[o.jsx("i",{className:"fa-solid fa-triangle-exclamation mr-2"}),""]}),o.jsxs("p",{className:"text-gray-800 font-bold mb-2",children:["",t,""]}),o.jsxs("div",{className:"bg-red-50 p-3 rounded mb-4 text-sm text-red-800 leading-relaxed",children:[o.jsx("strong",{children:""}),o.jsx("br",{}),"",o.jsx("br",{}),o.jsx("span",{className:"font-bold underline text-red-600 text-base",children:""}),o.jsx("br",{}),""]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" (4043)"}),o.jsx("input",{type:"password",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500 outline-none text-lg tracking-widest",placeholder:"PASS",value:c,onChange:g=>u(g.target.value)}),m&&o.jsxs("p",{className:"text-red-500 text-xs mt-1 font-bold",children:[o.jsx("i",{className:"fa-solid fa-circle-exclamation mr-1"}),m]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 font-bold text-gray-600",children:""}),o.jsx("button",{onClick:p,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 font-bold shadow-md",children:""})]})]})})},KT=({title:r,items:t,onUpdate:s,onDeleteRequest:i,onBack:c})=>{const[u,m]=W.useState(""),x=t||[],p=()=>{u.trim()&&(s([...x,u.trim()]),m(""))};return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[o.jsx("button",{onClick:c,className:"text-gray-500 hover:text-blue-600",children:o.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})}),o.jsxs("h3",{className:"font-bold text-lg text-gray-800 flex-1",children:[r," ",o.jsxs("span",{className:"text-xs font-normal text-gray-500 bg-gray-100 px-2 py-1 rounded-full ml-2",children:[x.length,""]})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:o.jsxs("ul",{className:"space-y-2",children:[x.map((g,v)=>o.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-3 rounded hover:bg-gray-100 transition-colors",children:[o.jsx("span",{className:"text-sm text-gray-800 break-all mr-2",children:g}),o.jsx("button",{type:"button",onClick:E=>{E.stopPropagation(),i(v,g)},className:"text-gray-400 hover:text-red-600 p-2 rounded hover:bg-red-50 transition-colors",children:o.jsx("i",{className:"fa-solid fa-trash"})})]},v)),x.length===0&&o.jsx("li",{className:"text-gray-400 text-sm italic text-center py-8",children:""})]})}),o.jsx("div",{className:"p-4 border-t bg-gray-50",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-sm bg-white text-black outline-none focus:ring-2 focus:ring-blue-500",placeholder:"...",value:u,onChange:g=>m(g.target.value),onKeyDown:g=>g.key==="Enter"&&p()}),o.jsxs("button",{onClick:p,className:"bg-blue-600 text-white px-6 py-2 rounded-lg text-sm hover:bg-blue-700 font-bold shadow-md",children:[o.jsx("i",{className:"fa-solid fa-plus mr-1"}),""]})]})})]})},f0={projects:"",contractors:"",supervisors:"",locations:"",workplaces:"",subcontractors:"",roles:"",topics:"",jobTypes:"",goals:"",predictions:"",countermeasures:"",processes:"",cautions:""},XT={BASIC:["projects","contractors","supervisors","locations","workplaces","subcontractors"],TRAINING:["roles","topics","jobTypes","goals","predictions","countermeasures"]},d0=["","","",""],ZT=({initialData:r,initialDraftId:t,onBackToMenu:s})=>{const[i,c]=W.useState(1),[u,m]=W.useState(r||k0),[x,p]=W.useState(t||null),[g,v]=W.useState(Mt),[E,T]=W.useState(!1),[U,P]=W.useState(!1),[Z,B]=W.useState("idle"),[me,de]=W.useState(1),[te,ce]=W.useState({isOpen:!1,message:"",onConfirm:()=>{}}),[Se,je]=W.useState(!1),[M,A]=W.useState(!1),[R,O]=W.useState([]),[j,D]=W.useState(null),[S,be]=W.useState("BASIC"),[ye,F]=W.useState(null),[Q,he]=W.useState(null);W.useEffect(()=>{(async()=>{try{const ee=await Ku();v(ee),ee.contractors.length>0&&Ee(ee.contractors[0]),ee.roles.length>0&&Te(ee.roles[0])}catch(ee){console.error("",ee)}})()},[]),W.useEffect(()=>{if(!U)return;const V=()=>{const Ie=window.innerWidth-40;de(Ie<794?Ie/794:1)};return window.addEventListener("resize",V),V(),()=>window.removeEventListener("resize",V)},[U]),W.useEffect(()=>{u.contractor!==""&&xe({contractor:""})},[u.contractor]),W.useEffect(()=>{let V=!1;const ee=[...u.gcAttendees];for(;ee.length<8;)ee.push({role:"",name:""}),V=!0;d0.forEach((Re,Ie)=>{ee[Ie].role!==Re&&(ee[Ie]={...ee[Ie],role:Re},V=!0)}),V&&xe({gcAttendees:ee})},[u.gcAttendees]);const xe=V=>{m(ee=>({...ee,...V})),B("idle"),je(!0)},Pe=async()=>{B("saving");try{const V=await Za(x,"DISASTER_COUNCIL",u);p(V),B("saved"),je(!1),setTimeout(()=>B("idle"),2e3)}catch(V){console.error(V),alert(""),B("idle")}},C=async()=>{B("saving");try{const V=await Za(x,"DISASTER_COUNCIL",u);p(V),B("saved"),je(!1),setTimeout(()=>B("idle"),2e3);const ee=await Dv(u.project);if(ee.length===0){alert(`${u.project}

`);return}O(ee),A(!0)}catch{alert(""),B("idle")}},Y=V=>{D(V.data),A(!1),P(!0)},ue=()=>{const V=document.title;document.title=`_${u.project}_${u.count}`,window.print(),document.title=V},ge=()=>{Se?ce({isOpen:!0,message:`
`,onConfirm:()=>{ce(V=>({...V,isOpen:!1})),s()}}):s()},oe=()=>o.jsxs("div",{className:"p-4 max-w-4xl mx-auto bg-gray-50 min-h-screen flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-0 bg-gray-50 py-4 z-10 border-b",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[o.jsx("i",{className:"fa-solid fa-database mr-2"}),""]}),o.jsxs("button",{onClick:()=>{T(!1),F(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 font-bold",children:[o.jsx("i",{className:"fa-solid fa-xmark mr-1"}),""]})]}),ye?o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(KT,{title:f0[ye],items:g[ye],onBack:()=>F(null),onUpdate:async V=>{const ee={...g,[ye]:V};v(ee),await Vn(ee)},onDeleteRequest:(V,ee)=>{ye==="projects"?he({index:V,name:ee}):ce({isOpen:!0,message:`${ee}`,onConfirm:async()=>{const Re=[...g[ye]];Re.splice(V,1);const Ie={...g,[ye]:Re};v(Ie),await Vn(Ie),ce(at=>({...at,isOpen:!1}))}})}})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-4 mb-6 shrink-0",children:[o.jsxs("button",{onClick:()=>be("BASIC"),className:`flex-1 py-3 rounded-lg font-bold transition-colors ${S==="BASIC"?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 border"}`,children:[o.jsx("i",{className:"fa-solid fa-house-chimney mr-2"}),""]}),o.jsxs("button",{onClick:()=>be("TRAINING"),className:`flex-1 py-3 rounded-lg font-bold transition-colors ${S==="TRAINING"?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 border"}`,children:[o.jsx("i",{className:"fa-solid fa-list-check mr-2"}),""]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-20",children:XT[S].map(V=>{const ee=g[V]||[];return o.jsxs("button",{onClick:()=>F(V),className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:border-blue-400 hover:shadow-md transition-all text-left flex justify-between items-center group",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:f0[V]}),o.jsxs("p",{className:"text-xs text-gray-500",children:[ee.length," "]})]}),o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 group-hover:bg-blue-50 group-hover:text-blue-500 transition-colors",children:o.jsx("i",{className:"fa-solid fa-chevron-right"})})]},V)})})]})]}),we=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 border-l-4 border-green-600 pl-3",children:"STEP 1: "}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsx("select",{className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-black outline-none appearance-none",value:u.project,onChange:V=>xe({project:V.target.value}),children:g.projects.map(V=>o.jsx("option",{value:V,children:V},V))})]}),o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("input",{type:"number",className:"w-20 p-3 border border-gray-300 rounded-lg text-center",value:u.count,onChange:V=>xe({count:parseInt(V.target.value)})}),o.jsx("span",{className:"ml-2",children:""})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsx("input",{type:"date",className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-black outline-none appearance-none",value:u.date,onChange:V=>xe({date:V.target.value})})]}),o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsx("select",{className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-black outline-none appearance-none",value:u.location,onChange:V=>xe({location:V.target.value}),children:g.locations.map(V=>o.jsx("option",{value:V,children:V},V))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsx("input",{type:"time",className:"w-full p-3 border border-gray-300 rounded-lg",value:u.startTime,onChange:V=>xe({startTime:V.target.value})})]}),o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsx("input",{type:"time",className:"w-full p-3 border border-gray-300 rounded-lg",value:u.endTime,onChange:V=>xe({endTime:V.target.value})})]})]}),o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100 text-black outline-none cursor-not-allowed font-bold",value:"",readOnly:!0})]})]}),Ve=(V,ee,Re)=>{const Ie=[...u.gcAttendees];Ie[V]||(Ie[V]={role:"",name:""}),Ie[V]={...Ie[V],[ee]:Re},xe({gcAttendees:Ie})},[Fe,Te]=W.useState(""),[xt,Ee]=W.useState(""),[J,De]=W.useState(0);W.useEffect(()=>{g.contractors.length>0&&!xt&&Ee(g.contractors[0])},[g.contractors,xt]),W.useEffect(()=>{g.roles.length>0&&!Fe&&Te(g.roles[0])},[g.roles,Fe]);const ke=V=>{if(!xt||!Fe)return;const ee={id:Date.now().toString(),company:xt,role:Fe,name:"",signatureDataUrl:V};xe({subcontractorAttendees:[...u.subcontractorAttendees,ee]}),De(Re=>Re+1)},k=()=>o.jsxs("div",{className:"space-y-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 border-l-4 border-green-600 pl-3",children:"STEP 2: "}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsx("h3",{className:"font-bold text-gray-700 mb-3",children:" "}),o.jsx("div",{className:"grid grid-cols-1 gap-3",children:Array.from({length:8}).map((V,ee)=>{var Re,Ie;return o.jsxs("div",{className:"flex items-center gap-2",children:[ee<4?o.jsx("span",{className:"w-40 text-xs font-bold bg-white px-2 py-1 border rounded text-center bg-gray-50 text-gray-700",children:d0[ee]}):o.jsxs("select",{className:"w-40 text-xs font-bold bg-white px-2 py-1 border rounded text-center outline-none appearance-none",value:((Re=u.gcAttendees[ee])==null?void 0:Re.role)||"",onChange:at=>Ve(ee,"role",at.target.value),children:[o.jsx("option",{value:"",children:"()"}),g.roles.map(at=>o.jsx("option",{value:at,children:at},at))]}),o.jsxs("select",{className:"flex-1 p-2 border rounded text-sm bg-white text-black outline-none appearance-none",value:((Ie=u.gcAttendees[ee])==null?void 0:Ie.name)||"",onChange:at=>Ve(ee,"name",at.target.value),children:[o.jsx("option",{value:"",children:""}),g.supervisors.map(at=>o.jsx("option",{value:at,children:at},at))]})]},ee)})})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[o.jsx("h3",{className:"font-bold text-gray-700 mb-3 text-center",children:" "}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500",children:""}),o.jsx("select",{className:"w-full p-2 border rounded bg-white text-black outline-none appearance-none",value:xt,onChange:V=>Ee(V.target.value),children:g.contractors.map(V=>o.jsx("option",{value:V,children:V},V))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500",children:""}),o.jsx("select",{className:"w-full p-2 border rounded bg-white text-black outline-none appearance-none",value:Fe,onChange:V=>Te(V.target.value),children:g.roles.map(V=>o.jsx("option",{value:V,children:V},V))})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),o.jsx("div",{className:"border border-gray-300 rounded",children:o.jsx(Em,{onSave:V=>ke(V),onClear:()=>{},lineWidth:4,keepOpenOnSave:!0},J)})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-gray-700 mb-2",children:[" (",u.subcontractorAttendees.length,")"]}),o.jsxs("div",{className:"space-y-2",children:[u.subcontractorAttendees.map(V=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white border rounded shadow-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-sm",children:V.company}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded",children:V.role}),V.signatureDataUrl&&o.jsx("img",{src:V.signatureDataUrl,alt:"sig",className:"h-6 object-contain border border-gray-200 bg-white"})]})]}),o.jsx("button",{onClick:()=>xe({subcontractorAttendees:u.subcontractorAttendees.filter(ee=>ee.id!==V.id)}),className:"text-red-400 hover:text-red-600",children:o.jsx("i",{className:"fa-solid fa-trash"})})]},V.id)),u.subcontractorAttendees.length===0&&o.jsx("div",{className:"text-center text-gray-400 text-sm py-4",children:""})]})]})]}),se=()=>M?o.jsx("div",{className:"fixed inset-0 z-[70] bg-gray-900 bg-opacity-80 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full p-6 animate-fade-in",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:""}),o.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["",u.project,""]}),o.jsx("div",{className:"space-y-3 mb-6 max-h-60 overflow-y-auto",children:R.map(V=>{const ee=V.data;return o.jsxs("button",{onClick:()=>Y(V),className:"w-full text-left border rounded p-3 hover:bg-blue-50 transition-colors flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-bold text-blue-800",children:[ee.month," "]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[": ",new Date(V.lastModified).toLocaleString("ja-JP")]})]}),o.jsx("i",{className:"fa-solid fa-chevron-right text-gray-400"})]},V.id)})}),o.jsx("button",{onClick:()=>A(!1),className:"w-full py-2 bg-gray-200 text-gray-700 rounded font-bold",children:""})]})}):null,He=()=>U?o.jsxs("div",{className:"fixed inset-0 z-50 bg-gray-900 bg-opacity-90 flex flex-col no-print",children:[o.jsxs("div",{className:"sticky top-0 bg-gray-800 text-white p-4 shadow-lg flex justify-between items-center shrink-0",children:[o.jsxs("h2",{className:"text-lg font-bold",children:[o.jsx("i",{className:"fa-solid fa-eye mr-2"})," "]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 bg-gray-600 rounded hover:bg-gray-500",children:""}),o.jsxs("button",{onClick:ue,className:"px-6 py-2 bg-green-600 rounded font-bold hover:bg-green-500 shadow-md flex items-center",children:[o.jsx("i",{className:"fa-solid fa-print mr-2"})," "]})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-8 flex flex-col items-center gap-10 bg-gray-800",children:[o.jsx("div",{className:"bg-white shadow-2xl",style:{width:"210mm",transform:`scale(${me})`,transformOrigin:"top center"},children:o.jsx(Cu,{data:u})}),j&&o.jsx("div",{className:"bg-white shadow-2xl",style:{width:"1123px",height:"794px",transform:`scale(${me*.7})`,transformOrigin:"top center"},children:o.jsx(Ru,{data:j})})]})]}):null;return E?o.jsxs(o.Fragment,{children:[oe(),o.jsx(h0,{isOpen:te.isOpen,message:te.message,onConfirm:te.onConfirm,onCancel:()=>ce(V=>({...V,isOpen:!1}))}),Q&&o.jsx(QT,{isOpen:!!Q,projectName:Q.name,onCancel:()=>he(null),onConfirm:async()=>{const V=[...g.projects];V.splice(Q.index,1),await bo(Q.name);const ee={...g,projects:V};v(ee),await Vn(ee),he(null)}})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"no-print min-h-screen pb-24 bg-gray-50",children:[o.jsxs("header",{className:"bg-slate-800 text-white p-4 shadow-md sticky top-0 z-10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:ge,className:"text-white hover:text-gray-300",children:o.jsx("i",{className:"fa-solid fa-house"})}),o.jsxs("h1",{className:"text-lg font-bold",children:[o.jsx("i",{className:"fa-solid fa-people-group mr-2"}),""]})]}),o.jsxs("button",{onClick:()=>T(!0),className:"text-xs bg-slate-700 px-2 py-1 rounded hover:bg-slate-600 transition-colors",children:[o.jsx("i",{className:"fa-solid fa-gear mr-1"}),""]})]}),o.jsxs("div",{className:"bg-white p-4 shadow-sm mb-4",children:[o.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-400 mb-2",children:[o.jsx("span",{className:i>=1?"text-green-600":"",children:"STEP 1"}),o.jsx("span",{className:i>=2?"text-green-600":"",children:"STEP 2"})]}),o.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-green-600 h-full transition-all duration-300",style:{width:`${i*50}%`}})})]}),o.jsxs("main",{className:"mx-auto p-4 bg-white shadow-lg rounded-lg min-h-[60vh] max-w-3xl",children:[i===1&&we(),i===2&&k()]}),o.jsxs("footer",{className:"fixed bottom-0 left-0 w-full bg-white border-t p-4 flex justify-between items-center shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-20",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>c(V=>Math.max(1,V-1)),disabled:i===1,className:`px-4 py-3 rounded-lg font-bold ${i===1?"text-gray-300":"text-gray-600 bg-gray-100"}`,children:""}),o.jsxs("button",{onClick:Pe,className:"px-4 py-3 rounded-lg font-bold border border-green-200 text-green-600 bg-green-50 hover:bg-green-100 flex items-center",children:[o.jsx("i",{className:`fa-solid ${Z==="saved"?"fa-check":"fa-save"} mr-2`}),Z==="saved"?"":""]})]}),i<2?o.jsxs("button",{onClick:()=>c(2),className:"px-8 py-3 bg-green-600 text-white rounded-lg font-bold shadow hover:bg-green-700 flex items-center",children:[" ",o.jsx("i",{className:"fa-solid fa-chevron-right ml-2"})]}):o.jsxs("button",{onClick:C,className:"px-8 py-3 bg-cyan-600 text-white rounded-lg font-bold shadow hover:bg-cyan-700 flex items-center",children:[o.jsx("i",{className:"fa-solid fa-file-pdf mr-2"})," "]})]})]}),U&&He(),se(),o.jsx(h0,{isOpen:te.isOpen,message:te.message,onConfirm:te.onConfirm,onCancel:()=>ce({...te,isOpen:!1})}),o.jsxs("div",{className:"hidden print:block",children:[o.jsx(Cu,{data:u}),j&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{pageBreakBefore:"always",breakBefore:"page"}}),o.jsx("div",{style:{width:"297mm",height:"210mm",transform:"rotate(90deg) translate(0, -210mm)",transformOrigin:"top left",position:"absolute",overflow:"hidden"},children:o.jsx(Ru,{data:j})})]})]})]})},m0=({isOpen:r,message:t,onConfirm:s,onCancel:i})=>r?o.jsx("div",{className:"fixed inset-0 z-[60] bg-gray-900 bg-opacity-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-sm w-full p-6 animate-fade-in",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:""}),o.jsx("p",{className:"text-gray-600 mb-6 whitespace-pre-wrap",children:t}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:i,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded hover:bg-gray-200 font-bold",children:""}),o.jsx("button",{onClick:s,className:"px-4 py-2 text-white bg-red-600 rounded hover:bg-red-700 font-bold",children:""})]})]})}):null,JT=({isOpen:r,projectName:t,onConfirm:s,onCancel:i})=>{const[c,u]=W.useState(""),[m,x]=W.useState("");if(W.useEffect(()=>{r&&(u(""),x(""))},[r]),!r)return null;const p=()=>{c==="4043"?s():x("")};return o.jsx("div",{className:"fixed inset-0 z-[80] bg-gray-900 bg-opacity-60 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full p-6 animate-fade-in border-l-8 border-red-600",children:[o.jsxs("h3",{className:"text-xl font-bold text-red-600 mb-4 flex items-center",children:[o.jsx("i",{className:"fa-solid fa-triangle-exclamation mr-2"}),""]}),o.jsxs("p",{className:"text-gray-800 font-bold mb-2",children:["",t,""]}),o.jsxs("div",{className:"bg-red-50 p-3 rounded mb-4 text-sm text-red-800 leading-relaxed",children:[o.jsx("strong",{children:""}),o.jsx("br",{}),"",o.jsx("br",{}),o.jsx("span",{className:"font-bold underline text-red-600 text-base",children:""}),o.jsx("br",{}),""]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" (4043)"}),o.jsx("input",{type:"password",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500 outline-none text-lg tracking-widest",placeholder:"PASS",value:c,onChange:g=>u(g.target.value)}),m&&o.jsxs("p",{className:"text-red-500 text-xs mt-1 font-bold",children:[o.jsx("i",{className:"fa-solid fa-circle-exclamation mr-1"}),m]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 font-bold text-gray-600",children:""}),o.jsx("button",{onClick:p,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 font-bold shadow-md",children:""})]})]})})},WT=({title:r,items:t,onUpdate:s,onDeleteRequest:i,onBack:c})=>{const[u,m]=W.useState(""),x=t||[],p=()=>{u.trim()&&(s([...x,u.trim()]),m(""))};return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[o.jsx("button",{onClick:c,className:"text-gray-500 hover:text-blue-600",children:o.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})}),o.jsxs("h3",{className:"font-bold text-lg text-gray-800 flex-1",children:[r," ",o.jsxs("span",{className:"text-xs font-normal text-gray-500 bg-gray-100 px-2 py-1 rounded-full ml-2",children:[x.length,""]})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:o.jsxs("ul",{className:"space-y-2",children:[x.map((g,v)=>o.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-3 rounded hover:bg-gray-100 transition-colors",children:[o.jsx("span",{className:"text-sm text-gray-800 break-all mr-2",children:g}),o.jsx("button",{type:"button",onClick:E=>{E.stopPropagation(),i(v,g)},className:"text-gray-400 hover:text-red-600 p-2 rounded hover:bg-red-50 transition-colors",children:o.jsx("i",{className:"fa-solid fa-trash"})})]},v)),x.length===0&&o.jsx("li",{className:"text-gray-400 text-sm italic text-center py-8",children:""})]})}),o.jsx("div",{className:"p-4 border-t bg-gray-50",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-sm bg-white text-black outline-none focus:ring-2 focus:ring-blue-500",placeholder:"...",value:u,onChange:g=>m(g.target.value),onKeyDown:g=>g.key==="Enter"&&p()}),o.jsxs("button",{onClick:p,className:"bg-blue-600 text-white px-6 py-2 rounded-lg text-sm hover:bg-blue-700 font-bold shadow-md",children:[o.jsx("i",{className:"fa-solid fa-plus mr-1"}),""]})]})})]})},g0={projects:"",contractors:"",supervisors:"",locations:"",workplaces:"",subcontractors:"",roles:"",topics:"",jobTypes:"",goals:"",predictions:"",countermeasures:"",processes:"",cautions:""},ej={BASIC:["projects","contractors","supervisors","locations","workplaces"],TRAINING:["roles","topics","jobTypes","goals","predictions","countermeasures"]},p0=["","","",""],tj=({initialData:r,initialDraftId:t,onBackToMenu:s})=>{const[i,c]=W.useState(1),[u,m]=W.useState(r||k0),[x,p]=W.useState(t||null),[g,v]=W.useState(Mt),[E,T]=W.useState(!1),[U,P]=W.useState(!1),[Z,B]=W.useState("idle"),[me,de]=W.useState(1),[te,ce]=W.useState({isOpen:!1,message:"",onConfirm:()=>{}}),[Se,je]=W.useState(!1),[M,A]=W.useState(!1),[R,O]=W.useState([]),[j,D]=W.useState(null),[S,be]=W.useState("BASIC"),[ye,F]=W.useState(null),[Q,he]=W.useState(null);W.useEffect(()=>{(async()=>{try{const ee=await Ku();v(ee),ee.contractors.length>0&&Ee(ee.contractors[0]),ee.roles.length>0&&Te(ee.roles[0])}catch(ee){console.error("",ee)}})()},[]),W.useEffect(()=>{if(!U)return;const V=()=>{const Ie=window.innerWidth-40;de(Ie<794?Ie/794:1)};return window.addEventListener("resize",V),V(),()=>window.removeEventListener("resize",V)},[U]),W.useEffect(()=>{u.contractor!==""&&xe({contractor:""})},[u.contractor]),W.useEffect(()=>{let V=!1;const ee=[...u.gcAttendees];for(;ee.length<8;)ee.push({role:"",name:""}),V=!0;p0.forEach((Re,Ie)=>{ee[Ie].role!==Re&&(ee[Ie]={...ee[Ie],role:Re},V=!0)}),V&&xe({gcAttendees:ee})},[u.gcAttendees]);const xe=V=>{m(ee=>({...ee,...V})),B("idle"),je(!0)},Pe=async()=>{B("saving");try{const V=await Za(x,"DISASTER_COUNCIL",u);p(V),B("saved"),je(!1),setTimeout(()=>B("idle"),2e3)}catch(V){console.error(V),alert(""),B("idle")}},C=async()=>{B("saving");try{const V=await Za(x,"DISASTER_COUNCIL",u);p(V),B("saved"),je(!1),setTimeout(()=>B("idle"),2e3);const ee=await Dv(u.project);if(ee.length===0){alert(`${u.project}

`);return}O(ee),A(!0)}catch{alert(""),B("idle")}},Y=V=>{D(V.data),A(!1),P(!0)},ue=()=>{const V=document.title;document.title=`_${u.project}_${u.count}`,window.print(),document.title=V},ge=()=>{Se?ce({isOpen:!0,message:`
`,onConfirm:()=>{ce(V=>({...V,isOpen:!1})),s()}}):s()},oe=()=>o.jsxs("div",{className:"p-4 max-w-4xl mx-auto bg-gray-50 min-h-screen flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-0 bg-gray-50 py-4 z-10 border-b",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[o.jsx("i",{className:"fa-solid fa-database mr-2"}),""]}),o.jsxs("button",{onClick:()=>{T(!1),F(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 font-bold",children:[o.jsx("i",{className:"fa-solid fa-xmark mr-1"}),""]})]}),ye?o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(WT,{title:g0[ye],items:g[ye],onBack:()=>F(null),onUpdate:async V=>{const ee={...g,[ye]:V};v(ee),await Vn(ee)},onDeleteRequest:(V,ee)=>{ye==="projects"?he({index:V,name:ee}):ce({isOpen:!0,message:`${ee}`,onConfirm:async()=>{const Re=[...g[ye]];Re.splice(V,1);const Ie={...g,[ye]:Re};v(Ie),await Vn(Ie),ce(at=>({...at,isOpen:!1}))}})}})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-4 mb-6 shrink-0",children:[o.jsxs("button",{onClick:()=>be("BASIC"),className:`flex-1 py-3 rounded-lg font-bold transition-colors ${S==="BASIC"?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 border"}`,children:[o.jsx("i",{className:"fa-solid fa-house-chimney mr-2"}),""]}),o.jsxs("button",{onClick:()=>be("TRAINING"),className:`flex-1 py-3 rounded-lg font-bold transition-colors ${S==="TRAINING"?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 border"}`,children:[o.jsx("i",{className:"fa-solid fa-list-check mr-2"}),""]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-20",children:ej[S].map(V=>{const ee=g[V]||[];return o.jsxs("button",{onClick:()=>F(V),className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:border-blue-400 hover:shadow-md transition-all text-left flex justify-between items-center group",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:g0[V]}),o.jsxs("p",{className:"text-xs text-gray-500",children:[ee.length," "]})]}),o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 group-hover:bg-blue-50 group-hover:text-blue-500 transition-colors",children:o.jsx("i",{className:"fa-solid fa-chevron-right"})})]},V)})})]})]}),we=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 border-l-4 border-green-600 pl-3",children:"STEP 1: "}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsx("select",{className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-black outline-none appearance-none",value:u.project,onChange:V=>xe({project:V.target.value}),children:g.projects.map(V=>o.jsx("option",{value:V,children:V},V))})]}),o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("input",{type:"number",className:"w-20 p-3 border border-gray-300 rounded-lg text-center",value:u.count,onChange:V=>xe({count:parseInt(V.target.value)})}),o.jsx("span",{className:"ml-2",children:""})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsx("input",{type:"date",className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-black outline-none appearance-none",value:u.date,onChange:V=>xe({date:V.target.value})})]}),o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsx("select",{className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-black outline-none appearance-none",value:u.location,onChange:V=>xe({location:V.target.value}),children:g.locations.map(V=>o.jsx("option",{value:V,children:V},V))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsx("input",{type:"time",className:"w-full p-3 border border-gray-300 rounded-lg",value:u.startTime,onChange:V=>xe({startTime:V.target.value})})]}),o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsx("input",{type:"time",className:"w-full p-3 border border-gray-300 rounded-lg",value:u.endTime,onChange:V=>xe({endTime:V.target.value})})]})]}),o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100 text-black outline-none cursor-not-allowed font-bold",value:"",readOnly:!0})]})]}),Ve=(V,ee,Re)=>{const Ie=[...u.gcAttendees];Ie[V]||(Ie[V]={role:"",name:""}),Ie[V]={...Ie[V],[ee]:Re},xe({gcAttendees:Ie})},[Fe,Te]=W.useState(""),[xt,Ee]=W.useState(""),[J,De]=W.useState(0);W.useEffect(()=>{g.contractors.length>0&&!xt&&Ee(g.contractors[0])},[g.contractors,xt]),W.useEffect(()=>{g.roles.length>0&&!Fe&&Te(g.roles[0])},[g.roles,Fe]);const ke=V=>{if(!xt||!Fe)return;const ee={id:Date.now().toString(),company:xt,role:Fe,name:"",signatureDataUrl:V};xe({subcontractorAttendees:[...u.subcontractorAttendees,ee]}),De(Re=>Re+1)},k=()=>o.jsxs("div",{className:"space-y-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 border-l-4 border-green-600 pl-3",children:"STEP 2: "}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsx("h3",{className:"font-bold text-gray-700 mb-3",children:" "}),o.jsx("div",{className:"grid grid-cols-1 gap-3",children:Array.from({length:8}).map((V,ee)=>{var Re,Ie;return o.jsxs("div",{className:"flex items-center gap-2",children:[ee<4?o.jsx("span",{className:"w-40 h-10 flex items-center justify-center text-xs font-bold bg-gray-50 px-2 border rounded text-gray-700",children:p0[ee]}):o.jsxs("select",{className:"w-40 h-10 text-xs font-bold bg-white px-2 border rounded text-center outline-none appearance-none",value:((Re=u.gcAttendees[ee])==null?void 0:Re.role)||"",onChange:at=>Ve(ee,"role",at.target.value),children:[o.jsx("option",{value:"",children:"()"}),g.roles.map(at=>o.jsx("option",{value:at,children:at},at))]}),o.jsxs("select",{className:"flex-1 h-10 p-2 border rounded text-sm bg-white text-black outline-none appearance-none",value:((Ie=u.gcAttendees[ee])==null?void 0:Ie.name)||"",onChange:at=>Ve(ee,"name",at.target.value),children:[o.jsx("option",{value:"",children:""}),g.supervisors.map(at=>o.jsx("option",{value:at,children:at},at))]})]},ee)})})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[o.jsx("h3",{className:"font-bold text-gray-700 mb-3 text-center",children:" "}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500",children:""}),o.jsx("select",{className:"w-full p-2 border rounded bg-white text-black outline-none appearance-none",value:xt,onChange:V=>Ee(V.target.value),children:g.contractors.map(V=>o.jsx("option",{value:V,children:V},V))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500",children:""}),o.jsx("select",{className:"w-full p-2 border rounded bg-white text-black outline-none appearance-none",value:Fe,onChange:V=>Te(V.target.value),children:g.roles.map(V=>o.jsx("option",{value:V,children:V},V))})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),o.jsx("div",{className:"border border-gray-300 rounded",children:o.jsx(Em,{onSave:V=>ke(V),onClear:()=>{},lineWidth:4,keepOpenOnSave:!0},J)})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-gray-700 mb-2",children:[" (",u.subcontractorAttendees.length,")"]}),o.jsxs("div",{className:"space-y-2",children:[u.subcontractorAttendees.map(V=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white border rounded shadow-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-sm",children:V.company}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded",children:V.role}),V.signatureDataUrl&&o.jsx("img",{src:V.signatureDataUrl,alt:"sig",className:"h-6 object-contain border border-gray-200 bg-white"})]})]}),o.jsx("button",{onClick:()=>xe({subcontractorAttendees:u.subcontractorAttendees.filter(ee=>ee.id!==V.id)}),className:"text-red-400 hover:text-red-600",children:o.jsx("i",{className:"fa-solid fa-trash"})})]},V.id)),u.subcontractorAttendees.length===0&&o.jsx("div",{className:"text-center text-gray-400 text-sm py-4",children:""})]})]})]}),se=()=>M?o.jsx("div",{className:"fixed inset-0 z-[70] bg-gray-900 bg-opacity-80 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full p-6 animate-fade-in",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:""}),o.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["",u.project,""]}),o.jsx("div",{className:"space-y-3 mb-6 max-h-60 overflow-y-auto",children:R.map(V=>{const ee=V.data;return o.jsxs("button",{onClick:()=>Y(V),className:"w-full text-left border rounded p-3 hover:bg-blue-50 transition-colors flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-bold text-blue-800",children:[ee.month," "]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[": ",new Date(V.lastModified).toLocaleString("ja-JP")]})]}),o.jsx("i",{className:"fa-solid fa-chevron-right text-gray-400"})]},V.id)})}),o.jsx("button",{onClick:()=>A(!1),className:"w-full py-2 bg-gray-200 text-gray-700 rounded font-bold",children:""})]})}):null,He=()=>U?o.jsxs("div",{className:"fixed inset-0 z-50 bg-gray-900 bg-opacity-90 flex flex-col no-print",children:[o.jsxs("div",{className:"sticky top-0 bg-gray-800 text-white p-4 shadow-lg flex justify-between items-center shrink-0",children:[o.jsxs("h2",{className:"text-lg font-bold",children:[o.jsx("i",{className:"fa-solid fa-eye mr-2"})," "]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 bg-gray-600 rounded hover:bg-gray-500",children:""}),o.jsxs("button",{onClick:ue,className:"px-6 py-2 bg-green-600 rounded font-bold hover:bg-green-500 shadow-md flex items-center",children:[o.jsx("i",{className:"fa-solid fa-print mr-2"})," "]})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-8 flex flex-col items-center gap-10 bg-gray-800",children:[o.jsx("div",{className:"bg-white shadow-2xl",style:{width:"794px",transform:`scale(${me})`,transformOrigin:"top center"},children:o.jsx(Cu,{data:u})}),j&&o.jsx("div",{className:"bg-white shadow-2xl",style:{width:"1123px",height:"794px",transform:`scale(${me*.7})`,transformOrigin:"top center"},children:o.jsx(Ru,{data:j})})]})]}):null;return E?o.jsxs(o.Fragment,{children:[oe(),o.jsx(m0,{isOpen:te.isOpen,message:te.message,onConfirm:te.onConfirm,onCancel:()=>ce(V=>({...V,isOpen:!1}))}),Q&&o.jsx(JT,{isOpen:!!Q,projectName:Q.name,onCancel:()=>he(null),onConfirm:async()=>{const V=[...g.projects];V.splice(Q.index,1),await bo(Q.name);const ee={...g,projects:V};v(ee),await Vn(ee),he(null)}})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"no-print min-h-screen pb-24 bg-gray-50",children:[o.jsxs("header",{className:"bg-slate-800 text-white p-4 shadow-md sticky top-0 z-10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:ge,className:"text-white hover:text-gray-300",children:o.jsx("i",{className:"fa-solid fa-house"})}),o.jsxs("h1",{className:"text-lg font-bold",children:[o.jsx("i",{className:"fa-solid fa-people-group mr-2"}),""]})]}),o.jsxs("button",{onClick:()=>T(!0),className:"text-xs bg-slate-700 px-2 py-1 rounded hover:bg-slate-600 transition-colors",children:[o.jsx("i",{className:"fa-solid fa-gear mr-1"}),""]})]}),o.jsxs("div",{className:"bg-white p-4 shadow-sm mb-4",children:[o.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-400 mb-2",children:[o.jsx("span",{className:i>=1?"text-green-600":"",children:"STEP 1"}),o.jsx("span",{className:i>=2?"text-green-600":"",children:"STEP 2"})]}),o.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-green-600 h-full transition-all duration-300",style:{width:`${i*50}%`}})})]}),o.jsxs("main",{className:"mx-auto p-4 bg-white shadow-lg rounded-lg min-h-[60vh] max-w-3xl",children:[i===1&&we(),i===2&&k()]}),o.jsxs("footer",{className:"fixed bottom-0 left-0 w-full bg-white border-t p-4 flex justify-between items-center shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-20",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>c(V=>Math.max(1,V-1)),disabled:i===1,className:`px-4 py-3 rounded-lg font-bold ${i===1?"text-gray-300":"text-gray-600 bg-gray-100"}`,children:""}),o.jsxs("button",{onClick:Pe,className:"px-4 py-3 rounded-lg font-bold border border-green-200 text-green-600 bg-green-50 hover:bg-green-100 flex items-center",children:[o.jsx("i",{className:`fa-solid ${Z==="saved"?"fa-check":"fa-save"} mr-2`}),Z==="saved"?"":""]})]}),i<2?o.jsxs("button",{onClick:()=>c(2),className:"px-8 py-3 bg-green-600 text-white rounded-lg font-bold shadow hover:bg-green-700 flex items-center",children:[" ",o.jsx("i",{className:"fa-solid fa-chevron-right ml-2"})]}):o.jsxs("button",{onClick:C,className:"px-8 py-3 bg-cyan-600 text-white rounded-lg font-bold shadow hover:bg-cyan-700 flex items-center",children:[o.jsx("i",{className:"fa-solid fa-file-pdf mr-2"})," "]})]})]}),U&&He(),se(),o.jsx(m0,{isOpen:te.isOpen,message:te.message,onConfirm:te.onConfirm,onCancel:()=>ce({...te,isOpen:!1})}),o.jsxs("div",{className:"hidden print:block",children:[o.jsx(Cu,{data:u}),j&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{pageBreakBefore:"always",breakBefore:"page"}}),o.jsx("div",{style:{width:"297mm",height:"210mm",transform:"rotate(90deg) translate(0, -210mm)",transformOrigin:"top left",position:"absolute",overflow:"hidden"},children:o.jsx(Ru,{data:j})})]})]})]})},y0=({isOpen:r,message:t,onConfirm:s,onCancel:i})=>r?o.jsx("div",{className:"fixed inset-0 z-[60] bg-gray-900 bg-opacity-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-sm w-full p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:""}),o.jsx("p",{className:"text-gray-600 mb-6 whitespace-pre-wrap",children:t}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 font-bold text-gray-600",children:""}),o.jsx("button",{onClick:s,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 font-bold",children:""})]})]})}):null,x0=({isOpen:r,projectName:t,onConfirm:s,onCancel:i})=>{const[c,u]=W.useState(""),[m,x]=W.useState("");if(W.useEffect(()=>{r&&(u(""),x(""))},[r]),!r)return null;const p=()=>{c==="4043"?s():x("")};return o.jsx("div",{className:"fixed inset-0 z-[80] bg-gray-900 bg-opacity-60 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full p-6 animate-fade-in border-l-8 border-red-600",children:[o.jsxs("h3",{className:"text-xl font-bold text-red-600 mb-4 flex items-center",children:[o.jsx("i",{className:"fa-solid fa-triangle-exclamation mr-2"}),""]}),o.jsxs("p",{className:"text-gray-800 font-bold mb-2",children:["",t,""]}),o.jsxs("div",{className:"bg-red-50 p-3 rounded mb-4 text-sm text-red-800 leading-relaxed",children:[o.jsx("strong",{children:""}),o.jsx("br",{}),"",o.jsx("br",{}),o.jsx("span",{className:"font-bold underline text-red-600 text-base",children:""}),o.jsx("br",{}),""]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" (4043)"}),o.jsx("input",{type:"password",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500 outline-none text-lg tracking-widest",placeholder:"PASS",value:c,onChange:g=>u(g.target.value)}),m&&o.jsxs("p",{className:"text-red-500 text-xs mt-1 font-bold",children:[o.jsx("i",{className:"fa-solid fa-circle-exclamation mr-1"}),m]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 font-bold text-gray-600",children:""}),o.jsx("button",{onClick:p,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 font-bold shadow-md",children:""})]})]})})},nj=({title:r,items:t,onUpdate:s,onDeleteRequest:i,onBack:c})=>{const[u,m]=W.useState(""),x=()=>{u.trim()&&(s([...t,u.trim()]),m(""))};return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[o.jsx("button",{onClick:c,className:"text-gray-500 hover:text-blue-600",children:o.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})}),o.jsxs("h3",{className:"font-bold text-lg text-gray-800 flex-1",children:[r," ",o.jsxs("span",{className:"text-xs font-normal text-gray-500 bg-gray-100 px-2 py-1 rounded-full ml-2",children:[t.length,""]})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:o.jsxs("ul",{className:"space-y-2",children:[t.map((p,g)=>o.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-3 rounded hover:bg-gray-100 transition-colors",children:[o.jsx("span",{className:"text-sm text-gray-800 break-all mr-2",children:p}),o.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),i(g,p)},className:"text-gray-400 hover:text-red-600 p-2 rounded hover:bg-red-50 transition-colors",children:o.jsx("i",{className:"fa-solid fa-trash"})})]},g)),t.length===0&&o.jsx("li",{className:"text-gray-400 text-sm italic text-center py-8",children:""})]})}),o.jsx("div",{className:"p-4 border-t bg-gray-50",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-sm bg-white text-black outline-none focus:ring-2 focus:ring-blue-500",placeholder:"...",value:u,onChange:p=>m(p.target.value),onKeyDown:p=>p.key==="Enter"&&x()}),o.jsxs("button",{onClick:x,className:"bg-blue-600 text-white px-6 py-2 rounded-lg text-sm hover:bg-blue-700 font-bold shadow-md",children:[o.jsx("i",{className:"fa-solid fa-plus mr-1"}),""]})]})})]})},b0={projects:"",contractors:"",supervisors:"",locations:"",workplaces:"",subcontractors:"",roles:"",topics:"",jobTypes:"",goals:"",predictions:"",countermeasures:"",processes:"",cautions:""},sj={BASIC:["projects","contractors","supervisors","locations","workplaces"],TRAINING:["goals","processes","topics","cautions"]},aj=["","","","","","",""],rj=r=>{const t=r.getFullYear(),s=r.getMonth()+1,i=r.getDate();if(s===1&&i===1||s===2&&i===11||s===2&&i===23||s===4&&i===29||s===5&&i===3||s===5&&i===4||s===5&&i===5||s===8&&i===11||s===11&&i===3||s===11&&i===23)return!0;const c=(x,p,g)=>{const v=new Date(x,p-1,1).getDay();return 1+(v===1?0:(8-v)%7)+(g-1)*7};if(s===1&&i===c(t,1,2)||s===7&&i===c(t,7,3)||s===9&&i===c(t,9,3)||s===10&&i===c(t,10,2))return!0;const u=Math.floor(20.8431+.242194*(t-1980)-Math.floor((t-1980)/4)),m=Math.floor(23.2488+.242194*(t-1980)-Math.floor((t-1980)/4));return s===3&&i===u||s===9&&i===m},ij=({initialData:r,initialDraftId:t,onBackToMenu:s})=>{const[i,c]=W.useState(r||M1),[u,m]=W.useState(t||null),[x,p]=W.useState(Mt),[g,v]=W.useState(!1),[E,T]=W.useState({isOpen:!1,message:"",onConfirm:()=>{}}),[U,P]=W.useState(!1),[Z,B]=W.useState(null),[me,de]=W.useState(null),[te,ce]=W.useState("idle"),[Se,je]=W.useState(1),[M,A]=W.useState(!1),[R,O]=W.useState("BASIC"),[j,D]=W.useState(null),[S,be]=W.useState(null);W.useEffect(()=>{(async()=>{try{const J=await Ku();p(J)}catch(J){console.error("",J)}})()},[]),W.useEffect(()=>{const Ee=()=>{let He=(window.innerWidth-40)/1122.6599999999999;He>1.2&&(He=1.2),je(He)};return window.addEventListener("resize",Ee),Ee(),()=>window.removeEventListener("resize",Ee)},[]);const ye=W.useMemo(()=>{const Ee=new Date(i.year,i.month-1,1),J=Ov(Ee),De=[];for(let ke=1;ke<=J;ke++){const k=new Date(i.year,i.month-1,ke),se=ki(k)===0,He=ki(k)===6,V=rj(k);let ee="",Re="";se||V?(ee="text-red-600",Re="bg-red-50"):He&&(ee="text-blue-600",Re="bg-blue-50"),De.push({date:ke,dayOfWeek:aj[ki(k)],colorClass:ee,bgClass:Re})}return De},[i.year,i.month]),F=W.useMemo(()=>{const Ee=ye.length,J=Math.floor(Ee/5),De=Ee%5;return Array.from({length:5}).map((ke,k)=>J+(k<De?1:0))},[ye.length]),Q=Ee=>{c(J=>({...J,...Ee})),ce("idle"),A(!0)},he=async()=>{ce("saving");try{const Ee=await Za(u,"SAFETY_PLAN",i);m(Ee),ce("saved"),A(!1),setTimeout(()=>ce("idle"),2e3)}catch(Ee){console.error(Ee),alert(""),ce("idle")}},xe=async()=>{ce("saving");try{const Ee=await Za(u,"SAFETY_PLAN",i);m(Ee),ce("saved"),A(!1),setTimeout(()=>ce("idle"),2e3),setTimeout(()=>window.print(),100)}catch{alert(""),ce("idle")}},Pe=()=>{M?T({isOpen:!0,message:`
`,onConfirm:()=>{T(Ee=>({...Ee,isOpen:!1})),s()}}):s()},C=(Ee,J)=>{if(Z===null)B(Ee),de(J);else if(Z!==Ee)B(Ee),de(J);else{if(me!==null){const De=Math.min(me,J),ke=Math.max(me,J),k=i.processRows.map(se=>{if(se.id===Ee){const He=se.bars.filter(V=>V.endDay<De||V.startDay>ke);return{...se,bars:[...He,{startDay:De,endDay:ke}]}}return se});Q({processRows:k})}B(null),de(null)}},Y=(Ee,J)=>{const De=i.processRows.find(ke=>ke.id===Ee);return De?De.bars.some(ke=>J>=ke.startDay&&J<=ke.endDay):!1},ue=(Ee,J)=>Z!==Ee||me===null?!1:J===me,ge="border-2 border-black",oe="border border-black",we="bg-cyan-100",Ve="w-full h-full bg-transparent outline-none text-center font-serif",Fe="w-full h-full bg-transparent outline-none text-center appearance-none font-serif text-center-last",Te=()=>o.jsxs("div",{className:"p-4 max-w-4xl mx-auto bg-gray-50 min-h-screen flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-0 bg-gray-50 py-4 z-10 border-b",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[o.jsx("i",{className:"fa-solid fa-database mr-2"}),""]}),o.jsxs("button",{onClick:()=>{v(!1),D(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 font-bold",children:[o.jsx("i",{className:"fa-solid fa-xmark mr-1"}),""]})]}),j?o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(nj,{title:b0[j],items:x[j],onBack:()=>D(null),onUpdate:async Ee=>{const J={...x,[j]:Ee};p(J),await Vn(J)},onDeleteRequest:(Ee,J)=>{j==="projects"?be({index:Ee,name:J}):T({isOpen:!0,message:`${J}`,onConfirm:async()=>{const De=[...x[j]];De.splice(Ee,1);const ke={...x,[j]:De};p(ke),await Vn(ke),T(k=>({...k,isOpen:!1}))}})}})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-4 mb-6 shrink-0",children:[o.jsxs("button",{onClick:()=>O("BASIC"),className:`flex-1 py-3 rounded-lg font-bold transition-colors ${R==="BASIC"?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 border"}`,children:[o.jsx("i",{className:"fa-solid fa-house-chimney mr-2"}),""]}),o.jsxs("button",{onClick:()=>O("TRAINING"),className:`flex-1 py-3 rounded-lg font-bold transition-colors ${R==="TRAINING"?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 border"}`,children:[o.jsx("i",{className:"fa-solid fa-list-check mr-2"}),""]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-20",children:sj[R].map(Ee=>{const J=x[Ee]||[];return o.jsxs("button",{onClick:()=>D(Ee),className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:border-blue-400 hover:shadow-md transition-all text-left flex justify-between items-center group",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:b0[Ee]}),o.jsxs("p",{className:"text-xs text-gray-500",children:[J.length," "]})]}),o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 group-hover:bg-blue-50 group-hover:text-blue-500 transition-colors",children:o.jsx("i",{className:"fa-solid fa-chevron-right"})})]},Ee)})})]})]}),xt=(Ee=!1)=>o.jsxs("div",{className:"p-[10mm] w-full h-full flex flex-col font-serif",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2 h-[38mm]",children:[o.jsxs("div",{className:"flex-1 flex flex-col justify-center pb-2 h-full",children:[o.jsxs("div",{className:"flex items-end mb-4 pl-4",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("select",{className:"w-12 text-center text-xl border-b border-black outline-none mx-1 bg-transparent appearance-none",value:i.year-2018,onChange:J=>Q({year:2018+parseInt(J.target.value||"0")}),children:Array.from({length:30},(J,De)=>De+1).map(J=>o.jsx("option",{value:J,children:J},J))}),o.jsx("span",{className:"text-xl mr-4",children:""}),o.jsx("select",{className:"w-10 text-center text-xl border-b border-black outline-none mx-1 bg-transparent appearance-none",value:i.month,onChange:J=>Q({month:parseInt(J.target.value||"0")}),children:Array.from({length:12},(J,De)=>De+1).map(J=>o.jsx("option",{value:J,children:J},J))}),o.jsx("span",{className:"text-xl mr-2",children:""}),o.jsx("h1",{className:"text-3xl font-bold border-b-2 border-black ml-4 px-2 tracking-widest",children:""})]}),o.jsxs("div",{className:"flex flex-col gap-1 pl-4 text-sm",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-bold mr-2 w-16 text-right",children:" :"}),o.jsx("select",{className:"border-b border-black outline-none bg-transparent min-w-[300px] max-w-[500px]",value:i.project,onChange:J=>Q({project:J.target.value}),children:x.projects.map(J=>o.jsx("option",{value:J,children:J},J))})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-bold mr-2 w-16 text-right",children:" :"}),o.jsx("select",{className:"border-b border-black outline-none bg-transparent min-w-[200px]",value:i.location,onChange:J=>Q({location:J.target.value}),children:x.locations.map(J=>o.jsx("option",{value:J,children:J},J))})]})]})]}),o.jsxs("div",{className:"w-[100mm] h-full flex flex-col justify-end",children:[o.jsxs("div",{className:"text-[10px] text-right mb-0.5",children:["",o.jsx("input",{type:"date",className:"bg-transparent text-[10px] w-24 text-right font-serif",value:i.createdDate,onChange:J=>Q({createdDate:J.target.value})}),""]}),o.jsxs("table",{className:`w-full ${ge} text-[10px] border-collapse`,children:[o.jsxs("colgroup",{children:[o.jsx("col",{className:"w-[15%]"}),o.jsx("col",{className:"w-[25%]"}),o.jsx("col",{className:"w-[35%]"}),o.jsx("col",{className:"w-[25%]"})]}),o.jsx("thead",{children:o.jsxs("tr",{className:we,children:[o.jsx("th",{className:`${oe} py-0.5 font-normal`,children:""}),o.jsx("th",{className:`${oe} py-0.5 font-normal`,children:""}),o.jsx("th",{className:`${oe} py-0.5 font-normal`,children:""}),o.jsx("th",{className:`${oe} py-0.5 font-normal`,children:""})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{className:`${oe} text-center`,children:""}),o.jsx("td",{className:`${oe}`,children:o.jsx("input",{type:"date",className:Ve,value:i.trainingDate,onChange:J=>Q({trainingDate:J.target.value})})}),o.jsx("td",{className:`${oe} text-center`,children:""}),o.jsx("td",{className:`${oe}`,children:o.jsx("select",{className:Fe,value:i.trainingLeader,onChange:J=>Q({trainingLeader:J.target.value}),children:x.supervisors.map(J=>o.jsx("option",{value:J,children:J},J))})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:`${oe} text-center`,children:""}),o.jsx("td",{className:`${oe}`,children:o.jsx("input",{type:"date",className:Ve,value:i.councilDate,onChange:J=>Q({councilDate:J.target.value})})}),o.jsx("td",{className:`${oe} text-center`,children:""}),o.jsx("td",{className:`${oe}`,children:o.jsx("select",{className:Fe,value:i.councilLeader,onChange:J=>Q({councilLeader:J.target.value}),children:x.supervisors.map(J=>o.jsx("option",{value:J,children:J},J))})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:`${oe} text-center`,children:""}),o.jsx("td",{className:`${oe}`,children:o.jsx("input",{type:"date",className:Ve,value:i.patrolDate,onChange:J=>Q({patrolDate:J.target.value})})}),o.jsx("td",{className:`${oe} bg-gray-100`}),o.jsx("td",{className:`${oe} bg-gray-100`})]}),o.jsxs("tr",{children:[o.jsx("td",{className:`${oe} bg-gray-100`}),o.jsx("td",{className:`${oe} bg-gray-100`}),o.jsx("td",{className:`${oe} text-center`,children:""}),o.jsx("td",{className:`${oe}`,children:o.jsx("select",{className:Fe,value:i.author,onChange:J=>Q({author:J.target.value}),children:x.supervisors.map(J=>o.jsx("option",{value:J,children:J},J))})})]})]})]})]})]}),o.jsx("div",{className:"flex-1 flex flex-col border-2 border-black overflow-hidden relative",children:o.jsxs("table",{className:"w-full h-full border-collapse table-fixed text-[10px]",children:[o.jsxs("colgroup",{children:[o.jsx("col",{className:"w-[35mm]"}),ye.map(J=>o.jsx("col",{},J.date)),o.jsx("col",{className:"w-[10mm]"})]}),o.jsxs("thead",{children:[o.jsxs("tr",{className:"h-[8mm]",children:[o.jsx("th",{className:`${oe} ${we} font-normal`,children:""}),o.jsx("th",{className:`${oe} ${we}`,colSpan:ye.length,children:o.jsxs("div",{className:"flex justify-around text-xs font-bold",children:[o.jsx("span",{children:""}),o.jsx("span",{children:""}),o.jsx("span",{children:""})]})}),o.jsx("th",{className:`${oe} ${we} font-normal`,rowSpan:4,children:""})]}),o.jsxs("tr",{className:"h-[5mm]",children:[o.jsx("th",{className:`${oe} bg-gray-50 font-normal`,children:""}),o.jsxs("th",{className:`${oe} font-normal text-center`,colSpan:ye.length,children:[i.month,""]})]}),o.jsxs("tr",{className:"h-[5mm]",children:[o.jsx("th",{className:`${oe} bg-gray-50 font-normal`,children:""}),ye.map(J=>o.jsx("th",{className:`${oe} font-normal text-center ${J.colorClass} ${J.bgClass}`,children:J.date},J.date))]}),o.jsxs("tr",{className:"h-[5mm]",children:[o.jsx("th",{className:`${oe} bg-gray-50 font-normal`,children:" "}),ye.map(J=>o.jsx("th",{className:`${oe} font-normal text-center ${J.colorClass} ${J.bgClass}`,children:J.dayOfWeek},J.date))]})]}),o.jsxs("tbody",{children:[i.processRows.map(J=>o.jsxs("tr",{className:"h-[6mm]",children:[o.jsx("td",{className:`${oe} px-1 align-middle leading-none`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-[8px] transform -rotate-90 origin-center w-3 h-3 block whitespace-nowrap text-gray-500 mr-1",children:J.category}),o.jsx("span",{className:"font-bold text-[9px] truncate",children:J.name})]})}),ye.map(De=>{const ke=Y(J.id,De.date),k=ue(J.id,De.date);return o.jsxs("td",{className:`${oe} p-0 relative cursor-pointer hover:bg-yellow-50 ${De.bgClass}`,onClick:()=>!Ee&&C(J.id,De.date),children:[ke&&o.jsx("div",{className:"absolute inset-y-[30%] left-0 right-0 bg-blue-600"}),k&&o.jsx("div",{className:"absolute inset-y-[30%] left-0 right-0 bg-blue-300 opacity-50"})]},De.date)}),o.jsx("td",{className:`${oe}`})]},J.id)),Array.from({length:Math.max(0,12-i.processRows.length)}).map((J,De)=>o.jsxs("tr",{className:"h-[6mm]",children:[o.jsx("td",{className:`${oe}`}),ye.map(ke=>o.jsx("td",{className:`${oe} ${ke.bgClass}`},ke.date)),o.jsx("td",{className:`${oe}`})]},`fill-${De}`))]}),o.jsxs("tfoot",{children:[o.jsxs("tr",{className:"h-[12mm]",children:[o.jsx("td",{className:`${oe} ${we} text-center font-normal`,children:""}),F.map((J,De)=>o.jsx("td",{colSpan:J,className:`${oe} align-top p-0`,children:o.jsxs("select",{className:"w-full h-full bg-transparent text-[9px] outline-none px-1 appearance-none",value:i.predictions[De]||"",onChange:ke=>{const k=[...i.predictions];k[De]=ke.target.value,Q({predictions:k})},children:[o.jsx("option",{value:"",children:"-"}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""})]})},De)),o.jsx("td",{className:`${oe}`})]}),o.jsxs("tr",{className:"h-[18mm]",children:[o.jsxs("td",{className:`${oe} ${we} text-center font-normal leading-tight`,children:["",o.jsx("br",{}),""]}),F.map((J,De)=>o.jsx("td",{colSpan:J,className:`${oe} align-top p-0`,children:o.jsx("textarea",{className:"w-full h-full bg-transparent text-[9px] outline-none resize-none p-1 leading-tight",value:i.countermeasures[De]||"",onChange:ke=>{const k=[...i.countermeasures];k[De]=ke.target.value,Q({countermeasures:k})}})},De)),o.jsx("td",{className:`${oe}`})]}),o.jsxs("tr",{className:"h-[10mm]",children:[o.jsx("td",{className:`${oe} ${we} text-center font-normal leading-tight`,children:""}),F.map((J,De)=>o.jsx("td",{colSpan:J,className:`${oe} align-top p-0`,children:o.jsx("input",{className:"w-full h-full bg-transparent text-[9px] outline-none px-1",value:i.inspectionItems[De]||"",onChange:ke=>{const k=[...i.inspectionItems];k[De]=ke.target.value,Q({inspectionItems:k})}})},De)),o.jsx("td",{className:`${oe}`})]}),o.jsxs("tr",{className:"h-[6mm]",children:[o.jsx("td",{className:`${oe} ${we} text-center font-normal`,children:""}),ye.map(J=>o.jsx("td",{className:`${oe} p-0 text-center`,children:o.jsx("input",{className:"w-full h-full text-[8px] text-center bg-transparent outline-none p-0",value:i.safetyDuty[J.date]||"",onChange:De=>Q({safetyDuty:{...i.safetyDuty,[J.date]:De.target.value}})})},J.date)),o.jsx("td",{className:`${oe}`})]}),o.jsxs("tr",{className:"h-[10mm]",children:[o.jsx("td",{className:`${oe} ${we} text-center font-normal`,children:""}),o.jsx("td",{colSpan:ye.length+1,className:`${oe} p-0`,children:o.jsx("textarea",{className:"w-full h-full p-1 text-[10px] bg-transparent outline-none resize-none leading-tight",value:i.lastMonthReflection,onChange:J=>Q({lastMonthReflection:J.target.value})})})]})]})]})})]});return g?o.jsxs(o.Fragment,{children:[Te(),o.jsx(y0,{isOpen:E.isOpen,message:E.message,onConfirm:E.onConfirm,onCancel:()=>T({...E,isOpen:!1})}),S&&o.jsx(x0,{isOpen:!!S,projectName:S.name,onCancel:()=>be(null),onConfirm:async()=>{const Ee=[...x.projects];Ee.splice(S.index,1),await bo(S.name);const J={...x,projects:Ee};p(J),await Vn(J),be(null)}})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"no-print min-h-screen bg-gray-50 flex flex-col",children:[o.jsxs("header",{className:"bg-slate-800 text-white p-4 shadow-md sticky top-0 z-30 flex justify-between items-center shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:Pe,className:"text-white hover:text-gray-300 transition-colors",children:o.jsx("i",{className:"fa-solid fa-house"})}),o.jsxs("h1",{className:"text-lg font-bold",children:[o.jsx("i",{className:"fa-solid fa-clipboard-list mr-2"}),""]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:he,className:"px-4 py-2 rounded font-bold border border-blue-400 text-white bg-blue-600 hover:bg-blue-500 flex items-center text-sm transition-colors shadow-sm",children:[o.jsx("i",{className:`fa-solid ${te==="saved"?"fa-check":"fa-save"} mr-2`}),te==="saved"?"":""]}),o.jsxs("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-cyan-600 text-white rounded font-bold hover:bg-cyan-500 flex items-center text-sm transition-colors shadow-sm",children:[o.jsx("i",{className:"fa-solid fa-file-pdf mr-2"})," "]}),o.jsxs("button",{onClick:()=>v(!0),className:"text-xs bg-slate-700 px-3 py-2 rounded hover:bg-slate-600 transition-colors ml-2 shadow-sm",children:[o.jsx("i",{className:"fa-solid fa-gear mr-1"}),""]})]})]}),o.jsx("main",{className:"flex-1 overflow-auto p-4 bg-gray-100 flex justify-center",children:o.jsx("div",{className:"bg-white shadow-xl origin-top",style:{width:"297mm",minHeight:"210mm"},children:xt(!1)})})]}),U&&o.jsxs("div",{className:"fixed inset-0 z-50 bg-gray-900 bg-opacity-95 flex flex-col no-print",children:[o.jsxs("div",{className:"sticky top-0 bg-gray-800 text-white p-4 shadow-lg flex justify-between items-center shrink-0",children:[o.jsxs("h2",{className:"text-lg font-bold",children:[o.jsx("i",{className:"fa-solid fa-eye mr-2"}),""]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 bg-gray-600 rounded hover:bg-gray-500 transition-colors",children:""}),o.jsxs("button",{onClick:xe,className:"px-6 py-2 bg-green-600 rounded font-bold shadow-md flex items-center hover:bg-green-500 transition-colors",children:[o.jsx("i",{className:"fa-solid fa-print mr-2"})," "]})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-8 flex justify-center items-start bg-gray-800",children:o.jsx("div",{style:{width:"297mm",transform:`scale(${Se})`,transformOrigin:"top center",marginBottom:`${(Se-1)*100}%`},children:o.jsx("div",{className:"bg-white shadow-2xl",children:xt(!0)})})})]}),o.jsxs("div",{className:"hidden print:block",children:[o.jsx("style",{children:"@media print { @page { size: landscape; } }"}),o.jsx("div",{className:"print-page-landscape",children:xt(!0)})]}),o.jsx(y0,{isOpen:E.isOpen,message:E.message,onConfirm:E.onConfirm,onCancel:()=>T({...E,isOpen:!1})}),S&&o.jsx(x0,{isOpen:!!S,projectName:S.name,onCancel:()=>be(null),onConfirm:async()=>{const Ee=[...x.projects];Ee.splice(S.index,1),await bo(S.name);const J={...x,projects:Ee};p(J),await Vn(J),be(null)}})]})},lj=r=>{if(!r)return"text-[10px]";const t=r.length;return t>40?"text-[6px]":t>30?"text-[7px]":t>20?"text-[8px]":"text-[10px]"},v0=({data:r})=>{if(!r)return null;const t=r.qualifications||{},s="border-b border-r border-black",i=({checked:u,label:m})=>o.jsxs("div",{className:"flex items-center text-[10px] leading-tight mb-0.5",children:[o.jsx("div",{className:`w-3.5 h-3.5 border border-black flex items-center justify-center mr-1.5 text-[10px] shrink-0 font-sans ${u?"font-bold":""}`,children:u?"":""}),o.jsx("span",{className:"whitespace-nowrap",children:m})]}),c=["","","","","","",""];return o.jsx("div",{className:"font-serif text-black leading-tight bg-white relative",children:o.jsxs("div",{className:"print-page p-[12mm] flex flex-col box-border",style:{height:"297mm",width:"210mm"},children:[o.jsx("h1",{className:"text-3xl font-bold text-center mb-6 tracking-[0.5em] shrink-0",children:""}),o.jsxs("div",{className:"w-full border-2 border-black flex-1 flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex border-b border-black shrink-0 h-[64px]",children:[o.jsxs("div",{className:`w-24 ${s} bg-gray-50 flex flex-col justify-center items-center p-1`,children:[o.jsx("span",{className:"text-[10px] mb-1",children:""}),o.jsx("span",{className:"font-bold text-base",children:""})]}),o.jsxs("div",{className:`w-64 ${s} p-1 flex flex-col justify-center`,children:[o.jsxs("div",{className:"text-xs text-center w-full mb-0.5",children:[r.furiganaSei,"",r.furiganaMei]}),o.jsxs("div",{className:"text-xl text-center font-bold",children:[r.nameSei,"",r.nameMei]})]}),o.jsx("div",{className:`w-24 ${s} bg-gray-50 flex items-center justify-center font-bold text-sm text-center`,children:""}),o.jsx("div",{className:`flex-1 ${s} flex items-center justify-center p-1`,children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsxs("div",{className:"flex flex-col text-[10px] leading-none mr-1 gap-1",children:[o.jsx("div",{className:`w-4 h-4 flex items-center justify-center ${r.birthEra==="Showa"?"border border-black rounded-full font-bold":"text-gray-400"}`,children:""}),o.jsx("div",{className:`w-4 h-4 flex items-center justify-center ${r.birthEra==="Heisei"?"border border-black rounded-full font-bold":"text-gray-400"}`,children:""})]}),o.jsx("span",{className:"text-lg font-bold",children:r.birthYear}),o.jsx("span",{className:"text-xs",children:""}),o.jsx("span",{className:"text-lg font-bold",children:r.birthMonth}),o.jsx("span",{className:"text-xs",children:""}),o.jsx("span",{className:"text-lg font-bold",children:r.birthDay}),o.jsx("span",{className:"text-xs",children:""})]})}),o.jsxs("div",{className:"w-24 border-b border-black flex flex-col items-center justify-center p-1",children:[o.jsxs("div",{className:"flex gap-3 mb-1 text-sm",children:[o.jsx("span",{className:r.gender==="Male"?"font-bold rounded-full border border-black w-5 h-5 flex items-center justify-center":"w-5 h-5 flex items-center justify-center text-gray-400",children:""}),o.jsx("span",{children:""}),o.jsx("span",{className:r.gender==="Female"?"font-bold rounded-full border border-black w-5 h-5 flex items-center justify-center":"w-5 h-5 flex items-center justify-center text-gray-400",children:""})]}),o.jsxs("div",{className:"flex items-end gap-0.5",children:[o.jsx("span",{className:"text-lg font-bold",children:r.age}),o.jsx("span",{className:"text-[10px]",children:""})]})]})]}),o.jsxs("div",{className:"flex border-b border-black shrink-0 h-[48px]",children:[o.jsx("div",{className:`w-24 ${s} bg-gray-50 flex items-center justify-center font-bold p-1 text-sm`,children:""}),o.jsx("div",{className:`flex-1 ${s} px-3 flex items-center`,children:o.jsx("span",{className:"text-base font-bold",children:r.company})}),o.jsxs("div",{className:`w-32 ${s} flex items-center justify-center p-1 text-[11px]`,children:["( ",o.jsx("span",{className:"w-6 text-center text-base font-bold",children:r.subcontractorRank})," ) "]}),o.jsx("div",{className:`w-24 ${s} bg-gray-50 flex items-center justify-center font-bold p-1 text-sm`,children:""}),o.jsxs("div",{className:"w-40 border-b border-black flex items-center justify-center p-1",children:[o.jsx("span",{className:"text-lg font-bold w-6 text-right mr-1",children:r.experienceYears}),o.jsx("span",{className:"text-xs mr-2",children:""}),o.jsx("span",{className:"text-lg font-bold w-5 text-right mr-1",children:r.experienceMonths}),o.jsx("span",{className:"text-xs",children:""})]})]}),o.jsxs("div",{className:"flex border-b border-black shrink-0 h-[40px]",children:[o.jsx("div",{className:`w-24 ${s} bg-gray-50 flex items-center justify-center font-bold p-1 text-sm`,children:""}),o.jsx("div",{className:"flex-1 border-b border-black px-2 flex items-center text-sm",children:o.jsxs("div",{className:"flex flex-nowrap items-center w-full",children:[c.map((u,m)=>o.jsx(Dt.Fragment,{children:o.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[o.jsx("span",{className:`px-1 ${r.jobType===u?"border border-black rounded-full font-bold":""}`,children:u}),m<c.length-1&&o.jsx("span",{className:"text-gray-400 mx-1",children:""})]})},u)),o.jsxs("div",{className:"flex items-center whitespace-nowrap ml-1",children:[o.jsx("span",{children:""}),o.jsx("span",{className:"inline-block min-w-[100px] text-center px-1 italic",children:r.jobType===""?r.jobTypeOther:""}),o.jsx("span",{children:""})]})]})})]}),o.jsxs("div",{className:"flex border-b border-black shrink-0 h-[48px]",children:[o.jsx("div",{className:`w-24 ${s} bg-gray-50 flex items-center justify-center font-bold p-1 text-sm`,children:""}),o.jsx("div",{className:`flex-1 ${s} px-3 flex items-center text-sm`,children:r.address}),o.jsxs("div",{className:`w-16 ${s} bg-gray-50 flex flex-col items-center justify-center font-bold text-[10px] p-1 leading-tight`,children:[o.jsx("span",{children:""}),o.jsx("span",{children:""})]}),o.jsx("div",{className:"w-48 border-b border-black px-3 flex items-center justify-center text-base font-bold tracking-wider",children:r.phone})]}),o.jsxs("div",{className:"flex border-b border-black shrink-0 h-[48px]",children:[o.jsx("div",{className:`w-24 ${s} bg-gray-50 flex items-center justify-center font-bold p-1 text-sm`,children:""}),o.jsx("div",{className:`w-12 ${s} bg-gray-50 flex items-center justify-center font-bold p-1 text-[10px]`,children:""}),o.jsxs("div",{className:`flex-1 ${s} px-3 flex items-center text-sm`,children:[r.emergencyContactSei,"",r.emergencyContactMei]}),o.jsx("div",{className:`w-16 ${s} bg-gray-50 flex items-center justify-center font-bold p-1 text-sm`,children:""}),o.jsx("div",{className:`w-20 ${s} flex items-center justify-center text-sm font-bold`,children:r.emergencyContactRelation}),o.jsxs("div",{className:`w-16 ${s} bg-gray-50 flex flex-col items-center justify-center font-bold text-[10px] p-1 leading-tight`,children:[o.jsx("span",{children:""}),o.jsx("span",{children:""})]}),o.jsx("div",{className:"w-48 border-b border-black px-3 flex items-center justify-center text-base font-bold tracking-wider",children:r.emergencyContactPhone})]}),o.jsxs("div",{className:"flex border-b border-black shrink-0 h-[48px]",children:[o.jsx("div",{className:`w-24 ${s} bg-gray-50 flex items-center justify-center font-bold p-1 text-sm`,children:""}),o.jsxs("div",{className:`flex-1 ${s} p-1 flex items-center justify-center gap-2`,children:[o.jsx("span",{className:"text-lg font-bold w-6 text-center",children:r.bloodType}),o.jsx("span",{className:"text-xs",children:""}),o.jsx("span",{className:"ml-4 text-xs font-bold",children:"  "}),r.bloodTypeRh==="Unknown"||r.bloodTypeRh===void 0?o.jsx("span",{className:"w-10 text-center text-xs",children:""}):o.jsx("span",{className:"w-10 text-center border-b border-black text-lg font-bold",children:r.bloodTypeRh==="Plus"?"+":"-"}),o.jsx("span",{className:"text-xs font-bold",children:" "})]}),o.jsx("div",{className:`w-32 ${s} bg-gray-50 flex items-center justify-center font-bold text-[10px] p-1 text-center leading-tight`,children:""}),o.jsxs("div",{className:"w-64 border-b border-black p-1 flex items-center justify-center",children:[o.jsx("span",{className:"text-xs mr-1",children:""}),o.jsx("span",{className:"text-lg font-bold w-8 text-right mr-1",children:r.healthCheckYear}),o.jsx("span",{className:"text-xs mr-2",children:""}),o.jsx("span",{className:"text-lg font-bold w-6 text-right mr-1",children:r.healthCheckMonth}),o.jsx("span",{className:"text-xs mr-2",children:""}),o.jsx("span",{className:"text-lg font-bold w-6 text-right mr-1",children:r.healthCheckDay}),o.jsx("span",{className:"text-xs",children:""})]})]}),o.jsxs("div",{className:"flex border-b border-black shrink-0 h-[40px]",children:[o.jsx("div",{className:`w-1/2 ${s} bg-gray-50 flex items-center justify-center font-bold p-1 text-sm`,children:""}),o.jsxs("div",{className:"w-1/2 border-b border-black flex items-center justify-center gap-10 p-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-black flex items-center justify-center",children:r.kentaikyo==="Joined"&&o.jsx("div",{className:"w-2 h-2 bg-black rounded-full"})}),o.jsx("span",{className:`text-sm ${r.kentaikyo==="Joined"?"font-bold":""}`,children:""})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-black flex items-center justify-center",children:r.kentaikyo==="NotJoined"&&o.jsx("div",{className:"w-2 h-2 bg-black rounded-full"})}),o.jsx("span",{className:`text-sm ${r.kentaikyo==="NotJoined"?"font-bold":""}`,children:""})]})]})]}),o.jsxs("div",{className:"p-4 flex-1 flex flex-col border-b border-black",children:[o.jsx("div",{className:"font-bold text-xs mb-3",children:""}),o.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[o.jsxs("div",{className:"flex flex-col border-r border-dashed border-gray-400 pr-2",children:[o.jsx("div",{className:"font-bold text-[10px] mb-2 text-center bg-gray-100 py-0.5",children:"  "}),o.jsxs("div",{className:"flex flex-col gap-0.5",children:[o.jsx(i,{checked:t.vehicle_leveling,label:""}),o.jsx(i,{checked:t.vehicle_demolition,label:""}),o.jsx(i,{checked:t.mobile_crane,label:""}),o.jsx(i,{checked:t.slinging,label:""}),o.jsx(i,{checked:t.gas_welding,label:""}),o.jsx(i,{checked:t.earth_retaining,label:""}),o.jsx(i,{checked:t.excavation,label:""}),o.jsx(i,{checked:t.scaffolding,label:""}),o.jsx(i,{checked:t.formwork,label:""}),o.jsx(i,{checked:t.oxygen_deficiency,label:""}),o.jsx(i,{checked:t.rough_terrain,label:""})]})]}),o.jsxs("div",{className:"flex flex-col border-r border-dashed border-gray-400 pr-2 pl-2",children:[o.jsx("div",{className:"font-bold text-[10px] mb-2 text-center bg-gray-100 py-0.5",children:"  "}),o.jsxs("div",{className:"flex flex-col gap-0.5",children:[o.jsx(i,{checked:t.arc_welding,label:""}),o.jsx(i,{checked:t.grinding_wheel,label:""}),o.jsx(i,{checked:t.low_voltage,label:""}),o.jsx(i,{checked:t.roller,label:""}),o.jsx(i,{checked:t.asbestos,label:""})]})]}),o.jsxs("div",{className:"flex flex-col pl-2",children:[o.jsx("div",{className:"font-bold text-[10px] mb-2 text-center bg-gray-100 py-0.5",children:"  "}),o.jsx(i,{checked:t.foreman,label:""}),o.jsx("div",{className:"mt-1 pt-1 border-t border-dashed border-gray-300"}),o.jsx(i,{checked:t.license_regular,label:""}),o.jsx(i,{checked:t.license_large,label:""}),o.jsx(i,{checked:t.license_large_special,label:""}),o.jsx(i,{checked:t.license_towing,label:""}),o.jsxs("div",{className:"mt-auto pt-2",children:[o.jsx("div",{className:"text-[9px] font-bold mb-1 text-gray-600",children:""}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"border-b border-black h-4 text-[10px] px-1 italic",children:t.otherText1}),o.jsx("div",{className:"border-b border-black h-4 text-[10px] px-1 italic",children:t.otherText2}),o.jsx("div",{className:"border-b border-black h-4 text-[10px] px-1 italic",children:t.otherText3})]})]})]})]})]}),o.jsxs("div",{className:"p-3 bg-gray-50 flex-1 flex flex-col justify-between shrink-0 h-[180px]",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-sm mb-2 flex items-center",children:[o.jsx("span",{className:"w-1 h-4 bg-black mr-2"}),""]}),o.jsxs("ul",{className:"list-none pl-2 space-y-1 text-xs leading-snug",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-1.5",children:"-"}),""]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-1.5",children:"-"}),""]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-1.5",children:"-"}),""]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-1.5",children:"-"}),""]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-1.5",children:"-"}),""]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-1.5",children:"-"}),""]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-1.5",children:"-"}),""]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-1.5",children:"-"}),""]})]})]}),o.jsxs("div",{className:"flex justify-between items-end px-1 mt-auto",children:[o.jsxs("div",{className:"w-[50%] space-y-2",children:[o.jsxs("div",{className:"flex items-end border-b border-black pb-0.5",children:[o.jsx("span",{className:"text-[9px] font-bold w-12 mb-0.5 whitespace-nowrap",children:""}),o.jsx("span",{className:`flex-1 font-bold px-1 text-center ${lj(r.project)}`,children:r.project})]}),o.jsxs("div",{className:"flex items-end border-b border-black pb-0.5",children:[o.jsx("span",{className:"text-[9px] font-bold w-12 mb-0.5",children:""}),o.jsx("span",{className:"flex-1 text-sm font-bold text-center",children:r.director}),o.jsx("span",{className:"text-[9px] ml-1 mb-0.5",children:""})]})]}),o.jsxs("div",{className:"w-[45%] flex flex-col items-end",children:[o.jsxs("div",{className:"flex justify-center items-baseline mb-1 text-[10px] font-bold w-full",children:[o.jsx("span",{className:"mr-1",children:""}),o.jsx("span",{className:"text-base w-6 text-center mx-0.5",children:r.pledgeDateYear}),o.jsx("span",{children:""}),o.jsx("span",{className:"text-base w-5 text-center mx-0.5",children:r.pledgeDateMonth}),o.jsx("span",{children:""}),o.jsx("span",{className:"text-base w-5 text-center mx-0.5",children:r.pledgeDateDay}),o.jsx("span",{children:""})]}),o.jsxs("div",{className:"flex w-full items-end border-2 border-black bg-white h-[50px] relative",children:[o.jsx("span",{className:"absolute left-1 top-1 text-[9px] font-bold text-gray-400",children:""}),o.jsx("div",{className:"flex-1 h-full flex items-center justify-center p-1",children:r.signatureDataUrl?o.jsx("img",{src:r.signatureDataUrl,alt:"Signature",className:"max-h-full max-w-full object-contain"}):o.jsx("span",{className:"text-gray-200 text-[9px]",children:"()"})})]})]})]})]})]})]})})},oj=r=>{let t=ed;if(r){const s={...ed.qualifications,...r.qualifications||{}};t={...ed,...r,qualifications:s}}else{t={...t,experienceYears:null,experienceMonths:null,healthCheckYear:null,healthCheckMonth:null,healthCheckDay:null,pledgeDateYear:null,pledgeDateMonth:null,pledgeDateDay:null,project:"",director:"",company:""};const s=new Date,i=s.getFullYear()-2018;t.pledgeDateYear=i,t.pledgeDateMonth=s.getMonth()+1,t.pledgeDateDay=s.getDate()}return t},_0=({isOpen:r,message:t,onLeftButtonClick:s,onRightButtonClick:i,leftButtonLabel:c,rightButtonLabel:u,leftButtonClass:m,rightButtonClass:x})=>r?o.jsx("div",{className:"fixed inset-0 z-[60] bg-gray-900 bg-opacity-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-sm w-full p-6 animate-fadeIn",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:""}),o.jsx("p",{className:"text-gray-600 mb-6 whitespace-pre-wrap font-bold text-red-600",children:t}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:s,className:m,children:c}),o.jsx("button",{onClick:i,className:x,children:u})]})]})}):null,cj=({isOpen:r,onOk:t})=>r?o.jsx("div",{className:"fixed inset-0 z-[70] bg-gray-900 bg-opacity-60 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-sm w-full p-8 text-center animate-fadeIn",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("i",{className:"fa-solid fa-check text-3xl"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),o.jsx("p",{className:"text-gray-600 mb-6",children:""}),o.jsx("button",{onClick:t,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-bold shadow hover:bg-blue-700 transition-colors",children:"OK"})]})}):null,uj=({title:r,items:t,onUpdate:s,onDeleteRequest:i,onBack:c})=>{const[u,m]=W.useState(""),x=t||[],p=()=>{u.trim()&&(s([...x,u.trim()]),m(""))};return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[o.jsx("button",{onClick:c,className:"text-gray-500 hover:text-blue-600",children:o.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})}),o.jsxs("h3",{className:"font-bold text-lg text-gray-800 flex-1",children:[r," ",o.jsxs("span",{className:"text-xs font-normal text-gray-500 bg-gray-100 px-2 py-1 rounded-full ml-2",children:[x.length,""]})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:o.jsxs("ul",{className:"space-y-2",children:[x.map((g,v)=>o.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-3 rounded hover:bg-gray-100 transition-colors",children:[o.jsx("span",{className:"text-sm text-gray-800 break-all mr-2",children:g}),o.jsx("button",{type:"button",onClick:E=>{E.stopPropagation(),i(v,g)},className:"text-gray-400 hover:text-red-600 p-2 rounded hover:bg-red-50 transition-colors",children:o.jsx("i",{className:"fa-solid fa-trash"})})]},v)),x.length===0&&o.jsx("li",{className:"text-gray-400 text-sm italic text-center py-8",children:""})]})}),o.jsx("div",{className:"p-4 border-t bg-gray-50",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-sm bg-white text-black outline-none focus:ring-2 focus:ring-blue-500",placeholder:"...",value:u,onChange:g=>m(g.target.value),onKeyDown:g=>g.key==="Enter"&&p()}),o.jsxs("button",{onClick:p,className:"bg-blue-600 text-white px-6 py-2 rounded-lg text-sm hover:bg-blue-700 font-bold shadow-md",children:[o.jsx("i",{className:"fa-solid fa-plus mr-1"}),""]})]})})]})},E0={projects:"",contractors:"",supervisors:"",locations:"",workplaces:"",subcontractors:"",roles:"",topics:"",jobTypes:"",goals:"",predictions:"",countermeasures:"",processes:"",cautions:""},hj={BASIC:["projects","contractors","supervisors","locations","workplaces","subcontractors"],TRAINING:["roles","topics","jobTypes","goals","predictions","countermeasures"]},fj=({initialData:r,initialDraftId:t,onBackToMenu:s})=>{const[i,c]=W.useState(1),[u,m]=W.useState(oj(r)),[x,p]=W.useState(t||null),[g,v]=W.useState(Mt),[E,T]=W.useState(!1),[U,P]=W.useState(!1),[Z,B]=W.useState("idle"),[me,de]=W.useState(1),[te,ce]=W.useState({isOpen:!1,message:"",onLeftButtonClick:()=>{},onRightButtonClick:()=>{},leftButtonLabel:"",rightButtonLabel:"",leftButtonClass:"",rightButtonClass:""}),[Se,je]=W.useState(!1),[M,A]=W.useState(!1),[R,O]=W.useState(0),[j,D]=W.useState(null),[S,be]=W.useState({}),[ye,F]=W.useState("BASIC"),[Q,he]=W.useState(null),[xe,Pe]=W.useState(null);W.useEffect(()=>{window.scrollTo(0,0)},[i]),W.useEffect(()=>{(async()=>{try{const se=await Ku();v(se)}catch(se){console.error("",se)}})()},[]),W.useEffect(()=>{if(!U)return;const k=()=>{const V=window.innerWidth-40;de(V<794?V/794:1)};return window.addEventListener("resize",k),k(),()=>window.removeEventListener("resize",k)},[U]),W.useEffect(()=>{const se=(()=>{if(u.birthYear===""||u.birthMonth===""||u.birthDay==="")return u.age;let He=0;if(u.birthEra==="Showa"?He=1925+u.birthYear:u.birthEra==="Heisei"&&(He=1988+u.birthYear),He===0)return u.age;const V=new Date,ee=new Date(He,u.birthMonth-1,u.birthDay);let Re=V.getFullYear()-ee.getFullYear();const Ie=V.getMonth()-ee.getMonth();return(Ie<0||Ie===0&&V.getDate()<ee.getDate())&&Re--,Math.max(0,Re)})();se!==u.age&&u.birthYear!==""&&u.birthMonth!==""&&u.birthDay!==""&&m(He=>({...He,age:se}))},[u.birthEra,u.birthYear,u.birthMonth,u.birthDay]);const C=k=>{m(He=>({...He,...k})),B("idle"),A(!0);const se={...S};Object.keys(k).forEach(He=>delete se[He]),be(se)},Y=(k,se)=>{m(He=>({...He,qualifications:{...He.qualifications,[k]:se}})),B("idle"),A(!0)},ue=()=>{const k={},se=u;return se.project||(k.project=!0),se.director||(k.director=!0),se.nameSei||(k.nameSei=!0),se.nameMei||(k.nameMei=!0),se.furiganaSei||(k.furiganaSei=!0),se.furiganaMei||(k.furiganaMei=!0),se.birthYear||(k.birthYear=!0),se.birthMonth||(k.birthMonth=!0),se.birthDay||(k.birthDay=!0),se.company||(k.company=!0),(se.experienceYears===void 0||se.experienceYears===null||isNaN(Number(se.experienceYears)))&&(k.experienceYears=!0),se.jobType||(k.jobType=!0),se.jobType===""&&!se.jobTypeOther&&(k.jobTypeOther=!0),se.address||(k.address=!0),se.phone||(k.phone=!0),se.emergencyContactSei||(k.emergencyContactSei=!0),se.emergencyContactMei||(k.emergencyContactMei=!0),se.emergencyContactRelation||(k.emergencyContactRelation=!0),se.emergencyContactPhone||(k.emergencyContactPhone=!0),se.healthCheckYear||(k.healthCheckYear=!0),se.healthCheckMonth||(k.healthCheckMonth=!0),be(k),Object.keys(k).length===0},ge=()=>{if(i===1&&!ue()){alert(`
`);return}c(k=>Math.min(k+1,3))},oe=async()=>{if(!u.signatureDataUrl){alert(`
`);return}B("saving");try{const k=(u.nameSei||"")+(u.nameMei||""),se={...u,name:k||""},He=await Za(x,"NEWCOMER_SURVEY",se);p(He),B("saved"),A(!1),je(!0),setTimeout(()=>B("idle"),2e3)}catch(k){console.error(k),alert(""),B("idle")}},we=()=>{if(!u.signatureDataUrl){alert(`
`);return}P(!0)},Ve=async()=>{if(!u.signatureDataUrl){alert(`
`);return}B("saving");try{const k=(u.nameSei||"")+(u.nameMei||""),se={...u,name:k||""},He=await Za(x,"NEWCOMER_SURVEY",se);p(He),B("saved"),A(!1),setTimeout(()=>B("idle"),2e3);const V=document.title,ee=`_${u.company||""}_${k||""}`;document.title=ee,window.print(),document.title=V}catch{alert(""),B("idle")}},Fe=()=>{M?ce({isOpen:!0,message:`
`,leftButtonLabel:"",leftButtonClass:"px-4 py-2 bg-gray-200 text-gray-700 rounded font-bold hover:bg-gray-300",onLeftButtonClick:()=>{ce(k=>({...k,isOpen:!1})),s()},rightButtonLabel:"",rightButtonClass:"px-4 py-2 bg-red-600 text-white rounded font-bold hover:bg-red-700",onRightButtonClick:()=>{ce(k=>({...k,isOpen:!1}))}}):s()},Te=k=>S[k]?"border-red-500 bg-red-50 ring-1 ring-red-500":"border-gray-300 bg-white",xt=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 border-l-4 border-purple-600 pl-3",children:"STEP 1: "}),o.jsxs("p",{className:"text-sm text-red-500 font-bold",children:[o.jsx("i",{className:"fa-solid fa-circle-exclamation mr-1"}),""]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded border border-purple-100 grid grid-cols-1 md:grid-cols-2 gap-4 w-full",children:[o.jsxs("div",{className:"col-span-1 md:col-span-2 text-sm text-purple-700 font-bold mb-1",children:[o.jsx("i",{className:"fa-solid fa-circle-info mr-1"}),""]}),o.jsxs("div",{className:"w-full overflow-hidden",children:[o.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:" ()"}),o.jsxs("select",{className:`w-full p-2 border rounded font-bold max-w-full text-ellipsis ${Te("project")}`,value:u.project,onChange:k=>C({project:k.target.value}),children:[o.jsx("option",{value:"",children:""}),g.projects.map(k=>o.jsx("option",{value:k,children:k},k))]})]}),o.jsxs("div",{className:"w-full overflow-hidden",children:[o.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:" ()"}),o.jsxs("select",{className:`w-full p-2 border rounded max-w-full text-ellipsis ${Te("director")}`,value:u.director,onChange:k=>C({director:k.target.value}),children:[o.jsx("option",{value:"",children:""}),g.supervisors.map(k=>o.jsx("option",{value:k,children:k},k))]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx("input",{type:"text",className:`w-1/2 p-2 border rounded max-w-full ${Te("nameSei")}`,placeholder:"",value:u.nameSei,onChange:k=>C({nameSei:k.target.value})}),o.jsx("input",{type:"text",className:`w-1/2 p-2 border rounded max-w-full ${Te("nameMei")}`,placeholder:"",value:u.nameMei,onChange:k=>C({nameMei:k.target.value})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",className:`w-1/2 p-2 border rounded max-w-full ${Te("furiganaSei")}`,placeholder:"",value:u.furiganaSei,onChange:k=>C({furiganaSei:k.target.value})}),o.jsx("input",{type:"text",className:`w-1/2 p-2 border rounded max-w-full ${Te("furiganaMei")}`,placeholder:"",value:u.furiganaMei,onChange:k=>C({furiganaMei:k.target.value})})]})]}),o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsxs("div",{className:"flex gap-2 mb-2 items-center",children:[o.jsxs("select",{className:"p-2 border rounded bg-white",value:u.birthEra,onChange:k=>C({birthEra:k.target.value}),children:[o.jsx("option",{value:"Showa",children:""}),o.jsx("option",{value:"Heisei",children:""})]}),o.jsx("input",{type:"number",className:`w-14 p-2 border rounded text-center ${Te("birthYear")}`,value:u.birthYear,onChange:k=>C({birthYear:k.target.value===""?"":parseInt(k.target.value)}),placeholder:""}),o.jsx("span",{children:""}),o.jsx("input",{type:"number",className:`w-12 p-2 border rounded text-center ${Te("birthMonth")}`,value:u.birthMonth,onChange:k=>C({birthMonth:k.target.value===""?"":parseInt(k.target.value)}),placeholder:""}),o.jsx("span",{children:""}),o.jsx("input",{type:"number",className:`w-12 p-2 border rounded text-center ${Te("birthDay")}`,value:u.birthDay,onChange:k=>C({birthDay:k.target.value===""?"":parseInt(k.target.value)}),placeholder:""}),o.jsx("span",{children:""})]}),o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsxs("div",{className:"flex gap-2 border p-1 rounded bg-white",children:[o.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[o.jsx("input",{type:"radio",checked:u.gender==="Male",onChange:()=>C({gender:"Male"})}),""]}),o.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[o.jsx("input",{type:"radio",checked:u.gender==="Female",onChange:()=>C({gender:"Female"})}),""]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",className:"w-16 p-2 border rounded text-center bg-gray-100",readOnly:!0,value:u.age}),o.jsx("span",{children:""})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:" ()"}),o.jsxs("select",{className:`w-full p-2 border rounded mb-2 max-w-full text-ellipsis ${Te("company")}`,value:u.company,onChange:k=>C({company:k.target.value}),children:[o.jsx("option",{value:"",children:""}),g.subcontractors.map(k=>o.jsx("option",{value:k,children:k},k))]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{children:"("}),o.jsx("input",{type:"text",className:`w-10 border-b text-center ${Te("subcontractorRank")}`,value:u.subcontractorRank,onChange:k=>C({subcontractorRank:k.target.value})}),o.jsx("span",{children:") "})]})]}),o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("input",{type:"number",className:`w-16 p-2 border rounded text-center ${Te("experienceYears")}`,value:u.experienceYears??"",onChange:k=>C({experienceYears:k.target.value===""?null:parseInt(k.target.value)})}),o.jsx("span",{children:""}),o.jsx("input",{type:"number",className:"w-16 p-2 border rounded text-center bg-white",value:u.experienceMonths??"",onChange:k=>C({experienceMonths:k.target.value===""?null:parseInt(k.target.value)})}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{className:`w-1/2 p-2 border rounded ${Te("jobType")}`,value:u.jobType,onChange:k=>C({jobType:k.target.value}),children:[o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""})]}),u.jobType===""&&o.jsx("input",{type:"text",className:`flex-1 p-2 border rounded max-w-full ${Te("jobTypeOther")}`,placeholder:"",value:u.jobTypeOther,onChange:k=>C({jobTypeOther:k.target.value})})]})]}),o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsx("input",{type:"text",className:`w-full p-2 border rounded mb-2 max-w-full ${Te("address")}`,placeholder:"",value:u.address,onChange:k=>C({address:k.target.value})}),o.jsx("input",{type:"text",className:`w-48 p-2 border rounded max-w-full ${Te("phone")}`,placeholder:"090-0000-0000",value:u.phone,onChange:k=>C({phone:k.target.value})})]}),o.jsxs("div",{className:"form-control bg-gray-50 p-3 rounded border-2 border-red-500 w-full",children:[o.jsx("label",{className:"label font-bold text-gray-700 mb-2 block",children:""}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold mb-1 block",children:""}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",className:`w-1/2 p-2 border rounded max-w-full ${Te("emergencyContactSei")}`,placeholder:"",value:u.emergencyContactSei,onChange:k=>C({emergencyContactSei:k.target.value})}),o.jsx("input",{type:"text",className:`w-1/2 p-2 border rounded max-w-full ${Te("emergencyContactMei")}`,placeholder:"",value:u.emergencyContactMei,onChange:k=>C({emergencyContactMei:k.target.value})})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("div",{className:"w-full sm:flex-1",children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold mb-1 block",children:""}),o.jsxs("select",{className:`w-full p-2 border rounded max-w-full ${Te("emergencyContactRelation")}`,value:u.emergencyContactRelation,onChange:k=>C({emergencyContactRelation:k.target.value}),children:[o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""})]})]}),o.jsxs("div",{className:"w-full sm:flex-1",children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold mb-1 block",children:""}),o.jsx("input",{type:"text",className:`w-full p-2 border rounded max-w-full ${Te("emergencyContactPhone")}`,placeholder:"090-0000-0000",value:u.emergencyContactPhone,onChange:k=>C({emergencyContactPhone:k.target.value})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{className:"p-2 border rounded bg-white",value:u.bloodType,onChange:k=>C({bloodType:k.target.value}),children:[o.jsx("option",{value:"A",children:"A"}),o.jsx("option",{value:"B",children:"B"}),o.jsx("option",{value:"O",children:"O"}),o.jsx("option",{value:"AB",children:"AB"})]}),o.jsx("span",{className:"self-center",children:""}),o.jsx("span",{className:"self-center ml-2",children:"RH"}),o.jsxs("select",{className:"p-2 border rounded bg-white",value:u.bloodTypeRh,onChange:k=>C({bloodTypeRh:k.target.value}),children:[o.jsx("option",{value:"Unknown",children:""}),o.jsx("option",{value:"Plus",children:"+"}),o.jsx("option",{value:"Minus",children:"-"})]})]})]}),o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:" ()"}),o.jsxs("div",{className:"flex gap-1 items-center",children:[o.jsx("input",{type:"number",className:`w-14 p-2 border rounded text-center ${Te("healthCheckYear")}`,value:u.healthCheckYear??"",onChange:k=>C({healthCheckYear:k.target.value===""?null:parseInt(k.target.value)})}),o.jsx("span",{children:""}),o.jsx("input",{type:"number",className:`w-12 p-2 border rounded text-center ${Te("healthCheckMonth")}`,value:u.healthCheckMonth??"",onChange:k=>C({healthCheckMonth:k.target.value===""?null:parseInt(k.target.value)})}),o.jsx("span",{children:""}),o.jsx("input",{type:"number",className:"w-12 p-2 border rounded text-center bg-white",value:u.healthCheckDay??"",onChange:k=>C({healthCheckDay:k.target.value===""?null:parseInt(k.target.value)})}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"form-control",children:[o.jsx("label",{className:"label font-bold text-gray-700",children:""}),o.jsxs("div",{className:"flex gap-4 mt-1",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-white px-4 py-2 border rounded shadow-sm",children:[o.jsx("input",{type:"radio",checked:u.kentaikyo==="Joined",onChange:()=>C({kentaikyo:"Joined"})}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-white px-4 py-2 border rounded shadow-sm",children:[o.jsx("input",{type:"radio",checked:u.kentaikyo==="NotJoined",onChange:()=>C({kentaikyo:"NotJoined"})}),""]})]})]})]}),Ee=()=>{const k=u.qualifications||{};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 border-l-4 border-purple-600 pl-3",children:"STEP 2: "}),o.jsx("p",{className:"text-sm text-gray-500",children:""}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded border shadow-sm",children:[o.jsx("h3",{className:"font-bold border-b mb-3",children:""}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.vehicle_leveling,onChange:se=>Y("vehicle_leveling",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.vehicle_demolition,onChange:se=>Y("vehicle_demolition",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.mobile_crane,onChange:se=>Y("mobile_crane",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.slinging,onChange:se=>Y("slinging",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.gas_welding,onChange:se=>Y("gas_welding",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.earth_retaining,onChange:se=>Y("earth_retaining",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.excavation,onChange:se=>Y("excavation",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.scaffolding,onChange:se=>Y("scaffolding",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.formwork,onChange:se=>Y("formwork",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.oxygen_deficiency,onChange:se=>Y("oxygen_deficiency",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.rough_terrain,onChange:se=>Y("rough_terrain",se.target.checked)}),""]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded border shadow-sm",children:[o.jsx("h3",{className:"font-bold border-b mb-3",children:""}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.arc_welding,onChange:se=>Y("arc_welding",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.grinding_wheel,onChange:se=>Y("grinding_wheel",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.low_voltage,onChange:se=>Y("low_voltage",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.roller,onChange:se=>Y("roller",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.asbestos,onChange:se=>Y("asbestos",se.target.checked)}),""]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded border shadow-sm",children:[o.jsx("h3",{className:"font-bold border-b mb-3",children:""}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-2",children:[o.jsx("input",{type:"checkbox",checked:k.foreman,onChange:se=>Y("foreman",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-1",children:[o.jsx("input",{type:"checkbox",checked:k.license_regular,onChange:se=>Y("license_regular",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-1",children:[o.jsx("input",{type:"checkbox",checked:k.license_large,onChange:se=>Y("license_large",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-1",children:[o.jsx("input",{type:"checkbox",checked:k.license_large_special,onChange:se=>Y("license_large_special",se.target.checked)}),""]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-4",children:[o.jsx("input",{type:"checkbox",checked:k.license_towing,onChange:se=>Y("license_towing",se.target.checked)}),""]}),o.jsx("div",{className:"text-sm font-bold mb-2",children:""}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",className:"w-full p-2 border rounded",placeholder:"",value:k.otherText1,onChange:se=>Y("otherText1",se.target.value)}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded",placeholder:"",value:k.otherText2,onChange:se=>Y("otherText2",se.target.value)}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded",placeholder:"",value:k.otherText3,onChange:se=>Y("otherText3",se.target.value)})]})]})]})]})]})},J=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 border-l-4 border-purple-600 pl-3",children:"STEP 3: "}),o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border leading-relaxed text-gray-800",children:[o.jsx("h3",{className:"font-bold text-lg mb-4 text-center",children:""}),o.jsxs("ul",{className:"list-disc pl-5 space-y-2 mb-6",children:[o.jsx("li",{children:""}),o.jsx("li",{children:""}),o.jsx("li",{children:""}),o.jsx("li",{children:""}),o.jsx("li",{children:""}),o.jsx("li",{children:""}),o.jsx("li",{children:""}),o.jsx("li",{children:""})]}),o.jsxs("div",{className:"bg-white p-4 rounded border text-center",children:[o.jsxs("div",{className:"mb-4 flex flex-row items-center justify-center gap-1 flex-nowrap",children:[o.jsx("label",{className:"font-bold whitespace-nowrap text-sm md:text-base",children:"()"}),o.jsx("input",{type:"number",className:"w-10 md:w-12 p-2 border rounded text-center text-sm md:text-base",value:u.pledgeDateYear??"",onChange:k=>C({pledgeDateYear:k.target.value===""?null:parseInt(k.target.value)})}),o.jsx("span",{className:"text-sm md:text-base",children:""}),o.jsx("input",{type:"number",className:"w-10 md:w-12 p-2 border rounded text-center text-sm md:text-base",value:u.pledgeDateMonth??"",onChange:k=>C({pledgeDateMonth:k.target.value===""?null:parseInt(k.target.value)})}),o.jsx("span",{className:"text-sm md:text-base",children:""}),o.jsx("input",{type:"number",className:"w-10 md:w-12 p-2 border rounded text-center text-sm md:text-base",value:u.pledgeDateDay??"",onChange:k=>C({pledgeDateDay:k.target.value===""?null:parseInt(k.target.value)})}),o.jsx("span",{className:"text-sm md:text-base",children:""})]}),o.jsx("label",{className:"block font-bold text-gray-700 mb-2",children:""}),o.jsx("div",{className:"mx-auto w-full max-w-sm",children:u.signatureDataUrl?o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"text-xs text-green-600 font-bold mb-1",children:""}),o.jsx("div",{className:"cursor-pointer hover:opacity-80 transition-opacity inline-block border border-transparent hover:border-blue-300 rounded p-1",onClick:()=>D(u.signatureDataUrl),title:"",children:o.jsx("img",{src:u.signatureDataUrl,alt:"Signature",className:"h-10 mx-auto border"})}),o.jsx("button",{onClick:()=>C({signatureDataUrl:null}),className:"ml-4 text-xs text-red-500 underline",children:""})]}):o.jsx("div",{className:"w-full",children:o.jsx(Em,{onSave:k=>{C({signatureDataUrl:k}),O(se=>se+1)},onClear:()=>{},lineWidth:6,keepOpenOnSave:!0},R)})})]})]})]}),De=()=>o.jsxs("div",{className:"p-4 max-w-4xl mx-auto bg-gray-50 min-h-screen flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-0 bg-gray-50 py-4 z-10 border-b",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[o.jsx("i",{className:"fa-solid fa-database mr-2"}),""]}),o.jsxs("button",{onClick:()=>{T(!1),he(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 font-bold",children:[o.jsx("i",{className:"fa-solid fa-xmark mr-1"}),""]})]}),Q?o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(uj,{title:E0[Q],items:g[Q]||[],onBack:()=>he(null),onUpdate:async k=>{const se={...g,[Q]:k};v(se),await Vn(se)},onDeleteRequest:(k,se)=>{Q==="projects"?Pe({index:k,name:se}):ce({isOpen:!0,message:`${se}`,onLeftButtonClick:()=>ce(He=>({...He,isOpen:!1})),onRightButtonClick:async()=>{const He=[...g[Q]||[]];He.splice(k,1);const V={...g,[Q]:He};v(V),await Vn(V),ce(ee=>({...ee,isOpen:!1}))},leftButtonLabel:"",rightButtonLabel:"",leftButtonClass:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 font-bold text-gray-600",rightButtonClass:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 font-bold"})}})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-4 mb-6 shrink-0",children:[o.jsxs("button",{onClick:()=>F("BASIC"),className:`flex-1 py-3 rounded-lg font-bold transition-colors ${ye==="BASIC"?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 border"}`,children:[o.jsx("i",{className:"fa-solid fa-house-chimney mr-2"}),""]}),o.jsxs("button",{onClick:()=>F("TRAINING"),className:`flex-1 py-3 rounded-lg font-bold transition-colors ${ye==="TRAINING"?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 border"}`,children:[o.jsx("i",{className:"fa-solid fa-list-check mr-2"}),""]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-20",children:(hj[ye]||[]).map(k=>{const se=g[k]||[];return o.jsxs("button",{onClick:()=>he(k),className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:border-blue-400 hover:shadow-md transition-all text-left flex justify-between items-center group",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:E0[k]}),o.jsxs("p",{className:"text-xs text-gray-500",children:[se.length," "]})]}),o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 group-hover:bg-blue-50 group-hover:text-blue-500 transition-colors",children:o.jsx("i",{className:"fa-solid fa-chevron-right"})})]},k)})})]})]}),ke=()=>o.jsxs("div",{className:"fixed inset-0 z-50 bg-gray-900 bg-opacity-90 flex flex-col no-print",children:[o.jsxs("div",{className:"sticky top-0 bg-gray-800 text-white p-4 shadow-lg flex justify-between items-center shrink-0",children:[o.jsxs("h2",{className:"text-lg font-bold",children:[o.jsx("i",{className:"fa-solid fa-eye mr-2"})," "]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 bg-gray-600 rounded",children:""}),o.jsxs("button",{onClick:Ve,className:"px-6 py-2 bg-green-600 rounded font-bold shadow-md flex items-center",children:[o.jsx("i",{className:"fa-solid fa-print mr-2"})," "]})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 flex justify-center",children:o.jsx("div",{style:{width:"794px",transform:`scale(${me})`,transformOrigin:"top center",marginBottom:`${(me-1)*100}%`},children:o.jsx(v0,{data:u})})})]});return E?o.jsxs(o.Fragment,{children:[De(),o.jsx(_0,{isOpen:te.isOpen,message:te.message,onLeftButtonClick:te.onLeftButtonClick,onRightButtonClick:te.onRightButtonClick,leftButtonLabel:te.leftButtonLabel,rightButtonLabel:te.rightButtonLabel,leftButtonClass:te.leftButtonClass,rightButtonClass:te.rightButtonClass}),xe&&o.jsx(dj,{isOpen:!!xe,projectName:xe.name,onCancel:()=>Pe(null),onConfirm:async()=>{const k=[...g.projects];k.splice(xe.index,1),await bo(xe.name);const se={...g,projects:k};v(se),await Vn(se),Pe(null)}})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"no-print min-h-screen pb-24 bg-gray-50",children:[o.jsxs("header",{className:"bg-slate-800 text-white p-4 shadow-md sticky top-0 z-10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:Fe,className:"text-white hover:text-gray-300",children:o.jsx("i",{className:"fa-solid fa-house"})}),o.jsxs("h1",{className:"text-lg font-bold",children:[o.jsx("i",{className:"fa-solid fa-person-circle-question mr-2"}),""]})]}),o.jsxs("button",{onClick:()=>T(!0),className:"text-xs bg-slate-700 px-2 py-1 rounded hover:bg-slate-600 transition-colors",children:[o.jsx("i",{className:"fa-solid fa-gear mr-1"}),""]})]}),o.jsxs("div",{className:"bg-white p-4 shadow-sm mb-4",children:[o.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-400 mb-2",children:[o.jsx("span",{className:i>=1?"text-purple-600":"",children:""}),o.jsx("span",{className:i>=2?"text-purple-600":"",children:""}),o.jsx("span",{className:i>=3?"text-purple-600":"",children:""})]}),o.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-purple-600 h-full transition-all duration-300",style:{width:`${i*33.3}%`}})})]}),o.jsxs("main",{className:"mx-auto p-4 bg-white shadow-lg rounded-lg max-w-3xl min-h-[60vh]",children:[i===1&&xt(),i===2&&Ee(),i===3&&J()]}),o.jsxs("footer",{className:"fixed bottom-0 left-0 w-full bg-white border-t p-4 flex justify-between items-center shadow-md z-20",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("button",{onClick:()=>c(k=>Math.max(1,k-1)),disabled:i===1,className:`px-4 py-3 rounded-lg font-bold ${i===1?"text-gray-300":"text-gray-600 bg-gray-100"}`,children:""})}),i<3?o.jsxs("button",{onClick:ge,className:"px-8 py-3 bg-purple-600 text-white rounded-lg font-bold shadow hover:bg-purple-700 flex items-center",children:[" ",o.jsx("i",{className:"fa-solid fa-chevron-right ml-2"})]}):o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:oe,className:"px-8 py-3 bg-red-600 text-white rounded-lg font-bold shadow hover:bg-red-700 flex items-center",children:[o.jsx("i",{className:"fa-solid fa-save mr-2"})," "]}),o.jsxs("button",{onClick:we,className:"px-8 py-3 bg-cyan-600 text-white rounded-lg font-bold shadow hover:bg-cyan-700 flex items-center",children:[o.jsx("i",{className:"fa-solid fa-file-pdf mr-2"})," "]})]})]})]}),o.jsx(cj,{isOpen:Se,onOk:()=>{je(!1),s()}}),j&&o.jsxs("div",{className:"fixed inset-0 z-[100] bg-black bg-opacity-90 flex flex-col items-center justify-center p-4",onClick:()=>D(null),children:[o.jsx("div",{className:"bg-white p-1 rounded-lg shadow-2xl overflow-hidden max-w-full max-h-[80vh]",children:o.jsx("img",{src:j,alt:"Signature Preview",className:"max-w-full max-h-[70vh] object-contain"})}),o.jsxs("button",{className:"mt-6 text-white text-lg font-bold flex items-center gap-2 bg-gray-700 px-6 py-2 rounded-full hover:bg-gray-600 transition-colors",children:[o.jsx("i",{className:"fa-solid fa-xmark"})," "]})]}),U&&ke(),o.jsx(_0,{isOpen:te.isOpen,message:te.message,onLeftButtonClick:te.onLeftButtonClick,onRightButtonClick:te.onRightButtonClick,leftButtonLabel:te.leftButtonLabel,rightButtonLabel:te.rightButtonLabel,leftButtonClass:te.leftButtonClass,rightButtonClass:te.rightButtonClass}),o.jsx("div",{className:"hidden print:block",children:o.jsx(v0,{data:u})})]})},dj=({isOpen:r,projectName:t,onConfirm:s,onCancel:i})=>{const[c,u]=W.useState("");return r?o.jsx("div",{className:"fixed inset-0 z-[70] bg-gray-900 bg-opacity-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-sm w-full p-6 border-2 border-red-500",children:[o.jsx("h3",{className:"text-lg font-bold mb-4 text-red-600",children:" "}),o.jsxs("p",{className:"mb-4 text-sm text-gray-700",children:["",t,"",o.jsx("br",{}),""]}),o.jsx("p",{className:"mb-2 text-sm font-bold",children:"PASS (4043)"}),o.jsx("input",{type:"password",className:"w-full border p-2 rounded mb-4",value:c,onChange:m=>u(m.target.value)}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-200 rounded",children:""}),o.jsx("button",{onClick:()=>{c==="4043"?s():alert("PASS")},className:"px-4 py-2 bg-red-600 text-white rounded font-bold",children:""})]})]})}):null},mj=({isOpen:r,message:t,onConfirm:s,onCancel:i})=>r?o.jsx("div",{className:"fixed inset-0 z-[70] bg-gray-900 bg-opacity-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-sm w-full p-6 animate-fade-in",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:""}),o.jsx("p",{className:"text-gray-600 mb-6 whitespace-pre-wrap",children:t}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:i,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded hover:bg-gray-200 font-bold",children:""}),o.jsx("button",{onClick:s,className:"px-4 py-2 text-white bg-red-600 rounded hover:bg-red-700 font-bold",children:""})]})]})}):null,gj=({isOpen:r,onClose:t,url:s})=>r?o.jsx("div",{className:"fixed inset-0 z-[80] bg-gray-900 bg-opacity-80 flex items-center justify-center p-4",onClick:t,children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-md w-full flex flex-col items-center animate-fade-in",onClick:i=>i.stopPropagation(),children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:" "}),o.jsxs("p",{className:"text-sm text-gray-500 mb-6 text-center",children:["",o.jsx("br",{}),""]}),o.jsx("div",{className:"p-4 border-4 border-gray-200 rounded-lg bg-white mb-6",children:o.jsx(V0,{value:s,size:250,level:"H",includeMargin:!0})}),o.jsx("p",{className:"text-xs text-gray-400 break-all text-center mb-6",children:s}),o.jsx("button",{onClick:t,className:"w-full py-3 bg-gray-600 text-white rounded-lg font-bold hover:bg-gray-700",children:""})]})}):null,pj=()=>{const[r,t]=W.useState("HOME"),[s,i]=W.useState(!1),[c,u]=W.useState(null),[m,x]=W.useState([]),[p,g]=W.useState(null),[v,E]=W.useState(!1),[T,U]=W.useState(!1),[P,Z]=W.useState({isOpen:!1,message:"",onConfirm:()=>{}}),[B,me]=W.useState(void 0),[de,te]=W.useState(null);W.useEffect(()=>{new URLSearchParams(window.location.search).get("form")==="newcomer"&&(me(void 0),te(null),t("NEWCOMER_SURVEY"))},[]),W.useEffect(()=>{s&&((async()=>{E(!0);try{const j=await Vd();x(j)}catch(j){console.error("Failed to load drafts",j),alert("")}finally{E(!1)}})(),g(null))},[s]);const ce=O=>{u(O),i(!0)},Se=()=>{c&&(me(void 0),te(null),t(c),i(!1))},je=O=>{me(O.data),te(O.id),t(O.type),i(!1)},M=O=>{Z({isOpen:!0,message:"",onConfirm:async()=>{try{await FT(O);const j=await Vd();x(j),p&&c&&j.filter(S=>S.type===c&&(S.data.project||"")===p).length===0&&g(null),Z(D=>({...D,isOpen:!1}))}catch(j){console.error("Failed to delete draft",j),alert("")}}})};if(r==="SAFETY_TRAINING")return o.jsx(ZT,{initialData:B,initialDraftId:de,onBackToMenu:()=>t("HOME")});if(r==="DISASTER_COUNCIL")return o.jsx(tj,{initialData:B,initialDraftId:de,onBackToMenu:()=>t("HOME")});if(r==="SAFETY_PLAN")return o.jsx(ij,{initialData:B,initialDraftId:de,onBackToMenu:()=>t("HOME")});if(r==="NEWCOMER_SURVEY")return o.jsx(fj,{initialData:B,initialDraftId:de,onBackToMenu:()=>t("HOME")});const A=()=>{if(!s||!c)return null;const j=m.filter(D=>D.type===c).reduce((D,S)=>{const be=S.data.project||"";return D[be]||(D[be]=[]),D[be].push(S),D},{});return o.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900 bg-opacity-80 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full overflow-hidden flex flex-col max-h-[90vh]",children:[o.jsxs("div",{className:"bg-gray-800 text-white p-4 flex justify-between items-center shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[p&&o.jsx("button",{onClick:()=>g(null),className:"mr-1 text-gray-300 hover:text-white",children:o.jsx("i",{className:"fa-solid fa-arrow-left"})}),o.jsx("h3",{className:"font-bold text-lg",children:p?"":""})]}),o.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-white",children:o.jsx("i",{className:"fa-solid fa-xmark text-xl"})})]}),o.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:v?o.jsxs("div",{className:"flex justify-center items-center py-10",children:[o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"}),o.jsx("span",{className:"ml-3 text-gray-500",children:"..."})]}):p?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-50 p-3 rounded border text-sm text-gray-600 mb-4",children:[o.jsx("i",{className:"fa-solid fa-building mr-2"}),p]}),o.jsx("h4",{className:"text-gray-500 text-sm font-bold mb-2 uppercase tracking-wide",children:""}),o.jsx("div",{className:"space-y-3",children:j[p].map(D=>o.jsxs("div",{className:"border rounded-lg p-3 hover:bg-blue-50 transition-colors flex justify-between items-center group bg-white shadow-sm",children:[o.jsxs("div",{className:"cursor-pointer flex-1",onClick:()=>je(D),children:[o.jsxs("div",{className:"font-bold text-blue-800 text-lg",children:[o.jsx("i",{className:"fa-regular fa-calendar-check mr-2"}),D.type==="SAFETY_TRAINING"?`${D.data.month}`:D.type==="DISASTER_COUNCIL"?`${D.data.count}`:D.type==="NEWCOMER_SURVEY"?D.data.name||"":`${D.data.month} `]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1 pl-7",children:[": ",new Date(D.lastModified).toLocaleString("ja-JP")]})]}),o.jsx("button",{onClick:S=>{S.stopPropagation(),M(D.id)},className:"ml-3 p-3 text-gray-400 hover:text-red-500 rounded-full hover:bg-red-50 transition-colors",title:"",children:o.jsx("i",{className:"fa-solid fa-trash"})})]},D.id))})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8 space-y-3",children:[o.jsxs("button",{onClick:Se,className:"w-full py-4 bg-blue-600 text-white rounded-lg font-bold shadow-md hover:bg-blue-700 flex items-center justify-center gap-2 transition-transform transform hover:scale-[1.01]",children:[o.jsx("i",{className:"fa-solid fa-file-circle-plus text-xl"}),""]}),c==="NEWCOMER_SURVEY"&&o.jsxs("button",{onClick:()=>U(!0),className:"w-full py-4 bg-purple-600 text-white rounded-lg font-bold shadow-md hover:bg-purple-700 flex items-center justify-center gap-2 transition-transform transform hover:scale-[1.01]",children:[o.jsx("i",{className:"fa-solid fa-qrcode text-xl"}),"QR"]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h4",{className:"text-gray-500 text-sm font-bold mb-3 uppercase tracking-wide",children:""}),Object.keys(j).length===0?o.jsx("div",{className:"text-center py-8 text-gray-400 bg-gray-50 rounded-lg",children:""}):o.jsx("div",{className:"space-y-3",children:Object.entries(j).map(([D,S])=>o.jsxs("button",{onClick:()=>g(D),className:"w-full text-left border rounded-lg p-4 hover:bg-blue-50 transition-colors flex justify-between items-center group shadow-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-gray-800 text-sm mb-1",children:D}),o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsx("i",{className:"fa-regular fa-folder-open mr-1"}),S.length," "]})]}),o.jsx("i",{className:"fa-solid fa-chevron-right text-gray-300 group-hover:text-blue-400"})]},D))})]})]})})]})})},R=`${window.location.protocol}//${window.location.host}${window.location.pathname}?form=newcomer`;return o.jsxs("div",{className:"min-h-screen bg-gray-100 font-sans text-gray-800",children:[o.jsxs("header",{className:"bg-slate-800 text-white p-6 shadow-md text-center",children:[o.jsxs("h1",{className:"text-2xl font-bold tracking-wide",children:[o.jsx("i",{className:"fa-solid fa-building-shield mr-2"}),""]}),o.jsx("p",{className:"text-slate-400 text-sm mt-2",children:""})]}),o.jsxs("main",{className:"max-w-4xl mx-auto p-6 mt-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-700 border-l-4 border-slate-800 pl-3",children:""}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("button",{onClick:()=>ce("SAFETY_TRAINING"),className:"flex flex-col items-center p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all transform hover:-translate-y-1 border-t-4 border-blue-600 group",children:[o.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-blue-100 transition-colors",children:o.jsx("i",{className:"fa-solid fa-helmet-safety text-4xl text-blue-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:""}),o.jsx("p",{className:"text-xs text-gray-500 text-center",children:""})]}),o.jsxs("button",{onClick:()=>ce("DISASTER_COUNCIL"),className:"flex flex-col items-center p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all transform hover:-translate-y-1 border-t-4 border-green-600 group",children:[o.jsx("div",{className:"w-20 h-20 bg-green-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-green-100 transition-colors",children:o.jsx("i",{className:"fa-solid fa-users-rectangle text-4xl text-green-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:""}),o.jsx("p",{className:"text-xs text-gray-500 text-center",children:""})]}),o.jsxs("button",{onClick:()=>ce("SAFETY_PLAN"),className:"flex flex-col items-center p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all transform hover:-translate-y-1 border-t-4 border-orange-500 group",children:[o.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-orange-100 transition-colors",children:o.jsx("i",{className:"fa-solid fa-clipboard-list text-4xl text-orange-500"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:""}),o.jsx("p",{className:"text-xs text-gray-500 text-center",children:""})]}),o.jsxs("button",{onClick:()=>ce("NEWCOMER_SURVEY"),className:"flex flex-col items-center p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all transform hover:-translate-y-1 border-t-4 border-purple-600 group",children:[o.jsx("div",{className:"w-20 h-20 bg-purple-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-purple-100 transition-colors",children:o.jsx("i",{className:"fa-solid fa-person-circle-question text-4xl text-purple-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:""}),o.jsx("p",{className:"text-xs text-gray-500 text-center",children:""})]})]})]}),o.jsxs("footer",{className:"mt-12 text-center text-gray-400 text-sm pb-8",children:[o.jsx("div",{children:" 2026 Matsuura Construction App"}),o.jsx("div",{className:"mt-1",children:"Ver.1.2.1"})]}),A(),o.jsx(mj,{isOpen:P.isOpen,message:P.message,onConfirm:P.onConfirm,onCancel:()=>Z(O=>({...O,isOpen:!1}))}),o.jsx(gj,{isOpen:T,onClose:()=>U(!1),url:R})]})},Vv=document.getElementById("root");if(!Vv)throw new Error("Could not find root element to mount to");const yj=E1.createRoot(Vv);yj.render(o.jsx(Dt.StrictMode,{children:o.jsx(pj,{})}));
